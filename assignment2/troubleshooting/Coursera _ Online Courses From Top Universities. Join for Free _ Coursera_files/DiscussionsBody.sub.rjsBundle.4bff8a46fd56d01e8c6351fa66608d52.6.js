define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});

define("nls/scribe-plugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ui",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/author-code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});


define('css!bundles/userModal/styl/userModal',[],function(){})
define("nls/asset-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/scribe-plugins/styles/scribe-image-upload-command',[],function(){})
define("nls/cml",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/discussions/components/sessionFilter/__styles__/SessionFilterDropdown',[],function(){})
define("bundles/discussions/components/sessionFilter/SessionFilterDropdown",["require","exports","module","underscore","react","moment","classnames","react-bootstrap","js/lib/coursera.react-intl","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/waitFor","i18n!nls/discussions","css!bundles/discussions/components/sessionFilter/__styles__/SessionFilterDropdown"],function(require,exports,module){function _defaults(e,s){for(var i=Object.getOwnPropertyNames(s),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(s,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i,o,_=require("underscore"),e=require("react"),t=require("moment"),a=require("classnames"),s=require("react-bootstrap"),d=s.DropdownButton,r=s.MenuItem,c=require("js/lib/coursera.react-intl"),u=c.FormattedMessage,p=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),f=require("js/lib/waitFor"),l="MMM DD, YYYY",n=require("i18n!nls/discussions");require("css!bundles/discussions/components/sessionFilter/__styles__/SessionFilterDropdown");var b=(o=i=function(s){function SessionFilterDropdown(o,l){_classCallCheck(this,SessionFilterDropdown);var i=_possibleConstructorReturn(this,s.call(this,o,l));if(i.handleDropdownChange=function(e){var t=void 0,r=void 0,n=void 0;e.startsWith("all~")?(t=i.props.branches.find(function(t){return t.id===e.substring(4,e.length)}),r=t.filters.find(function(e){return"all"===e.id}),n="all"):(t=i.props.branches.find(function(t){return!!t.filters.find(function(t){return t.id===e})}),r=t.filters.find(function(t){return t.id===e}),n=e),i.setState({selectedFilter:r}),i.props.handleDropdownChange(n,t.id)},i.buildBranchMenuItemDisplay=function(t){return e.createElement(r,{key:t.id,eventKey:t.id,disabled:!0,className:"disabled"},e.createElement("div",{className:"horizontal-box"},t.label))},i.buildAllBranchFilterMenuItemDisplay=function(t){return t.filters.map(function(t){if(i.props.hideAllSessionsOption&&"all"===t.id)return null;var n="all"!==t.id?t.id:"all~"+t.branchId,s=a({"body-2-text":t.id===i.state.selectedFilter.id&&t.branchId===i.state.selectedFilter.branchId});return e.createElement(r,{key:n,eventKey:n},e.createElement("div",{className:s},i.buildFilterMenuItemDisplay(t,!0)))})},i.buildFilterMenuItemDisplay=function(r,s){if("ondemand"===r.id||"all"===r.id)return e.createElement("div",{className:"horizontal-box menu-item-box"},s&&e.createElement("span",null," - "),i.buildFilterDisplayString(r,s),"ondemand"===r.id&&s&&e.createElement("div",{className:"menu-item-label caption-text color-secondary-text"},n("Active")));var o=i.props.allSessions.find(function(e){return e.id===r.id}),l=_(o.moduleDeadlines).chain().sortBy(function(e){return e.startedAt}).find(function(e){return t(e.deadline).isAfter(t())}).value(),a=l&&t(l).diff(t(o.startedAt),"weeks")+1;return e.createElement("div",{className:"horizontal-box menu-item-box"},s&&e.createElement("span",null," - "),i.buildFilterDisplayString(r,s),s&&a>0&&t(o.endedAt).isAfter(t())&&e.createElement("div",{className:"menu-item-label caption-text color-secondary-text"},e.createElement(u,{message:n("Week {weekNumber} assignment due"),weekNumber:a})))},o.hideAllSessionsOption&&"all"===o.selectedFilter.id){var d=o.branches.find(function(e){return e.id===o.currentBranchId})||o.branches[0];i.state={selectedFilter:d.filters.find(function(e){return"all"!==e.id})},o.handleDropdownChange(i.state.selectedFilter.id)}else i.state={selectedFilter:o.selectedFilter};return i}return _inherits(SessionFilterDropdown,s),SessionFilterDropdown.prototype.buildFilterDisplayString=function buildFilterDisplayString(e,n){var r=this.props.branches.find(function(t){return t.id===e.branchId});if("ondemand"===e.id)return n?"Self Paced":"Self Paced ("+r.label+")";if("all"===e.id)return"All sessions for "+r.label;var i=t(e.startedAt).format(l),o=t(e.endedAt).format(l),s=i+" - "+o;return n?s:s+(" ("+r.label+")")},SessionFilterDropdown.prototype.render=function render(){var t=this;if(!this.props.branches||0===this.props.branches.length)return null;var n=this.props.limitSwitchingToCurrentBranch?this.props.branches.filter(function(e){return e.id===t.props.currentBranchId}):this.props.branches;return e.createElement("div",{className:"rc-SessionFilterDropdown body-1-text"},e.createElement("div",{className:"dropdown-section"},e.createElement(d,{id:this.props.id,title:this.buildFilterMenuItemDisplay(this.state.selectedFilter,!1),onSelect:this.handleDropdownChange},n.map(function(s,i){return[n.length>1?t.buildBranchMenuItemDisplay(s):null].concat(_toConsumableArray(t.buildAllBranchFilterMenuItemDisplay(s)),[i===n.length-1?null:e.createElement(r,{className:"disabled",disabled:!0,key:s.id+"spacer"}," ")])}))))},SessionFilterDropdown}(e.Component),i.propTypes={handleDropdownChange:e.PropTypes.func.isRequired,id:e.PropTypes.string,branches:e.PropTypes.arrayOf(e.PropTypes.shape({id:e.PropTypes.string,label:e.PropTypes.string,filters:e.PropTypes.arrayOf(e.PropTypes.shape({branchId:e.PropTypes.string.isRequired,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number}))})),allSessions:e.PropTypes.array,selectedFilter:e.PropTypes.shape({id:e.PropTypes.string.isRequired,startedAt:e.PropTypes.number,endedAt:e.PropTypes.number}),hideAllSessionsOption:e.PropTypes.bool,limitSwitchingToCurrentBranch:e.PropTypes.bool,currentBranchId:e.PropTypes.string},o);module.exports=_.compose(p(["SessionFilterStore"],function(t,r){var e=t.SessionFilterStore;return{branches:e.branches,sessionsLoaded:e.filtersLoaded,selectedFilter:e.activeFilter,allSessions:e.allSessions,currentBranchId:e.currentBranchId}}),f(function(e){return e.sessionsLoaded},e.createElement("div",{className:"padded-label"},n("Loading sessions..."))))(b)});

define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/naptimejs",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/identity",["require","exports","module"],function(require,exports,module){module.exports=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/payments",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});



define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/payments-common",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/s12n-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});



define("nls/enroll-course",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/certificate-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/discussions/utils/routerConnectToCurrentForum",["require","exports","module","bundles/discussions/constants","js/lib/path"],function(require,exports,module){var o=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},n=require("bundles/discussions/constants"),r=n.naptimeForumTypes,e=require("js/lib/path");module.exports=function(t,n){if(!n.courseSlug)throw new Error("routerConnectToCurrentForum requires course slug as argument");var s=n.courseForums||[],F=n.mentorForums||[],d=n.groupForums||[],l=n.weekNumber||t.params.week_number,f=n.forumId||t.params.forum_id,m=n.groupId||t.params.group_id,T=n.itemId||t.location.pathname.indexOf("/discussionPrompt/")<0&&t.params.item_id,u=void 0;if(l){var p=s.find(function(r){return"weekForumType"===r.forumType.typeName&&r.forumType.definition.weekNumber===parseInt(l,10)});u=p&&p.id}else if(m){var a=d.find(function(r){return r.forumType.definition.groupId===m});a||(a=d.find(function(r){return r.forumId===m})),u=a&&a.id}else if(f){var b=s.concat(F),y=b.find(function(r){return r.forumId===f||r.legacyForumId===f});u=y&&y.id}else if(T){var g=s.find(function(r){return r.forumType.definition.itemId===T});u=g&&g.id}else{var v=s.find(function(e){return e.forumType.typeName===r.rootForumType});u=v&&v.id}var i=s.concat(F).concat(d).find(function(r){return r.id===u}),c=void 0;if(i&&i.forumType.typeName===r.itemForumType){var I=t.location.pathname.split("discussions");I.pop(),c=e.join(I.join("discussions"),"discussions")}else i&&(c=e.join("/learn",n.courseSlug,i.link));return o({},n,{currentForumId:u,currentForum:i,currentForumUrl:c,rootPath:"/learn/"+n.courseSlug,contextId:i&&(i.forumType.typeName===r.groupForumType?m:n.courseId)})}});

define('css!bundles/discussions/components/__styles__/NewThreadButton',[],function(){})
define("bundles/discussions/components/NewThreadButton",["require","exports","module","react","react-dom","underscore","js/lib/path","bundles/page/components/TrackedButton","bundles/phoenix/components/Modal","bundles/iconfont/Icon","bundles/discussions/components/NewThreadFormComponents","bundles/discussions/components/sessionFilter/SessionFilterDropdown","bundles/discussions/actions/ThreadsActions","pages/open-course/common/utils/ensureEnrolled","bundles/discussions/utils/discussionsUrl","bundles/cml/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/constants","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","js/lib/waitFor","js/lib/mapProps","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/utils/routerConnectToCurrentForum","bundles/discussions/components/discussionsForumsHOC","js/lib/provideFluxibleAppContext","i18n!nls/discussions","css!bundles/discussions/components/__styles__/NewThreadButton"],function(require,exports,module){function _defaults(e,o){for(var n=Object.getOwnPropertyNames(o),t=0;t<n.length;t++){var s=n[t],r=Object.getOwnPropertyDescriptor(o,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var a,c,e=require("react"),o=require("react-dom"),_=require("underscore"),T=require("js/lib/path"),n=require("bundles/page/components/TrackedButton"),A=require("bundles/phoenix/components/Modal"),k=require("bundles/iconfont/Icon"),r=require("bundles/discussions/components/NewThreadFormComponents"),p=r.TitleInput,m=r.ContentInput,h=r.ForumSelector,f=require("bundles/discussions/components/sessionFilter/SessionFilterDropdown"),v=require("bundles/discussions/actions/ThreadsActions"),b=v.addThread,y=require("pages/open-course/common/utils/ensureEnrolled"),B=require("bundles/discussions/utils/discussionsUrl"),g=B.buildUrl,S=require("bundles/cml/utils/CMLUtils"),F=require("bundles/discussions/utils/DiscussionsCMLUtils"),i=require("bundles/discussions/constants"),E=i.DTD_NAME,s=i.savingStates,l=i.naptimeForumTypes,w=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),C=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),N=require("bundles/naptimejs/resources/groupForums.v1"),I=require("js/lib/waitFor"),x=require("js/lib/mapProps"),M=require("js/lib/connectToRouter"),P=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),j=require("bundles/discussions/utils/routerConnectToCurrentForum"),O=require("bundles/discussions/components/discussionsForumsHOC"),D=require("js/lib/provideFluxibleAppContext"),t=require("i18n!nls/discussions");require("css!bundles/discussions/components/__styles__/NewThreadButton");var d=(c=a=function(r){function NewThreadButton(t,s){_classCallCheck(this,NewThreadButton);var e=_possibleConstructorReturn(this,r.call(this,t,s));return e.handleSubmit=function(){var r=_(e.state).any(function(e){return e.hasError});if(r)e.state.title.hasError?o.findDOMNode(e.refs.title).focus():e.state.content.hasError?o.findDOMNode(e.refs.content.refs.content.refs.editorWrapper.refs.editor).focus():e.state.currentForum.hasError&&o.findDOMNode(e.refs.currentForum).focus(),e.setState({showErrors:!0});else{var t={title:e.state.title.value,content:e.state.content.value};e.props.showSessionSelector?t.context=e.state.activeFilterId:e.props.filter&&(t.context=e.props.filter.id);var s=e.state.currentForum,n=!!t.context&&"all"!==t.context&&"ondemand"!==t.context,a={content:{question:t.title,details:t.content},overrideSessionId:n?t.context:void 0,state:{},userId:e.props.userId,courseForumId:s.value.id,mentorForumId:s.value.id,groupForumId:s.value.id},i=s.value.forumId,l=s.value.forumType&&s.value.forumType.typeName;e.setState({saving:!0}),e.context.executeAction(b,{options:a,forumType:l,forumId:i})}},e.handleDropdownChange=function(t){e.setState({activeFilterId:t})},e.handleOpenModal=function(){var t=e.props,s=t.userId,r=t.course,o=t.verificationDisplay;y(s,r,o).then(function(){return e.handleOpen()})},e.handleCloseModal=function(t){"x"===t?e.setState(e.resetState()):e.setState({showModal:!1})},e.handleCloseModalByX=e.handleCloseModal.bind(e,"x"),e.handleInputChange=function(t,s){e.state[t].value=s.value,e.state[t].hasError=!s.isValid,e.setState(e.state)},e.state=e.resetState(),e}return _inherits(NewThreadButton,r),NewThreadButton.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){if(!this.state.saving){var t=this.props.currentForum,r=!t;this.setState({currentForum:{value:t,hasError:r}})}this.props.threadSavingState===s.SAVING&&e.threadSavingState===s.SAVED?this.handleSaveSuccess(e.newThread):this.props.threadSavingState===s.SAVING&&e.threadSavingState===s.ERROR&&this.handleSaveError()},NewThreadButton.prototype.handleSaveSuccess=function handleSaveSuccess(e){var t=T.join(this.props.rootPath,this.state.currentForum.value.link);this.context.router.push(g(t,e.questionId)),this.setState(this.resetState())},NewThreadButton.prototype.handleSaveError=function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:t("Something went wrong. Please reload the page and try again."),saving:!1})},NewThreadButton.prototype.handleOpen=function handleOpen(){this.setState({showModal:!this.state.showModal})},NewThreadButton.prototype.resetState=function resetState(){var e=this.props.currentForum,t=!e;return{showModal:!1,title:{value:"",hasError:!0},content:{value:S.create("",E),hasError:!0},currentForum:{value:e,hasError:t},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:""}},NewThreadButton.prototype.render=function render(){var s=this,i=F.generateContentLengthWarning(this.state.content.value),l=e.createElement("div",{className:"error-text c-modal-error-message"},this.state.saveErrorMessage),r=null,u=this.state.currentForum.value,c=this.props.forums.filter(function(e){return!e.parentForumId||e.parentForumId===s.props.rootForumId}),o=_(c.map(function(e){return[e].concat(s.props.forums.filter(function(t){return t.parentForumId===e.id}))})).flatten();o.length&&(r=e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area",htmlFor:"forum-selector"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Forum"))),e.createElement(h,{ref:"currentForum",id:"forum-selector",rootForumId:this.props.rootForumId,hasError:this.state.showErrors&&this.state.currentForum.hasError,handleInputChange:this.handleInputChange,forums:o,value:u})));var a=void 0;this.props.showSessionSelector&&(a=e.createElement("div",{className:"context-selector-container"},e.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),e.createElement("div",{className:"c-input-area"},e.createElement("h3",{className:"headline-1-text"},t("You're currently viewing All Sessions.")),e.createElement("label",{htmlFor:"new-thread-sessions-switcher"},e.createElement("span",{className:"caption-text color-secondary-text"},t("Which session should this thread go in?"))),e.createElement(f,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,limitSwitchingToCurrentBranch:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var d=e.createElement(A,{handleClose:this.handleCloseModal,modalName:t("Create a new thread"),className:"new-thread-modal"},e.createElement("h1",{className:"c-modal-title headline-3-text"},t("Create a new thread")),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area",htmlFor:"title-input"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Title"))),e.createElement(p,{id:"title-input",ref:"title",hasError:this.state.showErrors&&this.state.title.hasError,value:this.state.title.value,handleInputChange:this.handleInputChange})),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area",htmlFor:"content-input"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Body"))),e.createElement(m,{id:"content-input",ref:"content",courseId:this.props.courseId,hasError:this.state.showErrors&&this.state.content.hasError,handleInputChange:this.handleInputChange,cml:this.state.content.value})),r,a,e.createElement("div",null,i,this.state.saveError&&l,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{className:"passive",onClick:this.handleCloseModalByX},t("Cancel")),"  ",e.createElement(n,{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit,trackingName:"new_thread_create"},t("Post")))));return e.createElement("div",{className:"rc-NewThreadForm shrink-block horizontal-box align-items-right"},e.createElement(n,{ref:"newThreadButton",className:"c-new-thread-button secondary large-screen",onClick:this.handleOpenModal,trackingName:"new_thread_button"},t("New Thread")),e.createElement(n,{ref:"newThreadButton",className:"nostyle align-right mobile hide",onClick:this.handleOpenModal,trackingName:"new_thread_button"},e.createElement(k,{name:"plus"})),this.state.showModal&&d)},NewThreadButton}(e.Component),a.propTypes={userId:e.PropTypes.number,rootForumId:e.PropTypes.string,forums:e.PropTypes.arrayOf(e.PropTypes.object),currentForumId:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(w),e.PropTypes.instanceOf(C),e.PropTypes.instanceOf(N)]),showSessionSelector:e.PropTypes.bool,rootPath:e.PropTypes.string,filter:e.PropTypes.shape({id:e.PropTypes.string}),threadSavingState:e.PropTypes.string,courseId:e.PropTypes.string,course:e.PropTypes.object,verificationDisplay:e.PropTypes.object},a.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},c),u=_.compose(P(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore","VerificationStore","CourseStore"],function(e,i){var t=e.SessionFilterStore,s=e.ThreadsStore,r=e.ApplicationStore,n=e.CourseMembershipStore,a=e.VerificationStore,o=e.CourseStore;return{showSessionSelector:(r.isSuperuser()||n.hasModerationRole())&&"all"===t.activeFilterQueryString,filter:t.activeFilter,threadSavingState:s.savingState,newThread:s.threadToInsert,userId:r.getUserData().id,verificationDisplay:a.getVerificationDisplay(),course:o.getMetadata(),courseId:o.getCourseId()}}),O({fields:["forumType","title","link"]}),M(j),x(function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==l.rootForumType&&e.currentForum||void 0,s=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===l.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==l.rootForumType}).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:s&&s.id,currentForum:t,currentForumId:t&&t.id}}),I(function(e){return e.forums.length}))(d);module.exports=D()(u),module.exports.NewThreadButtonNaptimeContainer=u,module.exports.BaseComp=d});
define("bundles/page/components/TrackedTextInput",["require","exports","module","react","js/app/retracked"],function(require,exports,module){function _defaults(e,a){for(var o=Object.getOwnPropertyNames(a),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(a,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _objectWithoutProperties(t,n){var r={};for(var e in t){if(n.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;r[e]=t[e]}return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t,n,e=require("react"),a=require("js/app/retracked"),o=(n=t=function(t){function TrackedTextInput(){var o,e,s;_classCallCheck(this,TrackedTextInput);for(var c=arguments.length,p=Array(c),n=0;c>n;n++)p[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(p))),e.trackClick=function(t){a.trackComponent(e.context._eventData,e.props.data,e.props.trackingName,"click"),e.props.onClick&&e.props.onClick(t)},e.trackKeyPress=function(t){"Enter"===t.key&&a.trackComponent(e.context._eventData,r({},e.props.data,{inputValue:e.refs.input.value,pressedKey:t.key}),e.props.trackingName,"key_press"),e.props.onKeyPress&&e.props.onKeyPress(t)},s=o,_possibleConstructorReturn(e,s)}return _inherits(TrackedTextInput,t),TrackedTextInput.prototype.render=function render(){var a=this.context._eventData&&this.context._eventData.namespace||{},s=a.app,c=a.page,n=void 0,p=this.props.trackingName,t=this.props,k=t.trackingName,i=t.className,u=t.data,l=t.onClick,f=t.onKeyPress,y=t.children,o=_objectWithoutProperties(t,["trackingName","className","data","onClick","onKeyPress","children"]);return n=this.onKeyPress?"key_press":"click",e.createElement("input",r({ref:"input",onClick:this.trackClick,onKeyPress:this.trackKeyPress,"data-track":!0,"data-track-app":s,"data-track-page":c,"data-track-action":n,"data-track-component":p,className:this.props.className},o),this.props.children)},TrackedTextInput}(e.Component),t.propTypes={trackingName:e.PropTypes.string.isRequired,className:e.PropTypes.string,data:e.PropTypes.object,onClick:e.PropTypes.func,onKeyPress:e.PropTypes.func,children:e.PropTypes.node},t.contextTypes={_eventData:e.PropTypes.object},n);module.exports=o});

define('css!bundles/discussions/components/search/__styles__/SearchBar',[],function(){})
define("bundles/discussions/components/search/SearchBar",["require","exports","module","react","react-dom","i18n!nls/discussions","bundles/page/components/TrackedTextInput","css!./__styles__/SearchBar.css"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),r=0;r<a.length;r++){var t=a[r],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),o=require("react-dom"),n=require("i18n!nls/discussions"),a=require("bundles/page/components/TrackedTextInput");require("css!./__styles__/SearchBar.css");var s=(t=r=function(r){function SearchBar(){var n,e,o;_classCallCheck(this,SearchBar);for(var a=arguments.length,s=Array(a),t=0;a>t;t++)s[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(s))),e.handleChange=function(r){e.props.handleChange(r.target.value)},e.handleSubmitClick=function(r){r.preventDefault(),e.props.handleSubmit()},e.handleClear=function(t){var r=e.context.router.location.query;r.q||e.props.handleBlur(),delete r.q,e.context.router.push({pathname:e.context.router.location.pathname,params:e.context.router.params,query:r})},e.handleBlur=function(r){e.props.handleBlur&&e.props.handleBlur()},e.checkForEnter=function(r){"Enter"===r.key&&e.props.handleSubmit()},e.submitKeyDown=function(r){"Tab"===r.key&&e.props.handleBlur?e.props.handleBlur():("Enter"===r.key||" "===r.key)&&e.props.handleSubmit()},o=n,_possibleConstructorReturn(e,o)}return _inherits(SearchBar,r),SearchBar.prototype.componentDidMount=function componentDidMount(){this.props.focus&&o.findDOMNode(this.refs.searchbox).focus()},SearchBar.prototype.render=function render(){var r=e.createElement("i",{onMouseDown:this.handleClear,ref:"clear",className:"cif-cancel-hint close-icon"});return e.createElement("div",{className:"rc-SearchBar search-bar expand-block expanded flex-1"},e.createElement("div",{className:"input-area"},e.createElement(a,{trackingName:"search_bar",value:this.props.query,onChange:this.handleChange,onKeyPress:this.checkForEnter,ref:"searchbox",onBlur:this.handleBlur,placeholder:n("Search"),className:"search-input"}),"string"==typeof this.props.query&&r),e.createElement("button",{onMouseDown:this.handleSubmitClick,onKeyDown:this.submitKeyDown,ref:"submit",className:"search-button","aria-label":n("submit search")},e.createElement("i",{className:"cif-search"})))},SearchBar}(e.Component),r.propTypes={handleSubmit:e.PropTypes.func.isRequired,handleChange:e.PropTypes.func.isRequired,query:e.PropTypes.string.isRequired,handleBlur:e.PropTypes.func,focus:e.PropTypes.bool},r.contextTypes={router:e.PropTypes.object.isRequired},r.defaultProps={handleBlur:function handleBlur(){}},t);module.exports=s});

define('css!bundles/discussions/components/search/__styles__/SearchBox',[],function(){})
define("bundles/discussions/components/search/SearchBox",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/components/search/SearchBar","bundles/page/components/TrackedTextInput","css!./__styles__/SearchBox"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],a=Object.getOwnPropertyDescriptor(n,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,a,e=require("react"),r=require("i18n!nls/discussions"),n=require("bundles/discussions/components/search/SearchBar"),s=require("bundles/page/components/TrackedTextInput");require("css!./__styles__/SearchBox");var o=(a=t=function(t){function SearchBox(){var a,e,n;_classCallCheck(this,SearchBox);for(var s=arguments.length,o=Array(s),r=0;s>r;r++)o[r]=arguments[r];return a=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(o))),e.state={showBar:!1,query:""},e.handleQueryChange=function(t){e.setState({query:t})},e.handleFocus=function(){e.setState({showBar:!0}),e.props.animateToSearch()},e.handleBlur=function(){e.setState({showBar:!1}),e.props.animateFromSearch()},e.submitSearch=function(){if(e.state.query){var t=e.state.query.replace("*","");e.context.router.push({pathname:e.context.router.location.pathname,params:{},query:{q:t}})}},n=a,_possibleConstructorReturn(e,n)}return _inherits(SearchBox,t),SearchBox.prototype.render=function render(){return this.state.showBar?e.createElement(n,{query:this.state.query,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,focus:!0}):e.createElement("div",{className:"rc-SearchBox expand-block"},e.createElement("div",{className:"large-screen search-bar"},e.createElement("div",{className:"input-area"},e.createElement(s,{trackingName:"search_box",onClick:this.handleFocus,placeholder:r("Search"),value:this.state.query,className:"search-box search-input"})),e.createElement("button",{className:"search-button hide",onClick:this.handleFocus,"aria-label":r("expand search box")},e.createElement("i",{className:"cif-search"}))),e.createElement("div",{className:"mobile hide horizontal-box align-items-right"},e.createElement("button",{className:"nostyle",onClick:this.handleFocus,"aria-label":r("expand search box")},e.createElement("i",{className:"cif-search"}))))},SearchBox}(e.Component),t.propTypes={animateToSearch:e.PropTypes.func.isRequired,animateFromSearch:e.PropTypes.func.isRequired},t.contextTypes={router:e.PropTypes.object.isRequired},a);module.exports=o});

define('css!bundles/discussions/components/__styles__/ControlsBar',[],function(){})
define("bundles/discussions/components/ControlsBar",["require","exports","module","classnames","react","bundles/discussions/components/NewThreadButton","bundles/discussions/components/search/SearchBox","bundles/discussions/constants","i18n!nls/discussions","css!./__styles__/ControlsBar"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),t=0;t<n.length;t++){var o=n[t],s=Object.getOwnPropertyDescriptor(r,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,i=require("classnames"),e=require("react"),a=require("bundles/discussions/components/NewThreadButton"),c=require("bundles/discussions/components/search/SearchBox"),s=require("bundles/discussions/constants").questionSorts,n=s.mostRecentSort,l=s.popularSort,u=s.unansweredSort,o=require("i18n!nls/discussions");require("css!./__styles__/ControlsBar");var p=(r=t=function(t){function ControlsBar(){var s,e,r;_classCallCheck(this,ControlsBar);for(var n=arguments.length,a=Array(n),o=0;n>o;o++)a[o]=arguments[o];return s=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.handleChangeSort=function(t){var o=window.location.pathname+"?sort="+t.target.value+"&page=1";e.context.router.push(o)},r=s,_possibleConstructorReturn(e,r)}return _inherits(ControlsBar,t),ControlsBar.prototype.render=function render(){var t=i("rc-ControlsBar","styleguide","horizontal-box","align-items-vertical-center",{"in-search-mode":this.props.inSearch});return e.createElement("div",{className:t},e.createElement("div",{className:"flex-2 shrink-block"},e.createElement("span",{className:"label-text color-secondary-text sort-label"},o("Sort By:")),e.createElement("select",{className:"color-secondary-text sort-select",onChange:this.handleChangeSort,value:this.props.sort},e.createElement("option",{value:n},o("Latest")),e.createElement("option",{value:l},o("Top")),e.createElement("option",{value:u},o("Unanswered")))),this.props.showSearchBox&&e.createElement(c,{animateToSearch:this.props.toggleSearch,animateFromSearch:this.props.toggleSearch}),e.createElement(a,null))},ControlsBar}(e.Component),t.propTypes={inSearch:e.PropTypes.bool.isRequired,toggleSearch:e.PropTypes.func.isRequired,sort:e.PropTypes.string,showSearchBox:e.PropTypes.bool},t.contextTypes={router:e.PropTypes.object.isRequired},t.defaultProps={sort:n,showSearchBox:!0},r);module.exports=p});

define('css!bundles/discussions/components/__styles__/ListBody',[],function(){})
define("bundles/discussions/components/ListBody",["require","exports","module","react","i18n!nls/discussions","classnames","bundles/discussions/constants","css!./__styles__/ListBody"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,e=require("react"),o=require("i18n!nls/discussions"),r=require("classnames"),i=require("bundles/discussions/constants"),t=i.loadingStates;require("css!./__styles__/ListBody");var a=(n=s=function(s){function ListBody(){var n,t,o;_classCallCheck(this,ListBody);for(var r=arguments.length,i=Array(r),e=0;r>e;e++)i[e]=arguments[e];return n=t=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(i))),t.state={transitionEnded:!1},o=n,_possibleConstructorReturn(t,o)}return _inherits(ListBody,s),ListBody.prototype.componentDidMount=function componentDidMount(){this.refs.body.addEventListener("transitionend",function(e){this.setState({transitionEnded:!0})}.bind(this))},ListBody.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.setState({transitionEnded:!1})},ListBody.prototype.render=function render(){var s=void 0;s=this.props.loadingState===t.DONE&&this.props.children.length>0?e.createElement("ol",{className:"nostyle"},this.props.children):this.props.loadingState===t.DONE&&0===this.props.children.length?e.createElement("div",{className:"message color-hint-text"},this.props.emptyStatePlaceholderText):this.props.loadingState===t.ERROR?e.createElement("div",{className:"message color-hint-text"},o("There was a problem, please reload the page and try again.")):this.props.loadingState===t.LOADING?e.createElement("div",{className:"message"},e.createElement("i",{className:"cif-spinner cif-spin cif-2x"})):e.createElement("div",null);var n=r("rc-ListBody",{"c-list-expanded":this.props.loadingState===t.DONE&&this.props.children.length>0,"c-post-transition":this.state.transitionEnded}),i=r("c-pre-fossil",{"c-fossilized":this.props.fossilized});return e.createElement("div",{className:n,ref:"body"},e.createElement("div",{className:i}),s)},ListBody}(e.Component),s.propTypes={loadingState:e.PropTypes.string.isRequired,children:e.PropTypes.array,fossilized:e.PropTypes.bool,emptyStatePlaceholderText:e.PropTypes.string},s.defaultProps={children:[],fossilized:!1,emptyStatePlaceholderText:o("No Results")},n);module.exports=a});

define('css!bundles/phoenix/components/__styles__/ProfileImage',[],function(){})
define("nls/classmates",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/classmates/components/__styles__/ProfileImageWithRole',[],function(){})
define("bundles/classmates/components/ProfileImageWithRole",["require","exports","module","react","classnames","bundles/phoenix/components/ProfileImage","i18n!nls/classmates","css!bundles/classmates/components/__styles__/ProfileImageWithRole"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,t,e=require("react"),n=require("classnames"),s=require("bundles/phoenix/components/ProfileImage"),r=require("i18n!nls/classmates");require("css!bundles/classmates/components/__styles__/ProfileImageWithRole");var a=(t=o=function(t){function ProfileImageWithRole(){return _classCallCheck(this,ProfileImageWithRole),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(ProfileImageWithRole,t),ProfileImageWithRole.prototype.getCourseRoleIconInfo=function getCourseRoleIconInfo(e){switch(e){case"INSTRUCTOR":return{letter:r("I"),className:"bgcolor-primary"};case"MENTOR":return{letter:r("M"),className:"bgcolor-accent-brown"};default:return void 0}},ProfileImageWithRole.prototype.render=function render(){var t=this.getCourseRoleIconInfo(this.props.courseRole),o=n("course-role-icon","caption-text","horizontal-box","align-items-absolute-center",t&&t.className);return e.createElement("span",{className:"rc-ProfileImageWithRole"},e.createElement(s,{fullName:this.props.fullName,profileImageUrl:this.props.profileImageUrl,width:36,height:36}),t&&e.createElement("span",{className:o},t.letter))},ProfileImageWithRole}(e.Component),o.propTypes={courseRole:e.PropTypes.string,fullName:e.PropTypes.string.isRequired,profileImageUrl:e.PropTypes.string},t);module.exports=a});

define('css!bundles/classmates/components/__styles__/MiniProfile',[],function(){})
define("bundles/classmates/components/MiniProfile",["require","exports","module","underscore","react","classnames","bundles/classmates/actions/ClassmatesProfileActions","bundles/classmates/components/ProfileImageWithRole","bundles/classmates/utils/lib","bundles/classmates/stores/ClassmatesProfileStore","bundles/iconfont/Icon","js/lib/provideFluxibleAppContext","js/lib/setupFluxibleApp","js/lib/coursera.react-intl","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/classmates","css!./__styles__/MiniProfile.css"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),t=0;t<n.length;t++){var s=n[t],o=Object.getOwnPropertyDescriptor(r,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,_=require("underscore"),e=require("react"),r=require("classnames"),y=require("bundles/classmates/actions/ClassmatesProfileActions"),l=y.getClassmatesProfile,c=require("bundles/classmates/components/ProfileImageWithRole"),s=require("bundles/classmates/utils/lib"),a=s.getProgressString,p=s.getCourseRoleString,u=s.hasModeratorAccess,f=require("bundles/classmates/stores/ClassmatesProfileStore"),m=require("bundles/iconfont/Icon"),d=require("js/lib/provideFluxibleAppContext"),b=require("js/lib/setupFluxibleApp"),h=require("js/lib/coursera.react-intl"),n=h.FormattedMessage,g=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=require("i18n!nls/classmates");require("css!./__styles__/MiniProfile.css");var v=(o=t=function(t){function MiniProfile(){var o,s,r;_classCallCheck(this,MiniProfile);for(var n=arguments.length,i=Array(n),e=0;n>e;e++)i[e]=arguments[e];return o=s=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),s.state={transitionContainer:!1},r=o,_possibleConstructorReturn(s,r)}return _inherits(MiniProfile,t),MiniProfile.prototype.componentWillMount=function componentWillMount(){(!this.props.profile||_(this.props.profile).isEmpty())&&this.context.executeAction(l,{externalId:this.props.externalId,courseId:this.props.courseId})},MiniProfile.prototype.componentDidMount=function componentDidMount(){var e=this;this.transitionTimeout=setTimeout(function(){e.setState({transitionContainer:!0})},100)},MiniProfile.prototype.componentWillUnmount=function componentWillUnmount(){this.transitionTimeout&&clearTimeout(this.transitionTimeout)},MiniProfile.prototype.hasLoaded=function hasLoaded(){return this.props.profile&&!_(this.props.profile).isEmpty()},MiniProfile.prototype.renderCourseProgress=function renderCourseProgress(){var e=this.props.profile,t=this.props.courseRole||e.courseRole;if(u(t))return p(t);return a(e.courseProgressPercentage)},MiniProfile.prototype.renderMiniProfile=function renderMiniProfile(){var t=this.props.profile,s=this.props.courseRole||t.courseRole,o=r("profile-footer","caption-text","color-secondary-text","bgcolor-black-g1","horizontal-box","align-items-absolute-center");return e.createElement("div",{className:"vertical-box"},e.createElement("div",{className:"vertical-box profile-header align-items-vertical-center"},e.createElement("div",{className:"profile-photo"},e.createElement(c,{courseRole:s,fullName:t.fullName,profileImageUrl:t.photoUrl||""})),e.createElement("div",{className:"body-1-text"},t.fullName),e.createElement("div",{className:"caption-text color-secondary-text"},this.renderCourseProgress())),e.createElement("div",{className:o},e.createElement(n,{message:i("{postsCount} {postsCount, plural, =1 { post} other { posts}}"),postsCount:t.postsCount||"0"}),e.createElement("span",{className:"dot-spacing"}," · "),e.createElement(n,{message:i("{upvotes} {upvotes, plural, =1 { upvote} other { upvotes}}"),upvotes:t.votesReceivedCount||"0"})))},MiniProfile.prototype.renderLoading=function renderLoading(){return e.createElement("div",{className:"loading-state"},e.createElement(m,{name:"spinner",size:"3x",spin:!0}))},MiniProfile.prototype.render=function render(){var t=r("rc-MiniProfile","card-one-clicker",this.props.orientationClass,{"transition-in":this.state.transitionContainer});return e.createElement("div",{className:t},this.hasLoaded()?this.renderMiniProfile():this.renderLoading())},MiniProfile}(e.Component),t.propTypes={externalId:e.PropTypes.string.isRequired,courseId:e.PropTypes.string,courseRole:e.PropTypes.string,orientationClass:e.PropTypes.string.isRequired,profile:e.PropTypes.object},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=_.compose(d(function(e){return b(e,function(t){return t.registerStore(f),e})}),g(["CourseStore","ClassmatesProfileStore"],function(e,t){var s=e.CourseStore,o=e.ClassmatesProfileStore,r=t.externalId;return{courseId:s.getCourseId(),profile:_(o.profiles).findWhere({externalId:r})}}))(v)});
define("bundles/classmates/components/MiniProfileRenderer",["require","exports","module","jquery","react","bundles/classmates/components/MiniProfile"],function(require,exports,module){var $=require("jquery"),e=require("react"),s=require("bundles/classmates/components/MiniProfile"),i=e.createClass({displayName:"MiniProfileRenderer",propTypes:{externalId:e.PropTypes.string.isRequired,courseRole:e.PropTypes.string,source:e.PropTypes.string.isRequired},statics:{MAX_HEIGHT:200,MIN_HOVER_TIME:500},getInitialState:function getInitialState(){return{showMiniProfile:!1}},componentWillUnmount:function componentWillUnmount(){this.displayTimeout&&clearTimeout(this.displayTimeout)},displayTimeout:null,isDisplayMethodLocked:!1,display:function display(s){var e=this;if(this.isDisplayMethodLocked)return;var t=$(window).height()-(s.pageY-$(window).scrollTop())>i.MAX_HEIGHT;this.isDisplayMethodLocked=!0,this.displayTimeout=setTimeout(function(){var i=e.props.source+(t?"South":"North");e.setState({showMiniProfile:!0,className:i})},i.MIN_HOVER_TIME)},hide:function hide(e){this.displayTimeout&&clearTimeout(this.displayTimeout),this.isDisplayMethodLocked=!1,this.setState({showMiniProfile:!1})},render:function render(){return this.state.showMiniProfile&&e.createElement(s,{externalId:this.props.externalId,courseRole:this.props.courseRole,orientationClass:this.state.className})}});module.exports=i});

define('css!bundles/discussions/components/__styles__/ProfileName',[],function(){})
define("bundles/discussions/components/ProfileName",["require","exports","module","react","bundles/classmates/components/MiniProfileRenderer","bundles/discussions/utils/discussionsUrl","css!./__styles__/ProfileName"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),r=0;r<o.length;r++){var t=o[r],n=Object.getOwnPropertyDescriptor(s,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),n=require("bundles/classmates/components/MiniProfileRenderer"),s=require("bundles/discussions/utils/discussionsUrl"),o=s.getProfileLink;require("css!./__styles__/ProfileName");var i=(t=r=function(r){function ProfileName(){var n,e,s;_classCallCheck(this,ProfileName);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(a))),e.onNameClick=function(r){e.context.router.push(o(e.props.externalId))},s=n,_possibleConstructorReturn(e,s)}return _inherits(ProfileName,r),ProfileName.prototype.render=function render(){var r=this;return e.createElement("span",{className:"rc-ProfileName"},e.createElement("button",{className:"nostyle profile-name",onClick:this.onNameClick,onMouseEnter:function onMouseEnter(e){return r.refs.miniProfile.display(e)},onMouseLeave:function onMouseLeave(e){return r.refs.miniProfile.hide(e)}},this.props.fullName),e.createElement("span",{"data-js":"mini-profile"},e.createElement(n,{ref:"miniProfile",source:"profileName",externalId:this.props.externalId,userId:this.props.userId})))},ProfileName}(e.Component),r.propTypes={fullName:e.PropTypes.string.isRequired,externalId:e.PropTypes.string.isRequired,userId:e.PropTypes.number},r.contextTypes={router:e.PropTypes.object.isRequired},t);module.exports=i});
define("bundles/discussions/api/flagApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/discussions/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),r=require("bundles/discussions/constants"),n=r.naptimeForumTypes,o=e("/api/onDemandCourseForumQuestionFlags.v1/",{type:"rest"}),t=e("/api/onDemandCourseForumAnswerFlags.v1/",{type:"rest"}),u=e("/api/onDemandMentorForumQuestionFlags.v1/",{type:"rest"}),i=e("/api/onDemandMentorForumAnswerFlags.v1/",{type:"rest"}),a=e("/api/onDemandGroupForumQuestionFlags.v1/",{type:"rest"}),p=e("/api/onDemandGroupForumAnswerFlags.v1/",{type:"rest"}),s=function chooseApi(s,r){var e="question"===s.type;switch(r){case n.mentorForumType:return e?u:i;case n.groupForumType:return e?a:p;default:return e?o:t}};exports.flagPost=function(e){return s(e,e.forumType).put(e.id)},exports.unflagPost=function(e){return s(e,e.forumType)["delete"](e.id)}});
define("bundles/discussions/actions/DropdownActions",["require","exports","module","bundles/discussions/api/threadActionsApiUtil","bundles/discussions/api/flagApi"],function(require,exports,module){var t=require("bundles/discussions/api/threadActionsApiUtil"),i=t.editThread,s=t.editReply,e=t.deletePost,o=t.undoDelete,a=t.highlightPost,d=t.unhighlightPost,n=require("bundles/discussions/api/flagApi"),c=n.flagPost,l=n.unflagPost;exports.editThread=function(o,t){var a=t.id,e=t.questionId,s=t.question,n=t.details,d=t.reason,c=t.handleSuccess,l=t.handleFailure,u=t.dontNotify,p=t.forumType;i(a,s,n,d,u,p).then(function(t){c(t),o.dispatch("EDIT_THREAD",{questionId:e,question:s,details:n})}).fail(l).done()},exports.editReply=function(i,t){var n=t.reply,e=t.content,o=t.handleFailure,a=t.onSuccess;s(n,e).then(function(t){i.dispatch("EDIT_REPLY",{reply:n,content:e}),i.dispatch("HIDE_REPLY_EDITOR",{reply:n}),a()}).fail(o).done()},exports.showReplyEditor=function(n,t){var i=t.reply,s=t.reason,e=t.dontNotify;n.dispatch("SHOW_REPLY_EDITOR",{reply:i,reason:s,dontNotify:e})},exports.hideReplyEditor=function(t,n){var i=n.reply;t.dispatch("HIDE_REPLY_EDITOR",{reply:i})},exports.deletePost=function(i,t){var n=t.post,s=t.reason,o=t.handleSuccess,a=t.handleFailure,d=t.dontNotify;e(n,s).then(function(t){o(t),s?i.dispatch("SOFT_DELETE_POST",{post:n}):i.dispatch("DELETE_POST",{post:n})}).fail(a).done()},exports.undoDelete=function(i,t){var n=t.post,s=t.handleFailure,e=t.onSuccess;o(n).then(function(){i.dispatch("UNDO_DELETE",{post:n}),e()}).fail(s).done()},exports.flagPost=function(i,t){var n=t.post,s=t.handleSuccess,e=t.handleFailure;c(n).then(function(){i.dispatch("FLAG_POST",{post:n}),s()}).fail(e).done()},exports.unflagPost=function(i,t){var n=t.post,s=t.handleSuccess,e=t.handleFailure;l(n).then(function(t){i.dispatch("UNFLAG_POST",{post:n}),s()}).fail(e).done()},exports.highlightPost=function(n,i){var t=i.post;a(t).then(function(){n.dispatch("HIGHLIGHT",{post:t})}).done()},exports.unhighlightPost=function(n,i){var t=i.post;d(t).then(function(){n.dispatch("UNHIGHLIGHT",{post:t})}).done()},exports.showAdminDetails=function(t,n){var i=n.post;t.dispatch("SHOW_ADMIN_DETAILS",{post:i})},exports.hideAdminDetails=function(t,n){var i=n.post;t.dispatch("HIDE_ADMIN_DETAILS",{post:i})}});

define('css!bundles/discussions/components/__styles__/SoftDelete',[],function(){})
define("bundles/discussions/components/SoftDelete",["require","exports","module","i18n!nls/discussions","react","bundles/discussions/actions/DropdownActions","css!./__styles__/SoftDelete"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,r=require("i18n!nls/discussions"),e=require("react"),n=require("bundles/discussions/actions/DropdownActions"),s=n.undoDelete;require("css!./__styles__/SoftDelete");var c=(o=t=function(t){function SoftDelete(){var o,e,n;_classCallCheck(this,SoftDelete);for(var c=arguments.length,i=Array(c),r=0;c>r;r++)i[r]=arguments[r];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.state={showError:!1},e.handleUndoDelete=function(t){t.preventDefault(),e.context.executeAction(s,{post:e.props.entry,handleFailure:e.handleError,onSuccess:function onSuccess(){}})},e.handleError=function(t){e.setState({showError:!0})},n=o,_possibleConstructorReturn(e,n)}return _inherits(SoftDelete,t),SoftDelete.prototype.render=function render(){var n=e.createElement("div",{ref:"error",className:"c-soft-delete-error c-error-text"},r("Error undoing delete, please reload the page and try again")),t=this.props.entry,s=t.state.deleted&&t.state.deleted.userId===t.creator.userId,c=r(s?"This post has been deleted by its creator":"This post has been deleted by a moderator"),i=e.createElement("div",{className:"c-soft-delete-header"},e.createElement("span",{ref:"message"},c," · "),e.createElement("button",{ref:"undoDelete",className:"button-link",onClick:this.handleUndoDelete},r("Undo Delete"))),o="c-soft-delete";return this.props.hideUndoDelete&&(o+=" c-soft-delete-clickable"),e.createElement("div",{className:"rc-SoftDelete"},e.createElement("div",{className:o},!this.props.hideUndoDelete&&!this.state.showError&&i,this.state.showError&&n))},SoftDelete}(e.Component),t.propTypes={hideUndoDelete:e.PropTypes.bool,entry:e.PropTypes.object.isRequired},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=c});
define("bundles/discussions/utils/areHighlightedPostsEnabled",["require","exports","module","underscore","bundles/epic/client","bundles/discussions/constants"],function(require,exports,module){var _=require("underscore"),e=require("bundles/epic/client"),n=require("bundles/discussions/constants"),s=n.naptimeForumTypes,i=s.mentorForumType,t=s.groupForumType,u=[i,t];module.exports=function(s,n){if(_(u).contains(n))return!1;return e.get("DiscussionsHighlightPosts","DiscussionsHighlightPostsEnabled",{course_id:s})}});

define('css!bundles/discussions/components/__styles__/ThreadBadge',[],function(){})
define("bundles/discussions/components/ThreadBadge",["require","exports","module","react","bundles/discussions/utils/areHighlightedPostsEnabled","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","css!./__styles__/ThreadBadge"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,t=require("react"),o=require("bundles/discussions/utils/areHighlightedPostsEnabled"),s=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),e=require("i18n!nls/discussions");require("css!./__styles__/ThreadBadge");var i={INSTRUCTOR_CREATED:e("Instructor Created"),STAFF_CREATED:e("Staff Created"),MENTOR_CREATED:e("Mentor Created"),INSTRUCTOR_RESPONDED:e("Instructor Replied"),STAFF_RESPONDED:e("Staff Replied"),MENTOR_RESPONDED:e("Mentor Replied")},c=(n=r=function(r){function ThreadBadge(){return _classCallCheck(this,ThreadBadge),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ThreadBadge,r),ThreadBadge.prototype.render=function render(){var n=this.props,s=n.badge,c=n.courseId,r="";if(r=o(c)&&"HIGHLIGHTED"===s?e("Highlighted"):i[s],!r)return null;return t.createElement("span",{className:"rc-ThreadBadge bgcolor-accent-brown-light"},r)},ThreadBadge}(t.Component),r.propTypes={badge:t.PropTypes.string,courseId:t.PropTypes.string},n);module.exports=s(c,["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId()}})});
define("bundles/discussions/lib/propTypes",["require","exports","module","react","bundles/cml/propTypes/cml"],function(require,exports,module){var r=require("react"),e=r.PropTypes,o=require("bundles/cml/propTypes/cml");exports.profilePropType=e.shape({fullName:e.string,userId:e.number.isRequired,externalUserId:e.string.isRequired}),exports.replyPropType=e.shape({createdAt:e.number,creatorId:e.number,isUpvoted:e.bool,id:e.string,content:o,upvoteCount:e.number,childAnswerCount:e.number,isFlagged:e.bool,creator:exports.profilePropType,forumType:e.string,topLevelForumAnswerId:e.string,forumCommentId:e.string,type:e.string,order:e.number,questionId:e.string,highlighted:e.bool})});
define("bundles/discussions/utils/threadUtils",["require","exports","module"],function(require,exports,module){exports.formatCount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1;if(e>1e3){if(t)return Math.round(e/1e3)+"k";return Math.round(e/1e3*10)/10+"k"}return e}});

define("bundles/cml/components/CMLText",["require","exports","module","react","bundles/cml/propTypes/cml","bundles/phoenix/components/Tex","bundles/cml/models/CMLParser"],function(require,exports,module){function _defaults(e,o){for(var c=Object.getOwnPropertyNames(o),t=0;t<c.length;t++){var n=c[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,t,e=require("react"),o=require("bundles/cml/propTypes/cml"),c=require("bundles/phoenix/components/Tex"),r=require("bundles/cml/models/CMLParser"),s=(t=n=function(t){function CMLText(){return _classCallCheck(this,CMLText),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CMLText,t),CMLText.prototype.render=function render(){var t=new r(this.props.cml.definition.value);return e.createElement("div",{className:"rc-CMLText"},e.createElement(c,null,r.getInnerText(t.getRoot())))},CMLText}(e.Component),n.propTypes={cml:o.isRequired},t);module.exports=s});

define('css!bundles/discussions/components/discussionsBody/__styles__/ThreadsListEntry',[],function(){})
define("bundles/discussions/components/discussionsBody/ThreadsListEntry",["require","exports","module","classnames","moment","react","bundles/discussions/components/ProfileName","bundles/discussions/components/SoftDelete","bundles/discussions/components/ThreadBadge","bundles/discussions/lib/propTypes","bundles/discussions/utils/threadUtils","bundles/page/components/TrackedLink2","bundles/cml/components/CMLText","i18n!nls/discussions","css!bundles/discussions/components/discussionsBody/__styles__/ThreadsListEntry"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var s=i[t],n=Object.getOwnPropertyDescriptor(r,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,r,s,i,o=require("classnames"),T=require("moment"),e=require("react"),u=require("bundles/discussions/components/ProfileName"),l=require("bundles/discussions/components/SoftDelete"),p=require("bundles/discussions/components/ThreadBadge"),d=require("bundles/discussions/lib/propTypes"),a=d.profilePropType,m=require("bundles/discussions/utils/threadUtils"),c=m.formatCount,y=require("bundles/page/components/TrackedLink2"),f=y.TrackedReactLink,b=require("bundles/cml/components/CMLText"),t=require("i18n!nls/discussions");require("css!bundles/discussions/components/discussionsBody/__styles__/ThreadsListEntry");var g=(r=n=function(s){function Metadata(){return _classCallCheck(this,Metadata),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(Metadata,s),Metadata.prototype.render=function render(){var s=this.props,r=s.badge,n=s.profile,i=s.metadataLabel,o=s.timestamp;return e.createElement("div",{className:"entry-metadata caption-text color-secondary-text"},e.createElement(p,{badge:r}),i||t("Created by")," ",e.createElement(u,{fullName:n.fullName,externalId:n.externalUserId,userId:n.userId}),e.createElement("span",{className:"timestamp-separator"}," · "),e.createElement("span",{className:"timestamp"},T(new Date(o)).fromNow()))},Metadata}(e.Component),n.propTypes={profile:a.isRequired,timestamp:e.PropTypes.number.isRequired,badge:e.PropTypes.string,metadataLabel:e.PropTypes.string},r),h=(i=s=function(s){function ThreadsListEntry(){return _classCallCheck(this,ThreadsListEntry),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(ThreadsListEntry,s),ThreadsListEntry.prototype.render=function render(){var s=this.props,u=s.entry,h=s.isPinned,N=s.isDeleted,P=s.isRead,L=s.threadUrl,n=s.viewCount,r=s.answerCount,y=s.badge,T=s.profile,m=s.metadataLabel,i=s.forumName,E=s.threadName,a=s.snippet,x=s.timestamp,v=s.questionId,q=s.questionUserId,w=o("headline-1-text question-title color-primary-text",{"question-title-bold":!P}),p="undefined"!=typeof n&&!isNaN(n),d="undefined"!=typeof r&&!isNaN(r),R=p||d;return e.createElement("li",{className:"rc-ThreadsListEntry"},e.createElement(f,{href:L,className:"horizontal-box nostyle",trackingName:"thread_list_entry",data:{question_id:v,question_user_id:q}},h&&e.createElement("span",{className:"cif-stack cif-lg pin-container align-self-start"},e.createElement("i",{className:"cif-circle cif-stack-2x pin-background"}),e.createElement("i",{className:"cif-pin cif-stack-lg pin-icon"})),e.createElement("div",{className:"flex-1 align-self-center"},i&&e.createElement("div",{className:"forum-info caption-text color-secondary-text"},i),e.createElement("div",{className:w},E),a&&e.createElement("div",{className:o("body-1-text","entry-snippet")},e.createElement(b,{cml:a})),e.createElement(g,{badge:y,profile:T,metadataLabel:m,timestamp:x})),R&&e.createElement("div",{className:"horizontal-box align-self-center color-secondary-text c-reply-area"},p&&e.createElement("div",{className:"vertical-box align-items-vertical-center view-count"},e.createElement("div",{className:"label-text color-secondary-text"},c(n)),e.createElement("div",{className:"caption-text color-secondary-text"},t("views"))),d&&e.createElement("div",{className:"vertical-box align-items-vertical-center"},e.createElement("div",{className:"label-text color-secondary-text"},c(r)),e.createElement("div",{className:"caption-text color-secondary-text"},t("replies"))))),N&&e.createElement(l,{entry:u,hideUndoDelete:!0}))},ThreadsListEntry}(e.Component),s.propTypes={threadUrl:e.PropTypes.string.isRequired,profile:a.isRequired,timestamp:e.PropTypes.number.isRequired,threadName:e.PropTypes.string.isRequired,questionId:e.PropTypes.string.isRequired,questionUserId:e.PropTypes.number.isRequired,entry:e.PropTypes.object,isPinned:e.PropTypes.bool,isDeleted:e.PropTypes.bool,isRead:e.PropTypes.bool,viewCount:e.PropTypes.number,answerCount:e.PropTypes.number,badge:e.PropTypes.string,metadataLabel:e.PropTypes.string,snippet:e.PropTypes.object,forumName:e.PropTypes.string},s.defaultProps={isPinned:!1,isDeleted:!1,isRead:!0},i);module.exports=h});
define("bundles/discussions/utils/unreadTracker",["require","exports","module","js/lib/coursera.store","moment"],function(require,exports,module){var e=require("js/lib/coursera.store"),s=require("moment"),r="unreadTracker";exports.markRead=function(t){var s=e.get(r)||{};s[t]=Date.now(),e.set(r,s)},exports.hasUnread=function(t){var a=e.get(r)||{},n=a[t.questionId],o=t.lastAnsweredAt||t.createdAt;return!n||s(n).isBefore(o)}});

define('css!bundles/discussions/components/discussionsBody/__styles__/ThreadsList',[],function(){})

define('css!bundles/page/components/__styles__/PaginationControls',[],function(){})
define("bundles/discussions/components/discussionsBody/ThreadsList",["require","exports","module","react","underscore","bundles/discussions/actions/ThreadsActions","bundles/discussions/components/ControlsBar","bundles/discussions/components/ListBody","bundles/discussions/components/NewThreadButton","bundles/discussions/components/discussionsBody/ThreadsListEntry","bundles/discussions/constants","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/unreadTracker","bundles/page/components/PaginationControls","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","bundles/discussions/components/discussionsForumsHOC","js/lib/waitFor","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","css!bundles/discussions/components/discussionsBody/__styles__/ThreadsList","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),s=0;s<o.length;s++){var t=o[s],n=Object.getOwnPropertyDescriptor(r,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,t,e=require("react"),T=require("underscore"),v=T.compose,O=require("bundles/discussions/actions/ThreadsActions"),n=O.loadThreads,c=require("bundles/discussions/components/ControlsBar"),d=require("bundles/discussions/components/ListBody"),p=require("bundles/discussions/components/NewThreadButton").NewThreadButtonNaptimeContainer,l=require("bundles/discussions/components/discussionsBody/ThreadsListEntry"),m=require("bundles/discussions/constants"),a=m.loadingStates,y=require("bundles/discussions/utils/discussionsUrl"),g=require("bundles/discussions/utils/discussionsUrl"),h=g.getAllThreadsDiscussionsUrl,f=require("bundles/discussions/utils/unreadTracker"),b=require("bundles/page/components/PaginationControls"),r=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),o=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),i=require("bundles/naptimejs/resources/groupForums.v1"),P=require("js/lib/connectToRouter"),S=require("bundles/discussions/utils/routerConnectToCurrentForum"),F=require("bundles/discussions/components/discussionsForumsHOC"),C=require("js/lib/waitFor"),w=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=require("i18n!nls/discussions");require("css!bundles/discussions/components/discussionsBody/__styles__/ThreadsList"),require("css!bundles/page/components/__styles__/PaginationControls.css");var x=(t=s=function(s){function ThreadsList(){var r,t,o;_classCallCheck(this,ThreadsList);for(var i=arguments.length,a=Array(i),n=0;i>n;n++)a[n]=arguments[n];return r=t=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(a))),t.state={inSearch:!1},t.onPageChange=function(e){var s=t.context.router;s.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},t.toggleSearch=function(){t.setState({inSearch:!t.state.inSearch})},t.renderEntry=function(s){var n=t.props,T=n.activeFilterQueryString,m=n.courseForums,p=n.mentorForums,c=n.groupForums,h=n.currentForum,d=n.currentForumUrl,i=s.lastAnsweredAt&&s.lastAnsweredBy,F=!f.hasUnread(s),g=i?s.lastAnsweredBy:s.creator,a=u(i?"Last post by":"Created by"),b=m.concat(p).concat(c),r=b.find(function(e){return e.forumId===s.forumId}),v=r&&h.id!==r.id&&r.title||void 0,P=y.getDeepLink(d,s),S="undefined"!=typeof s.answerCount&&!isNaN(s.answerCount),o=S?s.answerCount:s.totalAnswerCount;return e.createElement(l,{key:s.id+T,threadUrl:P,profile:g,timestamp:s.lastAnsweredAt||s.createdAt,threadName:s.content.question,questionId:s.id,questionUserId:s.creatorId,entry:s,isPinned:!(!s.state||!s.state.pinned),isDeleted:!(!s.state||!s.state.deleted),isRead:F,forumName:v,metadataLabel:a,viewCount:Math.max(o,s.viewCount),answerCount:o,badge:s.answerBadge.answerBadge})},o=r,_possibleConstructorReturn(t,o)}return _inherits(ThreadsList,s),ThreadsList.prototype.componentWillMount=function componentWillMount(){var e=this.props,t=e.sort,r=e.page,s=e.currentForum,o=e.activeFilterQueryString;this.context.executeAction(n,{filterQueryString:o,sort:t,pageNum:r,forumType:s&&s.forumType.typeName,forumId:s&&s.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},ThreadsList.prototype.componentWillUpdate=function componentWillUpdate(e,t,r){if(this.props.sort!==e.sort||this.props.page!==e.page||this.props.currentForumId!==e.currentForumId||this.props.activeFilterQueryString!==e.activeFilterQueryString){var s=this.props.currentForum;this.context.executeAction(n,{filterQueryString:e.activeFilterQueryString,sort:e.sort,pageNum:e.page,forumType:s&&s.forumType.typeName,forumId:s&&s.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})}},ThreadsList.prototype.render=function render(){var s=this.context.router.isActive({pathname:h()});return e.createElement("div",{className:"rc-ThreadsList styleguide horizontal-box"},e.createElement("div",{className:"flex-2"},e.createElement("div",{className:"card-rich-interaction"},e.createElement(c,{sort:this.props.sort,inSearch:this.state.inSearch,toggleSearch:this.toggleSearch,showSearchBox:!s}),e.createElement(d,{emptyStatePlaceholderText:u("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),e.createElement(b,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5})))},ThreadsList}(e.Component),s.propTypes={courseForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(r)),mentorForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(o)),groupForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(i)),currentForumId:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(r),e.PropTypes.instanceOf(o),e.PropTypes.instanceOf(i)]),sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,entries:e.PropTypes.array,loadingState:e.PropTypes.oneOf(Object.keys(a)),pageCount:e.PropTypes.number,activeFilterQueryString:e.PropTypes.string,userId:e.PropTypes.number,hasModerationRole:e.PropTypes.bool,currentForumUrl:e.PropTypes.string},s.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},t);module.exports=v(w(["SessionFilterStore","ThreadsStore","ApplicationStore"],function(e){var t=e.SessionFilterStore,s=e.ThreadsStore,n=e.ApplicationStore;return{activeFilterQueryString:t.activeFilterQueryString,entries:s.getThreadsPage(),loadingState:s.getLoadingState(),pageCount:s.getPageCount(),userId:n.getUserData().id}}),F({fields:["title","link","forumType"],subcomponents:[p]}),P(S),C(function(e){return!!(void 0!==e.activeFilterQueryString&&e.sort&&e.page&&e.currentForum)}))(x)});
define("bundles/discussions/api/upvoteApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/discussions/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),t=require("bundles/discussions/constants"),n=t.naptimeForumTypes,s=e("/api/onDemandCourseForumQuestionVotes.v1/",{type:"rest"}),r=e("/api/onDemandCourseForumAnswerVotes.v1/",{type:"rest"}),u=e("/api/onDemandMentorForumQuestionVotes.v1/",{type:"rest"}),p=e("/api/onDemandMentorForumAnswerVotes.v1/",{type:"rest"}),i=e("/api/onDemandGroupForumQuestionVotes.v1/",{type:"rest"}),a=e("/api/onDemandGroupForumAnswerVotes.v1/",{type:"rest"}),o=function chooseApi(o,t){var e="question"===o.type;switch(t){case n.mentorForumType:return e?u:p;case n.groupForumType:return e?i:a;default:return e?s:r}};exports.upvote=function(e){return o(e,e.forumType).put(e.id)},exports.cancelUpvote=function(e){return o(e,e.forumType)["delete"](e.id)}});
define("bundles/discussions/api/followApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/discussions/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),s=require("bundles/discussions/constants"),n=s.naptimeForumTypes,u=e("/api/onDemandCourseForumQuestionFollowings.v1/",{type:"rest"}),r=e("/api/onDemandMentorForumQuestionFollowings.v1/",{type:"rest"}),i=e("/api/onDemandGroupForumQuestionFollowings.v1/",{type:"rest"}),o=function chooseApi(e){switch(e){case n.mentorForumType:return r;case n.groupForumType:return i;default:return u}};exports.follow=function(e){return o(e.forumType).put(e.id)},exports.unfollow=function(e){return o(e.forumType)["delete"](e.id)}});
define("bundles/discussions/api/threadDetailApi",["require","exports","module","bundles/discussions/api/forumApiChoiceUtil","jsuri","bundles/discussions/constants","bundles/discussions/constants"],function(require,exports,module){var m=require("bundles/discussions/api/forumApiChoiceUtil"),p=m.getQuestionApi,t=m.getAnswerApi,n=require("jsuri"),Q=require("bundles/discussions/constants"),w=Q.defaults,i=require("bundles/discussions/constants"),e=i.naptimeForumTypes,P=i.answerSorts,d=i.comments.limitPerPage,r=function getAnswerApiName(r){if(r===e.mentorForumType)return"onDemandMentorForumAnswers.v1";if(r===e.groupForumType)return"onDemandGroupForumAnswers.v1";return"onDemandCourseForumAnswers.v1"},l=function getAnswerParams(t,r,n,o){if(t===e.mentorForumType)return{userMentorForumQuestionId:[r,n,o].join("~")};if(t===e.groupForumType)return{userGroupForumQuestionId:[r,n,o].join("~")};return{userCourseQuestionId:[r,n,o].join("~")}},c=function getByParentAnswerParams(n,r){if(n===e.mentorForumType)return{userMentorForumAnswerId:r};if(n===e.groupForumType)return{userGroupForumAnswerId:r};return{userCourseForumAnswerId:r}},f=["profiles"],o=["profiles","children"],y=function getQuestionIncludesWithAnswers(e){return["posts",e+"("+o.join(",")+")"]},g=["content","state","creatorId","createdAt","forumId","sessionId","lastAnsweredBy","lastAnsweredAt","upvoteCount","followCount","totalAnswerCount","topLevelAnswerCount","viewCount","isFlagged","isFollowing","isUpvoted","answerBadge","forumAnswerBadgeTagMap"],a=["userId","externalUserId","fullName","photoUrl","courseRole"],s=["content","forumQuestionId","parentForumAnswerId","state","creatorId","createdAt","order","upvoteCount","childAnswerCount","isFlagged","isUpvoted"],u=function getAllAnswerFields(e){return[s.join(","),"onDemandSocialProfiles.v1("+a.join(",")+")",e+"("+s.join(",")+")"]},A=function getAllQuestionFields(e){return[g.join(","),"onDemandSocialProfiles.v1("+a.join(",")+")",e+"("+s.join(",")+")"]};exports.getQuestion=function(e){var u=e.questionId,s=e.userId,i=e.contextId,o=e.forumType,a=e.sort,d=e.page,t=f.slice();1===d&&a===w.detailSort&&(t=t.concat(y(r(o))));var m=new n([s,i,u].join("~")).addQueryParam("includes",t.join(",")).addQueryParam("fields",A(r(o)).join(","));return p(o).get(m.toString())},exports.getAnswersWithComments=function(e){var f=e.questionId,P=e.userId,p=e.contextId,i=e.forumType,m=e.sort,c=e.page,a=e.limit,y=e.includeDeleted,g=a||15,s=(new n).addQueryParam("q","byForumQuestionId").addQueryParam("includeDeleted",y?"true":"false").addQueryParam("fields",u(r(i)).join(",")).addQueryParam("includes",o.join(",")).addQueryParam("limit",g),d=l(i,P,p,f);return Object.keys(d).forEach(function(e){s.addQueryParam(e,d[e])}),m&&s.addQueryParam("sort",m),c-1>0&&s.addQueryParam("start",(c-1)*a),t(i).get(s.toString())},exports.getComments=function(e){var l=e.userForumAnswerId,s=e.forumType,f=e.includeDeleted,i=e.startPage,p=e.endPage,a=(new n).addQueryParam("q","byParentForumAnswerId").addQueryParam("includeDeleted",f?"true":"false").addQueryParam("fields",u(r(s)).join(",")).addQueryParam("includes",o.join(",")).addQueryParam("sort",P.newestSort).addQueryParam("limit",(p-i+1)*d);i&&a.addQueryParam("start",(i-1)*d);var m=c(s,l);return Object.keys(m).forEach(function(e){a.addQueryParam(e,m[e])}),t(s).get(a.toString())},exports.savePost=function(s,e){var i=(new n).addQueryParam("fields",u(r(e)).join(",")).addQueryParam("includes",o.join(","));return t(e).post(i.toString(),s)}});
define("bundles/discussions/actions/ThreadDetailsActions",["require","exports","module","bundles/discussions/actions/ThreadSettingsActions","bundles/discussions/api/upvoteApi","bundles/discussions/api/followApi","bundles/discussions/api/threadDetailApi","bundles/discussions/constants","bundles/discussions/utils/unreadTracker"],function(require,exports,module){var f=require("bundles/discussions/actions/ThreadSettingsActions"),u=f.addThread,o=require("bundles/discussions/api/upvoteApi"),h=o.upvote,r=o.cancelUpvote,a=require("bundles/discussions/api/followApi"),T=a.follow,I=a.unfollow,t=require("bundles/discussions/api/threadDetailApi"),d=t.getQuestion,c=t.getAnswersWithComments,p=t.getComments,l=t.savePost,s=require("bundles/discussions/constants"),n=require("bundles/discussions/utils/unreadTracker"),i=s.savingStates,e=s.loadingStates,A=s.answers.limitPerPage;exports.fetchThread=function(s,i){var t=i.questionId,r=i.contextId,a=i.userId,o=i.forumType,c=i.sort,p=i.page,l=s.getStore("ThreadDetailsStore").getQuestion(t)&&s.getStore("ThreadDetailsStore").getQuestion(t),f=s.getStore("ThreadsStore").getThreadsPage(),T=f.find(function(e){return e.questionId===t});!l||n.hasUnread(T)?!function(){var i=function setLoadingState(e){s.dispatch("QUESTION_LOADING_STATE",{questionId:t,loadingState:e})};i(e.LOADING),d({questionId:t,userId:a,contextId:r,forumType:o,sort:c,page:p}).then(function(a){s.dispatch("LOAD_QUESTION",{response:a,questionId:t,forumType:o}),i(e.DONE),s.executeAction(u,Object.assign(a.elements[0],{forumType:o})),n.markRead(t)}).fail(function(t){return i(e.ERROR)}).done()}():(s.executeAction(u,s.getStore("ThreadDetailsStore").getQuestion(t)),n.markRead(t))};var O=function fetchCommentPagesHelper(n,t){var o=t.questionId,s=t.answerId,a=t.userForumAnswerId,u=t.forumType,d=t.includeDeleted,i=t.startPage,r=t.endPage;return p({userForumAnswerId:a,forumType:u,includeDeleted:d,startPage:i,endPage:r}).then(function(e){return n.dispatch("LOAD_COMMENT_PAGES",{response:e,answerId:s,startPage:i,questionId:o})}).fail(function(t){n.dispatch("COMMENT_LOADING_STATE",{answerId:s,loadingState:e.ERROR})})};exports.fetchMultipleCommentPages=function(n,t){var i=t.questionId,s=t.answerId,o=t.userForumAnswerId,a=t.forumType,u=t.includeDeleted,d=t.startPage,r=t.endPage;n.dispatch("COMMENT_LOADING_STATE",{answerId:s,loadingState:e.LOADING}),n.executeAction(O,{questionId:i,answerId:s,userForumAnswerId:o,forumType:a,includeDeleted:u,startPage:d,endPage:r})},exports.fetchAnswers=function(o,t){var n=t.questionId,d=t.userId,r=t.contextId,s=t.sort,i=t.page,a=t.forumType,p=t.includeDeleted;o.dispatch("ANSWER_LOADING_STATE",{questionId:n,sort:s,page:i,loadingState:e.LOADING});var u=function setLoadingState(e){o.dispatch("ANSWER_LOADING_STATE",{questionId:n,sort:s,page:i,loadingState:e})};c({questionId:n,userId:d,contextId:r,forumType:a,sort:s,page:i,limit:A,includeDeleted:p}).then(function(t){u(e.DONE),o.dispatch("LOAD_ANSWERS_WITH_COMMENTS",{response:t,questionId:n,page:i,sort:s,forumType:a})}).fail(function(t){return u(e.ERROR)}).done()},exports.savePost=function(e,t){var o=t.options,a=t.question,u=t.forumType,s=t.parentPost,d=t.isFollowing;e.dispatch("SET_SAVING_STATE",{savingState:i.SAVING,id:s.id}),d?e.dispatch("FOLLOW",{question:a}):e.dispatch("UNFOLLOW",{question:a}),l(o,u).then(function(t){n.markRead(s.questionId),e.dispatch("RECEIVE_POST",{resp:t,data:o.data,parentPost:s,forumType:u}),e.dispatch("SET_SAVING_STATE",{savingState:i.SAVED,id:s.id})}).fail(function(t){return e.dispatch("SET_SAVING_STATE",{savingState:i.ERROR,id:s.id})}).done()},exports.upvote=function(t,n){var e=n.post;h(e).then(function(n){return t.dispatch("UPVOTE",{post:e})}).fail(function(n){return t.dispatch("UPVOTE_ERROR",{post:e})}).done()},exports.cancelUpvote=function(t,n){var e=n.post;r(e).then(function(n){return t.dispatch("CANCEL_UPVOTE",{post:e})}).fail(function(n){return t.dispatch("UPVOTE_ERROR",{post:e})}).done()},exports.follow=function(t,n){var e=n.question;T(e).then(function(n){return t.dispatch("FOLLOW",{question:e})}).fail(function(n){return t.dispatch("FOLLOW_ERROR",{question:e})}).done()},exports.unfollow=function(t,n){var e=n.question;I(e).then(function(n){return t.dispatch("UNFOLLOW",{question:e})}).fail(function(n){return t.dispatch("FOLLOW_ERROR",{question:e})}).done()}});



define('css!bundles/discussions/components/__styles__/ModerationReasons',[],function(){})
define("bundles/discussions/components/ModerationReasons",["require","exports","module","i18n!nls/discussions","react","css!bundles/discussions/components/__styles__/ModerationReasons.css"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,t=require("i18n!nls/discussions"),e=require("react");require("css!bundles/discussions/components/__styles__/ModerationReasons.css");var r=(o=n=function(n){function ModerationReasons(){return _classCallCheck(this,ModerationReasons),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(ModerationReasons,n),ModerationReasons.prototype.render=function render(){return e.createElement("div",{className:"rc-ModerationReasons"},e.createElement("ul",{className:"c-radio-group"},e.createElement("li",null,e.createElement("input",{id:"honorCodeViolation",type:"radio",value:"honorCodeViolation",name:"reason",ref:"firstOption",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"honorCodeViolation",className:"c-radio-label"},t("Removing an "),e.createElement("a",{target:"_blank",href:"https://learner.coursera.help/hc/articles/208280036"},t("Honor Code")),t(" violation (e.g., problem solutions)"))),e.createElement("li",null,e.createElement("input",{id:"inappropriate",type:"radio",value:"inappropriate",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"inappropriate",className:"c-radio-label"},t("Removing "),e.createElement("a",{target:"_blank",href:"https://learner.coursera.help/hc/articles/209818863"},t("Inappropriate Content")),t(" violation (e.g., obscenities or mature content)"))),e.createElement("li",null,e.createElement("input",{id:"copyrightViolation",type:"radio",value:"copyrightViolation",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"copyrightViolation",className:"c-radio-label"},t("Removing a copyright violation"))),e.createElement("li",null,e.createElement("input",{id:"spam",type:"radio",value:"spam",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"spam",className:"c-radio-label"},t("Removing spam (e.g. unintelligible content or advertisements)"))),e.createElement("li",null,e.createElement("input",{id:"clarity",type:"radio",value:"clarity",name:"reason",onClick:this.props.handleSelect}),e.createElement("label",{htmlFor:"clarity",className:"c-radio-label"},t("Editing for clarity")))))},ModerationReasons}(e.Component),n.propTypes={handleSelect:e.PropTypes.func.isRequired},o);module.exports=r});

define('css!bundles/discussions/components/__styles__/NotifyOption',[],function(){})
define("bundles/discussions/components/NotifyOption",["require","exports","module","i18n!nls/discussions","react","css!./__styles__/NotifyOption"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var o=i[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,n=require("i18n!nls/discussions"),e=require("react");require("css!./__styles__/NotifyOption");var r=(o=t=function(t){function NotifyOption(){return _classCallCheck(this,NotifyOption),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(NotifyOption,t),NotifyOption.prototype.render=function render(){return e.createElement("div",{className:"rc-NotifyOption"},e.createElement("input",{id:"notify",type:"checkbox",checked:!this.props.dontNotify,onChange:this.props.toggleNotify}),e.createElement("label",{htmlFor:"notify",className:"color-secondary-text"},n("Notify Original Poster")))},NotifyOption}(e.Component),t.propTypes={dontNotify:e.PropTypes.bool.isRequired,toggleNotify:e.PropTypes.func.isRequired},o);module.exports=r});

define('css!bundles/discussions/components/__styles__/Delete',[],function(){})
define("bundles/discussions/components/Delete",["require","exports","module","i18n!nls/discussions","react","react-dom","bundles/discussions/components/ModerationReasons","bundles/discussions/actions/DropdownActions","bundles/discussions/actions/ThreadsActions","bundles/phoenix/components/Modal","bundles/discussions/components/NotifyOption","css!./__styles__/Delete"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,t=require("i18n!nls/discussions"),e=require("react"),o=require("react-dom"),r=require("bundles/discussions/components/ModerationReasons"),i=require("bundles/discussions/actions/DropdownActions"),a=i.deletePost,c=require("bundles/discussions/actions/ThreadsActions"),l=c.clearThreadsCache,d=require("bundles/phoenix/components/Modal"),u=require("bundles/discussions/components/NotifyOption");require("css!./__styles__/Delete");var p=(n=s=function(s){function Delete(){var o,e,n;_classCallCheck(this,Delete);for(var r=arguments.length,i=Array(r),t=0;r>t;t++)i[t]=arguments[t];return o=e=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(i))),e.state={selectedOption:"",showInputError:!1,showServerError:!1,dontNotify:!1},e.handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleCancel=function(){e.props.handleClose()},e.handleSubmit=function(){!e.props.showReasons||e.state.selectedOption?(e.context.executeAction(l),e.context.executeAction(a,{post:e.props.post,reason:e.state.selectedOption,handleSuccess:e.onDeleteSuccess,handleFailure:e.onDeleteError,dontNotify:e.state.dontNotify})):e.setState({showInputError:!0})},e.handleCloseModal=function(){e.props.handleClose()},e.onDeleteError=function(t){e.setState({showServerError:!0})},e.onDeleteSuccess=function(){e.props.handleClose(),"question"===e.props.post.type&&e.props.onDeleteSuccess(e.state.selectedOption)},e.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})},n=o,_possibleConstructorReturn(e,n)}return _inherits(Delete,s),Delete.prototype.componentDidMount=function componentDidMount(){this.refs.firstOption?o.findDOMNode(this.refs.firstOption).focus():o.findDOMNode(this.refs.cancel).focus()},Delete.prototype.render=function render(){var s=e.createElement("div",null,e.createElement(r,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(u,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify})),o=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason")),n=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Error deleting post; please try again or reload the page")),i=e.createElement("div",{className:"c-delete-warning"},t("Are you sure you want to delete this post?")),a=e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to delete this? "))),c=e.createElement(d,{handleClose:this.handleCloseModal,modalName:t("Delete Post")},e.createElement("h1",{className:"c-modal-title subtitle display-1-text"},t("Delete Post")),this.props.showReasons&&a,this.props.showReasons?s:i,e.createElement("div",null,this.state.showInputError&&o,this.state.showServerError&&n,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleCancel},"Cancel"),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Delete")))));return e.createElement("div",{className:"rc-Delete"},c)},Delete}(e.Component),s.propTypes={showReasons:e.PropTypes.bool.isRequired,handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired,onDeleteSuccess:e.PropTypes.func},s.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=p});
define("bundles/discussions/components/EditThreadModal",["require","exports","module","underscore","i18n!nls/discussions","react","react-dom","bundles/phoenix/components/Modal","bundles/cml/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/discussions/components/ModerationReasons","bundles/discussions/components/NotifyOption","bundles/discussions/constants","bundles/discussions/actions/DropdownActions","bundles/discussions/components/NewThreadFormComponents","css!./__styles__/NewThreadButton"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var s=a[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,n,_=require("underscore"),t=require("i18n!nls/discussions"),e=require("react"),i=require("react-dom"),l=require("bundles/phoenix/components/Modal"),r=require("bundles/cml/utils/CMLUtils"),c=require("bundles/discussions/utils/DiscussionsCMLUtils"),d=require("bundles/discussions/components/ModerationReasons"),u=require("bundles/discussions/components/NotifyOption"),o=require("bundles/discussions/constants"),h=require("bundles/discussions/actions/DropdownActions"),p=h.editThread,a=require("bundles/discussions/components/NewThreadFormComponents"),m=a.TitleInput,f=a.ContentInput;require("css!./__styles__/NewThreadButton");var E=(n=s=function(s){function EditThreadModal(l,c){_classCallCheck(this,EditThreadModal);var e=_possibleConstructorReturn(this,s.call(this,l,c));e.handleSuccess=function(){e.closeModal()},e.handleSubmit=function(){var t=_(e.state).any(function(e){return e.hasError});t?(e.state.title.hasError?e.refs.title.refs.title.focus():e.state.content.hasError&&i.findDOMNode(e.refs.content.refs.content.refs.editorWrapper.refs.editor).focus(),e.setState({showErrors:!0})):(e.setState({saving:!0}),e.context.executeAction(p,{id:e.props.question.id,questionId:e.props.question.questionId,forumType:e.props.question.forumType,question:e.state.title.value,details:e.state.content.value,handleSuccess:e.handleSuccess,handleFailure:e.handleSaveError,reason:e.state.selectedOption,dontNotify:e.state.dontNotify}))},e.handleInputChange=function(t,s){e.state[t].value=s.value,e.state[t].hasError=!s.isValid,e.setState(e.state)},e.handleSaveError=function(s){e.setState({saveError:!0,saveErrorMessage:t("Something went wrong. Please reload the page and try again."),saving:!1})},e.handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleReasonsSubmit=function(){e.state.selectedOption?e.setState({showModerationReasons:!1}):e.setState({showInputError:!0})},e.handleReasonsCancel=function(){e.closeModal()},e.handleCloseModal=function(){e.closeModal()},e.handleCancel=function(){e.closeModal()},e.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})};var n=l.question.content,a=n.details;if(!n.details||!n.details.typeName){var d="<co-content><text>"+(n.details||"")+"</text></co-content>";a=r.create(d,o.DTD_NAME)}return a.definition.dtdId=o.DTD_NAME,e.state={title:{value:n.question||"",hasError:!1},content:{value:a,hasError:!1},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",showModerationReasons:!1,selectedOption:"",showInputError:!1,dontNotify:!1},e}return _inherits(EditThreadModal,s),EditThreadModal.prototype.componentWillMount=function componentWillMount(){this.setState({showModerationReasons:this.props.showReasons})},EditThreadModal.prototype.closeModal=function closeModal(){this.props.handleClose()},EditThreadModal.prototype.render=function render(){var n=c.generateContentLengthWarning(this.state.content.value),o=e.createElement("div",{className:"c-error-text c-form-error-message"},this.state.saveErrorMessage),a=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason")),s=void 0;s=this.state.showModerationReasons?e.createElement("div",null,e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to edit this? "))),e.createElement(d,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(u,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify}),e.createElement("div",null,this.state.showInputError&&a,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleReasonsCancel},t("Cancel")),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleReasonsSubmit},t("Edit Post"))))):e.createElement("div",null,e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Title"))),e.createElement(m,{ref:"title",hasError:this.state.showErrors&&this.state.title.hasError,value:this.state.title.value,handleInputChange:this.handleInputChange})),e.createElement("div",{className:"c-input-area"},e.createElement("label",{className:"c-form-label-area"},e.createElement("h2",{className:"c-form-label headline-1-text"},t("Body"))),e.createElement(f,{ref:"content",courseId:this.props.courseId,hasError:this.state.showErrors&&this.state.content.hasError,handleInputChange:this.handleInputChange,cml:this.state.content.value})),e.createElement("div",null,n,this.state.saveError&&o,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{className:"passive",onClick:this.handleCancel},t("Cancel")),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit")))));var r=e.createElement(l,{ref:"editThreadModal",modalName:t("Edit thread"),handleClose:this.handleCloseModal},e.createElement("h1",{className:"c-modal-title display-1-text"},t("Edit thread")),s);return e.createElement("div",{className:"rc-EditThreadForm"},r)},EditThreadModal}(e.Component),s.propTypes={courseId:e.PropTypes.string,question:e.PropTypes.object.isRequired,handleClose:e.PropTypes.func.isRequired,showReasons:e.PropTypes.bool},s.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=E});
define("bundles/discussions/components/EditWithModerationModal",["require","exports","module","i18n!nls/discussions","react","bundles/phoenix/components/Modal","bundles/discussions/components/ModerationReasons","bundles/discussions/components/NotifyOption"],function(require,exports,module){function _defaults(e,s){for(var i=Object.getOwnPropertyNames(s),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,t=require("i18n!nls/discussions"),e=require("react"),s=require("bundles/phoenix/components/Modal"),i=require("bundles/discussions/components/ModerationReasons"),a=require("bundles/discussions/components/NotifyOption"),r=(o=n=function(n){function EditWithModerationModal(){var o,e,s;_classCallCheck(this,EditWithModerationModal);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={showInputError:!1,selectedOption:"",dontNotify:!1},e.handleSelect=function(t){e.setState({selectedOption:t.target.value})},e.handleCancel=function(){e.props.handleCancel()},e.handleClose=function(){e.props.handleCancel()},e.handleSubmit=function(){e.state.selectedOption?e.props.handleSuccess(e.state.selectedOption,e.state.dontNotify):e.setState({showInputError:!0})},e.toggleNotify=function(){e.setState({dontNotify:!e.state.dontNotify})},s=o,_possibleConstructorReturn(e,s)}return _inherits(EditWithModerationModal,n),EditWithModerationModal.prototype.render=function render(){var n=e.createElement("div",{className:"c-error-text c-modal-error-message"},t("Please select a reason"));return e.createElement("div",{className:"rc-EditWithModerationModal"},e.createElement(s,{handleClose:this.handleClose,modalName:t("Edit Post")},e.createElement("h1",{className:"c-modal-title subtitle display-1-text"},t("Edit Post")),e.createElement("div",{className:"c-modal-subtitle"},e.createElement("span",null,t("Why do you want to edit this? "))),e.createElement(i,{ref:"reasons",handleSelect:this.handleSelect}),e.createElement(a,{dontNotify:this.state.dontNotify,toggleNotify:this.toggleNotify}),e.createElement("div",null,this.state.showInputError&&n,e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{ref:"cancel",className:"passive",onClick:this.handleCancel},"Cancel"),"  ",e.createElement("button",{ref:"submit",disabled:this.state.saving,className:"secondary",type:"submit",onClick:this.handleSubmit},t("Submit"))))))},EditWithModerationModal}(e.Component),n.propTypes={handleCancel:e.PropTypes.func.isRequired,handleSuccess:e.PropTypes.func.isRequired},n.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=r});

define('css!bundles/discussions/components/__styles__/FlaggingModal',[],function(){})
define("bundles/discussions/components/FlaggingModal",["require","exports","module","i18n!nls/discussions","classnames","react","bundles/discussions/actions/DropdownActions","bundles/phoenix/components/Modal","css!./__styles__/FlaggingModal"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,o,t=require("i18n!nls/discussions"),r=require("classnames"),e=require("react"),n=require("bundles/discussions/actions/DropdownActions"),i=n.flagPost,a=n.unflagPost,c=require("bundles/phoenix/components/Modal");require("css!./__styles__/FlaggingModal");var l=(o=s=function(s){function FlaggingModal(){var o,e,n;_classCallCheck(this,FlaggingModal);for(var r=arguments.length,c=Array(r),t=0;r>t;t++)c[t]=arguments[t];return o=e=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(c))),e.state={error:!1,saving:!1,success:!1},e.handleSubmitError=function(){e.setState({saving:!1,error:!0})},e.flagAction=function(){var t=e.props.post;e.setState({saving:!0,success:!1,error:!1}),e.isActive()?e.context.executeAction(a,{post:t,handleSuccess:e.props.handleClose,handleFailure:e.handleSubmitError}):e.context.executeAction(i,{post:t,handleSuccess:function handleSuccess(){e.setState({success:!0,saving:!1})},handleFailure:e.handleSubmitError})},e.isActive=function(){return e.props.post.flagDetails&&e.props.post.flagDetails.isActive},n=o,_possibleConstructorReturn(e,n)}return _inherits(FlaggingModal,s),FlaggingModal.prototype.getBodyText=function getBodyText(){return t(this.state.success?"Thank you. We will review it and take appropriate action.":this.state.error?"Sorry, an error occured. Please try again later.":this.isActive()?"Are you sure you want to resolve the reported post?":"Are you sure you want to report this post?")},FlaggingModal.prototype.renderButtonContainer=function renderButtonContainer(){return e.createElement("div",{className:"horizontal-box align-items-right button-container"},e.createElement("button",{className:"passive never-mind",onClick:this.props.handleClose},t("Never mind")),e.createElement("button",{className:"secondary",onClick:this.flagAction,disabled:this.state.error||this.state.saving},t(this.isActive()?"Resolve":"Report")))},FlaggingModal.prototype.render=function render(){var s=r("modal-text",{"body-1-text":!this.state.success,"body-2-text":this.state.success,success:this.state.success});return e.createElement(c,{handleClose:this.props.handleClose,modalName:t(this.isActive?"Resolve":"Report"),ref:"editThreadModal",className:"rc-FlaggingModal"},this.state.success||e.createElement("h3",{className:"c-modal-title headline-3-text"},t(this.isActive()?"Resolve report":"Report as inappropriate")),e.createElement("p",{className:s},this.getBodyText()),this.state.success||this.renderButtonContainer())},FlaggingModal}(e.Component),s.propTypes={handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired},s.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=l});
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(b,y){var n=b,i=n.document,d=n.navigator,T=n.setTimeout,B=n.encodeURIComponent,Fe=n.ActiveXObject,Xe=n.Error,ie=n.Number.parseInt||n.parseInt,Y=n.Number.parseFloat||n.parseFloat,ze=n.Number.isNaN||n.isNaN,x=n.Math.round,X=n.Date.now,A=n.Object.keys,se=n.Object.defineProperty,l=n.Object.prototype.hasOwnProperty,Oe=n.Array.prototype.slice,Ne=function(){var e=function unwrapper(e){return e};if("function"==typeof n.wrap&&"function"==typeof n.unwrap)try{var t=i.createElement("div"),r=n.unwrap(t);1===t.nodeType&&r&&1===r.nodeType&&(e=n.unwrap)}catch(a){}return e}(),a=function _args(e){return Oe.call(e,0)},o=function _extend(){var t,s,n,e,u,r,o=a(arguments),i=o[0]||{};for(t=1,s=o.length;s>t;t++)if(null!=(n=o[t]))for(e in n)l.call(n,e)&&(u=i[e],r=n[e],i!==r&&r!==y&&(i[e]=r));return i},m=function _deepCopy(e){var t,n,a,r;if("object"!==("undefined"==typeof e?"undefined":_typeof(e))||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,a=e.length;a>n;n++)l.call(e,n)&&(t[n]=_deepCopy(e[n]));else{t={};for(r in e)l.call(e,r)&&(t[r]=_deepCopy(e[r]))}return t},Ye=function _pick(n,t){for(var r={},e=0,a=t.length;a>e;e++)t[e]in n&&(r[t[e]]=n[t[e]]);return r},M=function _omit(t,r){var n={};for(var e in t)-1===r.indexOf(e)&&(n[e]=t[e]);return n},ee=function _deleteOwnProperties(e){if(e)for(var t in e)l.call(e,t)&&delete e[t];return e},z=function _containedBy(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},N=function _getDirPathOfUrl(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},ue=function _getCurrentScriptUrlFromErrorStack(t){var n,e;return"string"==typeof t&&t&&(e=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]?n=e[1]:(e=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]&&(n=e[1]))),n},de=function _getCurrentScriptUrlFromError(){var t,e;try{throw new Xe}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||ue(e.stack)),t},ye=function _getCurrentScriptUrl(){var t,e,n;if(i.currentScript&&(t=i.currentScript.src))return t;if(e=i.getElementsByTagName("script"),1===e.length)return e[0].src||y;if("readyState"in e[0])for(n=e.length;n--;)if("interactive"===e[n].readyState&&(t=e[n].src))return t;if("loading"===i.readyState&&(t=e[e.length-1].src))return t;if(t=de())return t;return y},xe=function _getUnanimousScriptParentDir(){var n,e,t,r=i.getElementsByTagName("script");for(n=r.length;n--;){if(!(t=r[n].src)){e=null;break}if(t=N(t),null==e)e=t;else if(e!==t){e=null;break}}return e||y},Ee=function _getDefaultSwfPath(){var e=N(ye())||xe()||"";return e+"ZeroClipboard.swf"},t={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},I="11.0.0",c={},u,D,f={},C=null,Je={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},r={swfPath:Ee(),trustedDomains:b.location.host?[b.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},P=function _config(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&null!==e)for(var n in e)if(l.call(e,n))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(n))r[n]=e[n];else if(null==t.bridge)if("containerId"===n||"swfObjectId"===n){if(!ae(e[n]))throw new Error("The specified `"+n+"` value is not valid as an HTML4 Element ID");r[n]=e[n]}else r[n]=e[n];if("string"==typeof e&&e){if(l.call(r,e))return r[e];return}return m(r)},R=function _state(){return{browser:Ye(d,["userAgent","platform","appName"]),flash:M(t,["bridge"]),zeroclipboard:{version:e.version,config:e.config()}}},Z=function _isFlashUnusable(){return!!(t.disabled||t.outdated||t.unavailable||t.deactivated)},V=function _on(r,u){var n,i,a,o={};if("string"==typeof r&&r)a=r.toLowerCase().split(/\s+/);else if("object"===("undefined"==typeof r?"undefined":_typeof(r))&&r&&"undefined"==typeof u)for(n in r)l.call(r,n)&&"string"==typeof n&&n&&"function"==typeof r[n]&&e.on(n,r[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)r=a[n].replace(/^on/,""),o[r]=!0,c[r]||(c[r]=[]),c[r].push(u);if(o.ready&&t.ready&&e.emit({type:"ready"}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=s.length;i>n;n++)if(t[s[n]]===!0){e.emit({type:"error",name:"flash-"+s[n]});break}}}return e},K=function _off(t,o){var n,s,i,a,r;if(0===arguments.length)a=A(c);else if("string"==typeof t&&t)a=t.split(/\s+/);else if("object"===("undefined"==typeof t?"undefined":_typeof(t))&&t&&"undefined"==typeof o)for(n in t)l.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&e.off(n,t[n]);if(a&&a.length)for(n=0,s=a.length;s>n;n++)if(t=a[n].toLowerCase().replace(/^on/,""),r=c[t],r&&r.length)if(o)for(i=r.indexOf(o);-1!==i;)r.splice(i,1),i=r.indexOf(o,i);else r.length=0;return e},U=function _listeners(e){var t;return t="string"==typeof e&&e?m(c[e])||null:m(c)},G=function _emit(n){var a,i,r;if(n=k(n),!n)return;if(ce(n))return;if("ready"===n.type&&t.overdue===!0)return e.emit({type:"error",name:"flash-overdue"});return a=o({},n),fe.call(this,a),"copy"===n.type&&(r=me(f),i=r.data,C=r.formatMap),i},J=function _create(){if("boolean"!=typeof t.ready&&(t.ready=!1),!e.isFlashUnusable()&&null===t.bridge){var n=r.flashLoadTimeout;"number"==typeof n&&n>=0&&T(function(){"boolean"!=typeof t.deactivated&&(t.deactivated=!0),t.deactivated===!0&&e.emit({type:"error",name:"flash-deactivated"})},n),t.overdue=!1,he()}},W=function _destroy(){e.clearData(),e.blur(),e.emit("destroy"),ve(),e.off()},q=function _setData(n,a){var t;if("object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&"undefined"==typeof a)t=n,e.clearData();else{if("string"!=typeof n||!n)return;t={},t[n]=a}for(var r in t)"string"==typeof r&&r&&l.call(t,r)&&"string"==typeof t[r]&&t[r]&&(f[r]=t[r])},Q=function _clearData(e){"undefined"==typeof e?(ee(f),C=null):"string"==typeof e&&l.call(f,e)&&delete f[e]},qe=function _getData(e){if("undefined"==typeof e)return m(f);if("string"==typeof e&&l.call(f,e))return f[e]},te=function _focus(e){if(!e||1!==e.nodeType)return;u&&(v(u,r.activeClass),u!==e&&v(u,r.hoverClass)),u=e,L(e,r.hoverClass);var n=e.getAttribute("title")||r.title;if("string"==typeof n&&n){var a=h(t.bridge);a&&a.setAttribute("title",n)}var i=r.forceHandCursor===!0||"pointer"===_e(e,"cursor");Ie(i),ke()},ne=function _blur(){var e=h(t.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),u&&(v(u,r.hoverClass),v(u,r.activeClass),u=null)},re=function _activeElement(){return u||null},ae=function _isValidHtml4Id(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},k=function _createEvent(n){var r;if("string"==typeof n&&n?(r=n,n={}):"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&"string"==typeof n.type&&n.type&&(r=n.type),!r)return;!n.target&&/^(copy|aftercopy|_click)$/.test(r.toLowerCase())&&(n.target=D),o(n,{type:r.toLowerCase(),target:n.target||u||null,relatedTarget:n.relatedTarget||null,currentTarget:t&&t.bridge||null,timeStamp:n.timeStamp||X()||null});var a=Je[n.type];return"error"===n.type&&n.name&&a&&(a=a[n.name]),a&&(n.message=a),"ready"===n.type&&o(n,{target:null,version:t.version}),"error"===n.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{target:null,minimumVersion:I}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{version:t.version})),"copy"===n.type&&(n.clipboardData={setData:e.setData,clearData:e.clearData}),"aftercopy"===n.type&&(n=ge(n,C)),n.target&&!n.relatedTarget&&(n.relatedTarget=oe(n.target)),n=le(n)},oe=function _getRelatedTarget(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?i.getElementById(t):null},le=function _addMouseData(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var a=e.target,d="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:y,p="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:y,l=j(a),v=n.screenLeft||n.screenX||0,m=n.screenTop||n.screenY||0,c=i.body.scrollLeft+i.documentElement.scrollLeft,f=i.body.scrollTop+i.documentElement.scrollTop,s=l.left+("number"==typeof e._stageX?e._stageX:0),u=l.top+("number"==typeof e._stageY?e._stageY:0),t=s-c,r=u-f,g=v+t,b=m+r,w="number"==typeof e.movementX?e.movementX:0,h="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,o(e,{srcElement:a,fromElement:d,toElement:p,screenX:g,screenY:b,pageX:s,pageY:u,clientX:t,clientY:r,x:t,y:r,movementX:w,movementY:h,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},O=function _shouldPerformAsync(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},S=function _dispatchCallback(e,t,n,r){r?T(function(){e.apply(t,n)},0):e.apply(t,n)},fe=function _dispatchCallbacks(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t||!t.type)return;var p=O(t),u=c["*"]||[],f=c[t.type]||[],a=u.concat(f);if(a&&a.length){var r,l,e,i,s,d=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=d,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(s=o({},t),S(e,i,[s],p))}return this},ce=function _preprocessEvent(n){var a=n.target||u||null,l="swf"===n._source;delete n._source;var y=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(n.type){case"error":-1!==y.indexOf(n.name)&&o(t,{disabled:"flash-disabled"===n.name,outdated:"flash-outdated"===n.name,unavailable:"flash-unavailable"===n.name,deactivated:"flash-deactivated"===n.name,overdue:"flash-overdue"===n.name,ready:!1});break;case"ready":var d=t.deactivated===!0;o(t,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:d,ready:!d});break;case"beforecopy":D=a;break;case"copy":var s,c,i=n.relatedTarget;!f["text/html"]&&!f["text/plain"]&&i&&(c=i.value||i.outerHTML||i.innerHTML)&&(s=i.value||i.textContent||i.innerText)?(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s),c!==s&&n.clipboardData.setData("text/html",c)):!f["text/plain"]&&n.target&&(s=n.target.getAttribute("data-clipboard-text"))&&(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s));break;case"aftercopy":e.clearData(),a&&a!==Te()&&a.focus&&a.focus();break;case"_mouseover":e.focus(a),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&p(o({},n,{type:"mouseenter",bubbles:!1,cancelable:!1})),p(o({},n,{type:"mouseover"})));break;case"_mouseout":e.blur(),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&p(o({},n,{type:"mouseleave",bubbles:!1,cancelable:!1})),p(o({},n,{type:"mouseout"})));break;case"_mousedown":L(a,r.activeClass),r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}));break;case"_mouseup":v(a,r.activeClass),r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}));break;case"_click":D=null,r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}));break;case"_mousemove":r.bubbleEvents===!0&&l&&p(o({},n,{type:n.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(n.type))return!0},p=function _fireMouseEvent(t){if(!t||"string"!=typeof t.type||!t)return;var r,a=t.target||null,l=a&&a.ownerDocument||i,s={view:l.defaultView||n,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:l.createEvent?0:1},e=o(s,t);if(!a)return;l.createEvent&&a.dispatchEvent&&(e=[e.type,e.canBubble,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget],r=l.createEvent("MouseEvents"),r.initMouseEvent&&(r.initMouseEvent.apply(r,e),r._source="js",a.dispatchEvent(r)))},pe=function _createHtmlBridge(){var e=i.createElement("div");return e.id=r.containerId,e.className=r.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+F(r.zIndex),e},h=function _getHtmlBridge(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},he=function _embedSwf(){var f,a=t.bridge,o=h(a);if(!a){var u=Ce(n.location.host,r),y="never"===u?"none":"all",p=we(r),c=r.swfPath+be(r.swfPath,r);o=pe();var d=i.createElement("div");o.appendChild(d),i.body.appendChild(o);var l=i.createElement("div"),s="activex"===t.pluginType;l.innerHTML='<object id="'+r.swfObjectId+'" name="'+r.swfObjectId+'" width="100%" height="100%" '+(s?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+c+'"')+">"+(s?'<param name="movie" value="'+c+'"/>':"")+'<param name="allowScriptAccess" value="'+u+'"/><param name="allowNetworking" value="'+y+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+p+'"/></object>',a=l.firstChild,l=null,Ne(a).ZeroClipboard=e,o.replaceChild(a,d)}return a||(a=i[r.swfObjectId],a&&(f=a.length)&&(a=a[f-1]),!a&&o&&(a=o.firstChild)),t.bridge=a||null,a},ve=function _unembedSwf(){var e=t.bridge;if(e){var n=h(e);n&&("activex"===t.pluginType&&"readyState"in e?(e.style.display="none",function removeSwfFromIE(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n)}else T(removeSwfFromIE,10)}()):(e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n))),t.ready=null,t.bridge=null,t.deactivated=null}},me=function _mapClipDataToFlash(t){var n={},r={};if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t)return;for(var e in t)if(e&&l.call(t,e)&&"string"==typeof t[e]&&t[e])switch(e.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":n.text=t[e],r.text=e;break;case"text/html":case"html":case"air:html":case"flash:html":n.html=t[e],r.html=e;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":n.rtf=t[e],r.rtf=e}return{data:n,formatMap:r}},ge=function _mapClipResultsFromFlash(e,n){if("object"!==("undefined"==typeof e?"undefined":_typeof(e))||!e||"object"!==("undefined"==typeof n?"undefined":_typeof(n))||!n)return e;var a={};for(var t in e)if(l.call(e,t)){if("success"!==t&&"data"!==t){a[t]=e[t];continue}a[t]={};var i=e[t];for(var r in i)r&&l.call(i,r)&&l.call(n,r)&&(a[t][n[r]]=i[r])}return a},be=function _cacheBust(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+X():""},we=function _vars(e){var r,s,a,t,i="",o=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?t=[e.trustedDomains]:"object"===_typeof(e.trustedDomains)&&"length"in e.trustedDomains&&(t=e.trustedDomains)),t&&t.length)for(r=0,s=t.length;s>r;r++)if(l.call(t,r)&&t[r]&&"string"==typeof t[r]){if(a=w(t[r]),!a)continue;if("*"===a){o.length=0,o.push(a);break}o.push.apply(o,[a,"//"+a,n.location.protocol+"//"+a])}return o.length&&(i+="trustedOrigins="+B(o.join(","))),e.forceEnhancedClipboard===!0&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(i+=(i?"&":"")+"swfObjectId="+B(e.swfObjectId)),i},w=function _extractDomain(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");if(e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase())return null;return e||null},Ce=function(){var e=function _extractAllDomains(e){var n,a,r,t=[];if("string"==typeof e&&(e=[e]),"object"!==("undefined"==typeof e?"undefined":_typeof(e))||!e||"number"!=typeof e.length)return t;for(n=0,a=e.length;a>n;n++)if(l.call(e,n)&&(r=w(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===t.indexOf(r)&&t.push(r)}return t};return function(t,i){var n=w(i.swfPath);null===n&&(n=t);var r=e(i.trustedDomains),a=r.length;if(a>0){if(1===a&&"*"===r[0])return"always";if(-1!==r.indexOf(t)){if(1===a&&t===n)return"sameDomain";return"always"}}return"never"}}(),Te=function _safeActiveElement(){try{return i.activeElement}catch(e){return null}},L=function _addClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var r=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",a=e.className,n=0,o=r.length;o>n;n++)i.indexOf(" "+r[n]+" ")<0&&(a+=" "+r[n]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},v=function _removeClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var a=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=a.length;i>r;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}return e},_e=function _getStyle(t,r){var e=n.getComputedStyle(t,null).getPropertyValue(r);if("cursor"===r&&(!e||"auto"===e)&&"A"===t.nodeName)return"pointer";return e},je=function _getZoomFactor(){var e,t,n,r=1;return"function"==typeof i.body.getBoundingClientRect&&(e=i.body.getBoundingClientRect(),t=e.right-e.left,n=i.body.offsetWidth,r=x(t/n*100)/100),r},j=function _getDOMObjectPosition(l){var t={left:0,top:0,width:0,height:0};if(l.getBoundingClientRect){var e=l.getBoundingClientRect(),r,a,o;"pageXOffset"in n&&"pageYOffset"in n?(r=n.pageXOffset,a=n.pageYOffset):(o=je(),r=x(i.documentElement.scrollLeft/o),a=x(i.documentElement.scrollTop/o));var s=i.documentElement.clientLeft||0,u=i.documentElement.clientTop||0;t.left=e.left+r-s,t.top=e.top+a-u,t.width="width"in e?e.width:e.right-e.left,t.height="height"in e?e.height:e.bottom-e.top}return t},ke=function _reposition(){var n;if(u&&(n=h(t.bridge))){var e=j(u);o(n.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+F(r.zIndex)})}},Ie=function _setHandCursor(e){t.ready===!0&&(t.bridge&&"function"==typeof t.bridge.setHandCursor?t.bridge.setHandCursor(e):t.ready=!1)},F=function _getSafeZIndex(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||ze(e)?"string"==typeof e&&(t=_getSafeZIndex(ie(e,10))):t=e,"number"==typeof t?t:"auto"},Le=function _detectFlashSupport(i){function parseFlashVersion(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function isPepperFlash(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function inspectPlugin(t){t&&(n=!0,t.version&&(e=parseFlashVersion(t.version)),!e&&t.description&&(e=parseFlashVersion(t.description)),t.filename&&(s=isPepperFlash(t.filename)))}var a,r,l,n=!1,o=!1,s=!1,e="";if(d.plugins&&d.plugins.length)a=d.plugins["Shockwave Flash"],inspectPlugin(a),d.plugins["Shockwave Flash 2.0"]&&(n=!0,e="2.0.0.11");else if(d.mimeTypes&&d.mimeTypes.length)l=d.mimeTypes["application/x-shockwave-flash"],a=l&&l.enabledPlugin,inspectPlugin(a);else if("undefined"!=typeof i){o=!0;try{r=new i("ShockwaveFlash.ShockwaveFlash.7"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(u){try{r=new i("ShockwaveFlash.ShockwaveFlash.6"),n=!0,e="6.0.21"}catch(f){try{r=new i("ShockwaveFlash.ShockwaveFlash"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(c){o=!1}}}}t.disabled=n!==!0,t.outdated=e&&Y(e)<Y(I),t.version=e||"0.0.0",t.pluginType=s?"pepper":o?"activex":n?"netscape":"unknown"};Le(Fe);var e=function ZeroClipboard(){if(!(this instanceof ZeroClipboard))return new ZeroClipboard;"function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,a(arguments))};se(e,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),e.config=function(){return P.apply(this,a(arguments))},e.state=function(){return R.apply(this,a(arguments))},e.isFlashUnusable=function(){return Z.apply(this,a(arguments))},e.on=function(){return V.apply(this,a(arguments))},e.off=function(){return K.apply(this,a(arguments))},e.handlers=function(){return U.apply(this,a(arguments))},e.emit=function(){return G.apply(this,a(arguments))},e.create=function(){return J.apply(this,a(arguments))},e.destroy=function(){return W.apply(this,a(arguments))},e.setData=function(){return q.apply(this,a(arguments))},e.clearData=function(){return Q.apply(this,a(arguments))},e.getData=function(){return qe.apply(this,a(arguments))},e.focus=e.activate=function(){return te.apply(this,a(arguments))},e.blur=e.deactivate=function(){return ne.apply(this,a(arguments))},e.activeElement=function(){return re.apply(this,a(arguments))};var Se=0,s={},Ae=0,g={},E={};o(r,{autoActivate:!0});var $e=function _clientConstructor(n){var t=this;t.id=""+Se++,s[t.id]={instance:t,elements:[],handlers:{}},n&&t.clip(n),e.on("*",function(e){return t.emit(e)}),e.on("destroy",function(){t.destroy()}),e.create()},Be=function _clientOn(n,f){var e,a,r,i={},o=s[this.id]&&s[this.id].handlers;if("string"==typeof n&&n)r=n.toLowerCase().split(/\s+/);else if("object"===("undefined"==typeof n?"undefined":_typeof(n))&&n&&"undefined"==typeof f)for(e in n)l.call(n,e)&&"string"==typeof e&&e&&"function"==typeof n[e]&&this.on(e,n[e]);if(r&&r.length){for(e=0,a=r.length;a>e;e++)n=r[e].replace(/^on/,""),i[n]=!0,o[n]||(o[n]=[]),o[n].push(f);if(i.ready&&t.ready&&this.emit({type:"ready",client:this}),i.error){var u=["disabled","outdated","unavailable","deactivated","overdue"];for(e=0,a=u.length;a>e;e++)if(t[u[e]]){this.emit({type:"error",name:"flash-"+u[e],client:this});break}}}return this},He=function _clientOff(e,i){var t,o,a,r,n,u=s[this.id]&&s[this.id].handlers;if(0===arguments.length)r=A(u);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"undefined"==typeof i)for(t in e)l.call(e,t)&&"string"==typeof t&&t&&"function"==typeof e[t]&&this.off(t,e[t]);if(r&&r.length)for(t=0,o=r.length;o>t;t++)if(e=r[t].toLowerCase().replace(/^on/,""),n=u[e],n&&n.length)if(i)for(a=n.indexOf(i);-1!==a;)n.splice(a,1),a=n.indexOf(i,a);else n.length=0;return this},Me=function _clientListeners(e){var n=null,t=s[this.id]&&s[this.id].handlers;return t&&(n="string"==typeof e&&e?t[e]?t[e].slice(0):[]:m(t)),n},Pe=function _clientEmit(e){if(Ue.call(this,e)){"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"string"==typeof e.type&&e.type&&(e=o({},e));var t=o({},k(e),{client:this});Ge.call(this,t)}return this},Re=function _clientClip(e){e=H(e);for(var t=0;t<e.length;t++)if(l.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===g[e[t].zcClippingId].indexOf(this.id)&&g[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ae++,g[e[t].zcClippingId]=[this.id],r.autoActivate===!0&&We(e[t]));var n=s[this.id]&&s[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},Ze=function _clientUnclip(e){var o=s[this.id];if(!o)return this;var i=o.elements,t;e="undefined"==typeof e?i.slice(0):H(e);for(var n=e.length;n--;)if(l.call(e,n)&&e[n]&&1===e[n].nodeType){for(t=0;-1!==(t=i.indexOf(e[n],t));)i.splice(t,1);var a=g[e[n].zcClippingId];if(a){for(t=0;-1!==(t=a.indexOf(this.id,t));)a.splice(t,1);0===a.length&&(r.autoActivate===!0&&De(e[n]),delete e[n].zcClippingId)}}return this},Ve=function _clientElements(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]},Ke=function _clientDestroy(){this.unclip(),this.off(),delete s[this.id]},Ue=function _clientShouldEmit(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=s[this.id]&&s[this.id].elements,n=!!t&&t.length>0,r=!e.target||n&&-1!==t.indexOf(e.target),a=e.relatedTarget&&n&&-1!==t.indexOf(e.relatedTarget),i=e.client&&e.client===this;if(!(r||a||i))return!1;return!0},Ge=function _clientDispatchCallbacks(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t||!t.type)return;var p=O(t),f=s[this.id]&&s[this.id].handlers["*"]||[],c=s[this.id]&&s[this.id].handlers[t.type]||[],a=f.concat(c);if(a&&a.length){var r,l,e,i,u,d=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=d,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(u=o({},t),S(e,i,[u],p))}return this},H=function _prepClip(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},We=function _addMouseHandlers(t){if(!t||1!==t.nodeType)return;var r=function _suppressMouseEvents(e){if(!e&&!(e=n.event))return;"js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source},a=function _elementMouseOver(a){if(!a&&!(a=n.event))return;r(a),e.focus(t)};t.addEventListener("mouseover",a,!1),t.addEventListener("mouseout",r,!1),t.addEventListener("mouseenter",r,!1),t.addEventListener("mouseleave",r,!1),t.addEventListener("mousemove",r,!1),E[t.zcClippingId]={mouseover:a,mouseout:r,mouseenter:r,mouseleave:r,mousemove:r}},De=function _removeMouseHandlers(e){if(!e||1!==e.nodeType)return;var t=E[e.zcClippingId];if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||!t)return;for(var n,r,i=["move","leave","enter","out","over"],a=0,o=i.length;o>a;a++)n="mouse"+i[a],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete E[e.zcClippingId]};e._createClient=function(){$e.apply(this,a(arguments))},e.prototype.on=function(){return Be.apply(this,a(arguments))},e.prototype.off=function(){return He.apply(this,a(arguments))},e.prototype.handlers=function(){return Me.apply(this,a(arguments))},e.prototype.emit=function(){return Pe.apply(this,a(arguments))},e.prototype.clip=function(){return Re.apply(this,a(arguments))},e.prototype.unclip=function(){return Ze.apply(this,a(arguments))},e.prototype.elements=function(){return Ve.apply(this,a(arguments))},e.prototype.destroy=function(){return Ke.apply(this,a(arguments))},e.prototype.setText=function(t){return e.setData("text/plain",t),this},e.prototype.setHtml=function(t){return e.setData("text/html",t),this},e.prototype.setRichText=function(t){return e.setData("application/rtf",t),this},e.prototype.setData=function(){return e.setData.apply(this,a(arguments)),this},e.prototype.clearData=function(){return e.clearData.apply(this,a(arguments)),this},e.prototype.getData=function(){return e.getData.apply(this,a(arguments))},"function"==typeof define&&define.amd?define("bundles/zeroclipboard/ZeroClipboard.v2-1-6",[],function(){return e}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)&&module.exports?module.exports=e:b.ZeroClipboard=e}(function(){return this||window}());
define("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6",["require","exports","module","jquery","bundles/zeroclipboard/ZeroClipboard.v2-1-6","js/app/config","js/lib/path"],function(require,exports,module){var $=require("jquery"),a=require("bundles/zeroclipboard/ZeroClipboard.v2-1-6"),e=require("js/app/config"),n=require("js/lib/path"),i=n.join(e.url.app_assets,"bundles/zeroclipboard/ZeroClipboard.swf");a.config({swfPath:i});var r={constants:{"data.clipboard":"clipboard.me"},getClipboard:function getClipboard(a){return $(a).data(r.constants["data.clipboard"])},makeClipboard:function makeClipboard(o){var n=$(o),e=new a(o);return n.data(r.constants["data.clipboard"],e),e}},o=function external(){if(!a.isFlashUnusable())return r.getClipboard.apply(null,arguments)||r.makeClipboard.apply(this,arguments)};o.isEnabled=function(){return!a.isFlashUnusable()},module.exports=o});
define("bundles/ui/components/CopyLink/ZeroClipboardCopyLink",["require","exports","module","react-dom","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react","bundles/iconfont/Icon","i18n!nls/ondemand","classnames"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var o=i[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,a=require("react-dom"),n=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react"),s=require("bundles/iconfont/Icon"),r=require("i18n!nls/ondemand"),i=require("classnames"),c=(o=t=function(t){function ZeroClipboardCopyLink(){var r,e,i;_classCallCheck(this,ZeroClipboardCopyLink);for(var a=arguments.length,s=Array(a),o=0;a>o;o++)s[o]=arguments[o];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(s))),e.state={isCopied:!1,isZeroClipboardEnabled:n.isEnabled()},e.copyLinkToClipboard=function(t){e.setState({isCopied:!0}),setTimeout(e.reset,3e3)},e.reset=function(){e.setState({isCopied:!1})},i=r,_possibleConstructorReturn(e,i)}return _inherits(ZeroClipboardCopyLink,t),ZeroClipboardCopyLink.prototype.componentDidMount=function componentDidMount(){this.state.isZeroClipboardEnabled&&n(a.findDOMNode(this.refs.copyButton))},ZeroClipboardCopyLink.prototype.render=function render(){var t=i("caption-text","color-secondary-text","clipboard-message",{"transition-in":this.state.isCopied}),o=i("horizontal-box","box",{copied:this.state.isCopied}),n=e.createElement("button",{ref:"copyButton","data-clipboard-target":"link",onClick:this.copyLinkToClipboard,className:"secondary copy"},r("Copy")),a=e.createElement("button",{className:"primary checkmark"},e.createElement(s,{name:"check"}));return e.createElement("div",null,e.createElement("div",{className:o},e.createElement("div",{id:"link",className:"flex-1 link horizontal-box align-items-vertical-center bgcolor-white"},this.props.shareLink),e.createElement("p",null),this.state.isCopied?a:n),this.state.isCopied&&e.createElement("div",{className:t},r("Copied to clipboard")))},ZeroClipboardCopyLink}(e.Component),t.propTypes={shareLink:e.PropTypes.string.isRequired},o);module.exports=c});

define('css!bundles/ui/components/CopyLink/__styles__/CopyLink',[],function(){})
define("bundles/ui/components/CopyLink/CopyLink",["require","exports","module","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react","classnames","bundles/ui/components/CopyLink/ZeroClipboardCopyLink","css!./__styles__/CopyLink"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),r=0;r<s.length;r++){var t=s[r],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var t,n,o,r,s=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react"),i=require("classnames"),a=require("bundles/ui/components/CopyLink/ZeroClipboardCopyLink");require("css!./__styles__/CopyLink");var p=(n=t=function(r){function CopyLinkWithoutClipboard(){return _classCallCheck(this,CopyLinkWithoutClipboard),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(CopyLinkWithoutClipboard,r),CopyLinkWithoutClipboard.prototype.render=function render(){return e.createElement("div",null,e.createElement("input",{type:"text",className:"c-link-input color-primary-text body-1-text",value:this.props.shareLink,readOnly:"readonly"}),e.createElement("div",{className:"caption-text color-hint-text c-copy-message"},this.props.message))},CopyLinkWithoutClipboard}(e.Component),t.propTypes={shareLink:e.PropTypes.string.isRequired,message:e.PropTypes.string.isRequired},n),c=(r=o=function(r){function CopyLink(){var n,t,o;_classCallCheck(this,CopyLink);for(var i=arguments.length,a=Array(i),e=0;i>e;e++)a[e]=arguments[e];return n=t=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(a))),t.state={isZeroClipboardEnabled:s.isEnabled()},o=n,_possibleConstructorReturn(t,o)}return _inherits(CopyLink,r),CopyLink.prototype.render=function render(){var r=this.props,n=r.className,t=r.shareLink,o=r.message,s=i(n,"rc-CopyLink","vertical-box");return e.createElement("div",{className:s},this.state.isZeroClipboardEnabled?e.createElement(a,{shareLink:t}):e.createElement(p,{shareLink:t,message:o}))},CopyLink}(e.Component),o.propTypes={shareLink:e.PropTypes.string.isRequired,message:e.PropTypes.string.isRequired,className:e.PropTypes.string},r);module.exports=c});

define('css!bundles/discussions/components/__styles__/ShareModal',[],function(){})
define("bundles/discussions/components/ShareModal",["require","exports","module","i18n!nls/discussions","react","bundles/phoenix/components/Modal","bundles/discussions/utils/discussionsUrl","bundles/ui/components/CopyLink/CopyLink","css!./__styles__/ShareModal"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),n=0;n<r.length;n++){var o=r[n],t=Object.getOwnPropertyDescriptor(s,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var o,t,n=require("i18n!nls/discussions"),e=require("react"),s=require("bundles/phoenix/components/Modal"),r=require("bundles/discussions/utils/discussionsUrl"),i=r.buildUrl,l=require("bundles/ui/components/CopyLink/CopyLink");require("css!./__styles__/ShareModal");var u=(t=o=function(o){function ShareModal(){return _classCallCheck(this,ShareModal),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(ShareModal,o),ShareModal.prototype.render=function render(){var o=this.props,t=o.post,r=o.handleClose,u=o.forumLink,a=window.location.origin+i(u,t.questionId,t.topLevelForumAnswerId,t.forumCommentId);return e.createElement(s,{modalName:n("Share Post"),handleClose:r,className:"rc-ShareModal"},e.createElement("h3",{className:"c-modal-title headline-3-text"},n("Share Post")),e.createElement(l,{shareLink:a,message:n("Copy the url for the post")}))},ShareModal}(e.Component),o.propTypes={handleClose:e.PropTypes.func.isRequired,post:e.PropTypes.object.isRequired,forumLink:e.PropTypes.string},t);module.exports=u});
define("bundles/discussions/components/HighlightModal",["require","exports","module","react","bundles/phoenix/components/Modal","bundles/page/components/TrackedButton","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,i){for(var r=Object.getOwnPropertyNames(i),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(i,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,n,e=require("react"),i=require("bundles/phoenix/components/Modal"),r=require("bundles/page/components/TrackedButton"),t=require("i18n!nls/discussions"),a=(n=o=function(n){function HighlightModal(){return _classCallCheck(this,HighlightModal),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(HighlightModal,n),HighlightModal.prototype.render=function render(){var o=this.props,n=o.isHighlighted,l=o.handleAccept,c=o.handleCancel,a=t(n?"Unmark as Highlighted":"Mark as Highlighted"),s=n?"unmark_as_highlighted":"mark_as_highlighted";return e.createElement(i,{allowClose:!1,modalName:a,trackingName:s,className:"rc-HighlightModal"},e.createElement("h3",{className:"c-modal-title headline-3-text"},a),e.createElement("div",{className:"body-1-text"},!n&&t('This will mark the post as "Highlighted" and duplicate it at the top of\n            the page. There can only be one Highlighted Post so it will replace any previous one.\n          '),n&&t("This will remove the post from the top of the page but it will still be\n            visible in the list of posts below.\n          ")),e.createElement("div",{className:"horizontal-box align-items-right",style:{marginTop:40}},e.createElement("button",{className:"passive",onClick:c},t("Cancel")),e.createElement(r,{className:"primary",onClick:l,style:{marginLeft:20},trackingName:s},t(n?"Unmark":"Mark"))))},HighlightModal}(e.Component),o.propTypes={isHighlighted:e.PropTypes.bool,handleAccept:e.PropTypes.func.isRequired,handleCancel:e.PropTypes.func.isRequired},n);module.exports=a});
define("bundles/groups/constants/GroupRoles",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var e=require("js/lib/keysToConstants");module.exports=e(["Member","GroupManager","DerivedGroupManager"])});
define("pages/open-course/common/promises/groupAuthorizationPromise",["require","exports","module","q","underscore","bundles/groups/constants/GroupRoles","js/lib/user","bundles/groups/utils/GroupMembershipAPIUtils"],function(require,exports,module){var e=require("q"),_=require("underscore"),o=require("bundles/groups/constants/GroupRoles"),s=require("js/lib/user"),n=require("bundles/groups/utils/GroupMembershipAPIUtils"),r={},u=function groupMembershipsPromise(u,t,i){if(!t)return e({canModerate:!1});if(i)return e({canModerate:!0});if(r[u])return e(r[u]);return n.getMembershipsForUser(s.get().id).then(function(s){var n=s.elements,t=_(n).find(function(e){return e.groupId===u&&(e.role===o.GroupManager||e.role===o.DerivedGroupManager)}),e={canModerate:!1};return t&&(e={canModerate:!0}),r[u]=e,e})};module.exports=u});

define('css!bundles/discussions/components/__styles__/ModerationDropdown',[],function(){})
define("bundles/discussions/components/ModerationDropdown",["require","exports","module","jquery","jsuri","react-dom","react","underscore","bundles/discussions/actions/DropdownActions","bundles/discussions/components/Delete","bundles/discussions/components/EditThreadModal","bundles/discussions/components/EditWithModerationModal","bundles/discussions/components/FlaggingModal","bundles/discussions/components/ShareModal","bundles/discussions/components/HighlightModal","bundles/programming/utils/ProgrammingPermissionsUtils","pages/open-course/common/promises/groupAuthorizationPromise","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/components/discussionsForumsHOC","bundles/discussions/utils/areHighlightedPostsEnabled","i18n!nls/discussions","css!./__styles__/ModerationDropdown"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),o=0;o<i.length;o++){var t=i[o],s=Object.getOwnPropertyDescriptor(n,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var s,i,$=require("jquery"),r=require("jsuri"),a=require("react-dom"),e=require("react"),_=require("underscore"),t=require("bundles/discussions/actions/DropdownActions"),l=t.showAdminDetails,d=t.hideAdminDetails,u=t.showReplyEditor,c=t.highlightPost,p=t.unhighlightPost,h=require("bundles/discussions/components/Delete"),v=require("bundles/discussions/components/EditThreadModal"),m=require("bundles/discussions/components/EditWithModerationModal"),g=require("bundles/discussions/components/FlaggingModal"),w=require("bundles/discussions/components/ShareModal"),f=require("bundles/discussions/components/HighlightModal"),b=require("bundles/programming/utils/ProgrammingPermissionsUtils"),M=require("pages/open-course/common/promises/groupAuthorizationPromise"),y=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),D=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),S=require("bundles/naptimejs/resources/groupForums.v1"),E=require("js/lib/connectToRouter"),T=require("bundles/discussions/utils/routerConnectToCurrentForum"),P=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),C=require("bundles/discussions/components/discussionsForumsHOC"),j=require("bundles/discussions/utils/areHighlightedPostsEnabled"),o=require("i18n!nls/discussions");require("css!./__styles__/ModerationDropdown");var n=(i=s=function(t){function ModerationDropdown(o,s){_classCallCheck(this,ModerationDropdown);var e=_possibleConstructorReturn(this,t.call(this,o,s));return e.onEditClick=function(){var o=e.props,t=o.creator,s=o.userId,n=o.post,i=t.userId===s;i||"question"===n.type?e.showEdit():e.showEditWithModerationModal()},e.onFlaggingClick=function(){e.setState({showFlaggingModal:!0}),e.closeDropdown()},e.onShareClick=function(){e.setState({showShareModal:!0}),e.closeDropdown()},e.closeOnOutsideClick=function(o){$(a.findDOMNode(e)).find($(o.target)).length<=0&&e.closeDropdown()},e.showAdminDetails=function(){e.setState({showAdminDetails:!0}),e.context.executeAction(l,{post:e.props.post}),e.closeDropdown()},e.hideAdminDetails=function(){e.setState({showAdminDetails:!1}),e.context.executeAction(d,{post:e.props.post}),e.closeDropdown()},e.showDeleteModal=function(){e.setState({showDeleteModal:!0}),e.closeDropdown()},e.editWithModerationModalSuccess=function(o,t){e.setState({showEditWithModerationModal:!1}),e.showEditReply(o,t)},e.openDropdown=function(){e.setState({expandDropdown:!0}),$("body").on("click",e.closeOnOutsideClick)},e.showEdit=function(){"question"===e.props.post.type?e.showEditQuestion():e.showEditReply(),e.closeDropdown()},e.showSubmissions=function(){var o=e.props,t=o.post,s=o.courseSlug,n=o.itemId,i=new r("/teach/"+s+"/monitor/programming").addQueryParam("assignmentId",n).addQueryParam("userId",t.creatorId).toString();window.open(i,"_blank"),e.closeDropdown()},e.state={expandDropdown:!1,showDeleteModal:!1,canModerate:!1,showAdminDetails:!1,showEditThreadModal:!1,showEditWithModerationModal:!1,showShareModal:!1,showHighlightModal:!1},e}return _inherits(ModerationDropdown,t),ModerationDropdown.prototype.componentWillMount=function componentWillMount(){var o=this,e=this.props,n=e.authenticated,i=e.isSuperuser,t=e.currentForum,r=e.hasModerationRole,s=t&&t.forumType.definition.groupId;s?M(s,n,i).then(function(e){o._isMounted&&o.setState(e)}):this.setState({canModerate:r})},ModerationDropdown.prototype.componentDidMount=function componentDidMount(){this._isMounted=!0},ModerationDropdown.prototype.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},ModerationDropdown.prototype.closeDropdown=function closeDropdown(){this.setState({expandDropdown:!1}),$("body").off("click",this.closeOnOutsideClick)},ModerationDropdown.prototype.showEditQuestion=function showEditQuestion(){this.setState({showEditThreadModal:!0})},ModerationDropdown.prototype.showEditReply=function showEditReply(e,o){this.context.executeAction(u,{reply:this.props.post,reason:e,dontNotify:o})},ModerationDropdown.prototype.showEditWithModerationModal=function showEditWithModerationModal(){this.setState({showEditWithModerationModal:!0}),this.closeDropdown()},ModerationDropdown.prototype.render=function render(){var t=this,s=this.props,n=s.post,D=s.userId,F=s.forumLink,y=s.courseId,M=s.question,W=s.creator,u=s.hasTeachingRole,l=s.isSuperuser,R=s.isProgrammingItem,a=s.isHighlighted,E=s.onDeleteSuccess,i=this.state,P=i.expandDropdown,C=i.showDeleteModal,k=i.showEditThreadModal,A=i.showEditWithModerationModal,I=i.showFlaggingModal,O=i.showShareModal,x=i.showHighlightModal,d=i.canModerate,S=i.showAdminDetails,H=n.forumType,q="question"===n.type,r=W.userId===D,N=M&&M.creatorId===D,T=b.hasAdminPrivileges(u);return e.createElement("div",{className:"rc-Dropdown align-self-start"},e.createElement("button",{"aria-haspopup":"true","aria-label":"Settings Menu",onClick:this.openDropdown},e.createElement("i",{className:"cif-chevron-down c-dropdown-chevron"})),P&&e.createElement("ul",{className:"styleguide dropdown"},(r||d)&&e.createElement("li",null,e.createElement("button",{"data-js":"edit",onClick:this.onEditClick},o("Edit"))),(r||d)&&e.createElement("li",null,e.createElement("button",{"data-js":"delete",onClick:this.showDeleteModal},o("Delete"))),!r&&e.createElement("li",null,e.createElement("button",{"data-js":"flag",onClick:this.onFlaggingClick},o(n.flagDetails&&n.flagDetails.isActive?"Resolve report":"Report this"))),(u||l)&&S&&e.createElement("li",null,e.createElement("button",{"data-js":"userId",onClick:this.hideAdminDetails},o("Hide User ID"))),(u||l)&&!S&&e.createElement("li",null,e.createElement("button",{"data-js":"userId",onClick:this.showAdminDetails},o("Show User ID"))),R&&T&&e.createElement("li",null,e.createElement("button",{"data-js":"viewSubmissions",onClick:this.showSubmissions},o("View submissions"))),e.createElement("li",null,e.createElement("button",{"data-js":"share",onClick:this.onShareClick},o("Link to Post"))),!q&&(d||l||N)&&j(y,H)&&e.createElement("li",null,e.createElement("button",{"data-js":"highlight",onClick:function onClick(){t.setState({showHighlightModal:!0}),t.closeDropdown()}},!a&&o("Mark as highlighted"),a&&o("Unmark as highlighted")))),C&&e.createElement(h,{post:n,showReasons:!r,onDeleteSuccess:E,handleClose:function handleClose(){return t.setState({showDeleteModal:!1})}}),k&&e.createElement(v,{question:n,courseId:y,showReasons:!r,handleClose:function handleClose(){return t.setState({showEditThreadModal:!1})}}),A&&e.createElement(m,{handleSuccess:this.editWithModerationModalSuccess,handleCancel:function handleCancel(){return t.setState({showEditWithModerationModal:!1})}}),I&&e.createElement(g,{post:n,handleClose:function handleClose(){return t.setState({showFlaggingModal:!1})}}),O&&e.createElement(w,{post:n,forumLink:F,handleClose:function handleClose(){return t.setState({showShareModal:!1})}}),x&&e.createElement(f,{isHighlighted:a,handleCancel:function handleCancel(){return t.setState({showHighlightModal:!1})},handleAccept:function handleAccept(){a?t.context.executeAction(p,{post:n}):t.context.executeAction(c,{post:n}),t.setState({showHighlightModal:!1})}}))},ModerationDropdown}(e.Component),s.propTypes={creator:e.PropTypes.object.isRequired,post:e.PropTypes.object.isRequired,hasTeachingRole:e.PropTypes.bool,onDeleteSuccess:e.PropTypes.func,isProgrammingItem:e.PropTypes.bool,isHighlighted:e.PropTypes.bool,forumLink:e.PropTypes.string,courseSlug:e.PropTypes.string,courseId:e.PropTypes.string,userId:e.PropTypes.number,authenticated:e.PropTypes.bool,isSuperuser:e.PropTypes.bool,hasModerationRole:e.PropTypes.bool,itemId:e.PropTypes.string,question:e.PropTypes.object,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(y),e.PropTypes.instanceOf(D),e.PropTypes.instanceOf(S)])},s.contextTypes={executeAction:e.PropTypes.func.isRequired},i);module.exports=_.compose(C({fields:["forumType"]}),E(T),P(["CourseMembershipStore","CourseStore","ApplicationStore","ThreadDetailsStore"],function(e,i){var u=e.CourseMembershipStore,d=e.CourseStore,n=e.ApplicationStore,r=e.ThreadDetailsStore,s=i.currentForum,a=i.post,l=a.questionId,o=s&&s.forumType.definition.itemId,t=!!o&&d.getMaterials().getItemMetadata(o),c=t&&t.getTypeName(),p=_(["gradedProgramming","ungradedProgramming"]).includes(c);return{hasTeachingRole:u.hasTeachingRole(),isProgrammingItem:p,itemId:o,isSuperuser:n.isSuperuser(),authenticated:n.isAuthenticatedUser(),question:r.getQuestion(l)}}))(n),module.exports.BaseComponent=n});

define('css!bundles/discussions/components/profiles/__styles__/ProfileArea',[],function(){})
define("bundles/discussions/components/profiles/ProfileArea",["require","exports","module","react","react-router","bundles/classmates/components/ProfileImageWithRole","bundles/classmates/components/MiniProfileRenderer","bundles/discussions/utils/discussionsUrl","css!./__styles__/ProfileArea"],function(require,exports,module){function _defaults(e,s){for(var n=Object.getOwnPropertyNames(s),r=0;r<n.length;r++){var t=n[r],o=Object.getOwnPropertyDescriptor(s,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),o=require("react-router"),s=o.Link,n=require("bundles/classmates/components/ProfileImageWithRole"),i=require("bundles/classmates/components/MiniProfileRenderer"),l=require("bundles/discussions/utils/discussionsUrl"),a=l.getProfileLink;require("css!./__styles__/ProfileArea");var c=(t=r=function(r){function ProfileArea(){return _classCallCheck(this,ProfileArea),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ProfileArea,r),ProfileArea.prototype.render=function render(){var t=this,r=this.props,o=r.externalUserId,c=r.fullName,u=r.profileImageUrl,l=r.courseRole;return e.createElement("span",{className:"rc-ProfileArea"},e.createElement(s,{className:"nostyle c-profile-image-wrapper",to:a(o),onMouseEnter:function onMouseEnter(e){return t.refs.miniProfile.display(e)},onMouseLeave:function onMouseLeave(e){return t.refs.miniProfile.hide(e)}},e.createElement(n,{courseRole:l,profileImageUrl:u,fullName:c})),e.createElement("span",{"data-js":"mini-profile"},e.createElement(i,{ref:"miniProfile",source:"profileArea",externalId:o,courseRole:l})))},ProfileArea}(e.Component),r.propTypes={externalUserId:e.PropTypes.string.isRequired,fullName:e.PropTypes.string.isRequired,profileImageUrl:e.PropTypes.string,courseRole:e.PropTypes.string},r.contextTypes={router:e.PropTypes.object.isRequired},t);module.exports=c});

define('css!bundles/discussions/components/__styles__/AdminDetails',[],function(){})
define("bundles/discussions/components/AdminDetails",["require","exports","module","i18n!nls/discussions","react","css!./__styles__/AdminDetails"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),t=0;t<o.length;t++){var n=o[t],r=Object.getOwnPropertyDescriptor(s,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,r=require("i18n!nls/discussions"),e=require("react");require("css!./__styles__/AdminDetails");var s=(n=t=function(t){function AdminDetails(){return _classCallCheck(this,AdminDetails),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(AdminDetails,t),AdminDetails.prototype.render=function render(){var t=this.props.post;return t.showAdminDetails?e.createElement("div",{className:"rc-AdminDetails align-self-end"},e.createElement("p",null,r("User ID")+": "+t.creator.userId)):null},AdminDetails}(e.Component),t.propTypes={post:e.PropTypes.object.isRequired},n);module.exports=s});

define('css!bundles/discussions/components/__styles__/Badge',[],function(){})
define("bundles/discussions/components/Badge",["require","exports","module","react","i18n!nls/discussions","css!./__styles__/Badge"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),n=require("i18n!nls/discussions");require("css!./__styles__/Badge");var o=(r=t=function(t){function Badge(){return _classCallCheck(this,Badge),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(Badge,t),Badge.prototype.render=function render(){var r=this.props.creator,o="rc-Badge ";if(r.isSuperuser)return e.createElement("span",{className:o+"bgcolor-primary-light"},n("Coursera Staff"));var s=r.courseRole,t=void 0;switch(s){case"MENTOR":t="Mentor";break;case"INSTRUCTOR":t="Instructor";break;case"TEACHING_STAFF":t="Teaching Staff";break;case"UNIVERSITY_ADMIN":t="Staff";break;case"DATA_COORDINATOR":t="Staff";break;default:t=""}if(t)return e.createElement("span",{className:o+"bgcolor-success-light"},t);return null},Badge}(e.Component),t.propTypes={creator:e.PropTypes.object},r);module.exports=o});
define("bundles/discussions/components/NextViewLink",["require","exports","module","underscore","react","react-router","js/lib/path","bundles/discussions/components/discussionsForumsHOC","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/groupForums.v1","js/lib/mapProps"],function(require,exports,module){function _defaults(e,s){for(var t=Object.getOwnPropertyNames(s),o=0;o<t.length;o++){var r=t[o],n=Object.getOwnPropertyDescriptor(s,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var o,r,s=require("underscore"),t=s.compose,e=require("react"),u=require("react-router"),n=u.Link,i=require("js/lib/path"),c=require("bundles/discussions/components/discussionsForumsHOC"),p=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),a=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),l=require("js/lib/connectToRouter"),m=require("bundles/discussions/utils/routerConnectToCurrentForum"),f=require("bundles/naptimejs/resources/groupForums.v1"),d=require("js/lib/mapProps"),b=(r=o=function(o){function NextViewLink(){return _classCallCheck(this,NextViewLink),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(NextViewLink,o),NextViewLink.prototype.render=function render(){if(!this.props.questionForum)return null;var o=i.join(this.props.rootPath,this.props.questionForum.link),r=this.props.questionForum.title;if(!o||!r)return null;return e.createElement("span",{className:"rc-NextViewName"},e.createElement(n,{to:o,className:"caption-text"},r))},NextViewLink}(e.Component),o.propTypes={question:e.PropTypes.object.isRequired,questionForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(p),e.PropTypes.instanceOf(a),e.PropTypes.instanceOf(f)]),rootPath:e.PropTypes.string},o.contextTypes={executeAction:e.PropTypes.func.isRequired},r);module.exports=t(c({fields:["link","title"]}),l(m),d(function(e){var o=e.question.forumId;return{questionForum:e.courseForums.concat(e.mentorForums)&&e.courseForums.find(function(e){return e.forumId===o})}}))(b)});
define("bundles/discussions/components/CreatedTimeLink",["require","exports","module","react","moment","bundles/discussions/utils/discussionsUrl"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,t,e=require("react"),n=require("moment"),o=require("bundles/discussions/utils/discussionsUrl"),s=o.buildUrl,i=(t=r=function(t){function CreatedTimeLink(){return _classCallCheck(this,CreatedTimeLink),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CreatedTimeLink,t),CreatedTimeLink.prototype.render=function render(){var r=this.props,t=r.post,o=r.forumLink,i=s(o,t.questionId,t.topLevelForumAnswerId,t.forumCommentId),u=n(new Date(t.createdAt)).fromNow();return e.createElement("a",{href:i,target:"_blank",className:"rc-CreatedTimeLink dim color-hint-text caption-text"},u)},CreatedTimeLink}(e.Component),r.propTypes={post:e.PropTypes.object.isRequired,forumLink:e.PropTypes.string},t);module.exports=i});
define("bundles/discussions/components/EditIndicator",["require","exports","module","react","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),n=require("i18n!nls/discussions"),o=(r=t=function(t){function EditIndicator(){return _classCallCheck(this,EditIndicator),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(EditIndicator,t),EditIndicator.prototype.render=function render(){var t=this.props.post;if(!t.state.edited)return null;var r=t.state.edited.userId!==t.creator.userId;return e.createElement("span",{className:"rc-EditIndicator"},e.createElement("span",null," · "),n(r?"Edited by moderator":"Edited"))},EditIndicator}(e.Component),t.propTypes={post:e.PropTypes.object.isRequired},r);module.exports=o});

define('css!bundles/discussions/components/__styles__/Upvote',[],function(){})
define("bundles/discussions/components/Upvote",["require","exports","module","react","i18n!nls/discussions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/actions/ThreadDetailsActions","css!./__styles__/Upvote"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var o=s[t],n=Object.getOwnPropertyDescriptor(r,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,e=require("react"),n=require("i18n!nls/discussions"),s=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("bundles/discussions/actions/ThreadDetailsActions"),c=r.upvote,i=r.cancelUpvote;require("css!./__styles__/Upvote");var p=(o=t=function(t){function Upvote(){var n,e,r;_classCallCheck(this,Upvote);for(var s=arguments.length,p=Array(s),o=0;s>o;o++)p[o]=arguments[o];return n=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(p))),e.toggleUpvote=function(){var t=e.props.post;t.isUpvoted?e.context.executeAction(i,{post:t}):e.context.executeAction(c,{post:t})},r=n,_possibleConstructorReturn(e,r)}return _inherits(Upvote,t),Upvote.prototype.formatVoteCount=function formatVoteCount(t){var e=t;return e.toString().length>3&&(e=Math.round(e/1e3*10)/10,e+="k"),e},Upvote.prototype.render=function render(){if(!this.props.post)return null;var t=this.props.post,r=t.creator.userId===this.props.userId,s=void 0===t.upvotes?t.upvoteCount:t.upvotes,o=this.formatVoteCount(s),c=t.upvoteError;return r?e.createElement("div",{className:"rc-Upvote"},e.createElement("div",{className:"cif-thumbs-o-up"}),e.createElement("span",null," ",o)):e.createElement("button",{className:"rc-Upvote",onClick:this.toggleUpvote},e.createElement("div",{className:"cif-thumbs-o-up"}),e.createElement("span",null," ",o," ",!t.isUpvoted&&n("Upvote")),c&&e.createElement("span",null,n("Sorry, something went wrong")))},Upvote}(e.Component),t.propTypes={post:e.PropTypes.object,userId:e.PropTypes.number},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=s(["ApplicationStore"],function(e){var t=e.ApplicationStore;return{userId:t.getUserData().id}})(p)});

define('css!bundles/discussions/components/__styles__/Follow',[],function(){})
define("bundles/discussions/components/Follow",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/actions/ThreadDetailsActions","css!./__styles__/Follow"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),o=0;o<s.length;o++){var t=s[o],n=Object.getOwnPropertyDescriptor(r,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var o,t,e=require("react"),n=require("i18n!nls/discussions"),r=require("bundles/discussions/actions/ThreadDetailsActions"),s=r.follow,i=r.unfollow;require("css!./__styles__/Follow");var l=(t=o=function(o){function Follow(){var n,e,r;_classCallCheck(this,Follow);for(var l=arguments.length,c=Array(l),t=0;l>t;t++)c[t]=arguments[t];return n=e=_possibleConstructorReturn(this,o.call.apply(o,[this].concat(c))),e.toggleFollowing=function(){var o=e.props.question;o.isFollowing?e.context.executeAction(i,{question:o}):e.context.executeAction(s,{question:o})},r=n,_possibleConstructorReturn(e,r)}return _inherits(Follow,o),Follow.prototype.render=function render(){var o=this.props.question,r=o.isFollowing,t=o.followerCount,s=o.followCount,i=o.followError,l=void 0===t?s:t;return e.createElement("button",{className:"rc-Follow",onClick:this.toggleFollowing},e.createElement("span",null,n(r?"Unfollow":"Follow")," "),e.createElement("span",{className:"follow-number"},l),i&&e.createElement("span",null,n("Sorry, something went wrong")))},Follow}(e.Component),o.propTypes={question:e.PropTypes.object.isRequired},o.contextTypes={executeAction:e.PropTypes.func.isRequired},t);module.exports=l});

define('css!bundles/discussions/components/discussionsBody/__styles__/DetailedQuestion',[],function(){})
define("bundles/discussions/components/discussionsBody/DetailedQuestion",["require","exports","module","i18n!nls/discussions","classnames","react","bundles/cml/components/CML","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/profiles/ProfileArea","js/lib/coursera.react-intl","bundles/discussions/components/AdminDetails","bundles/discussions/components/Badge","bundles/discussions/components/NextViewLink","bundles/discussions/components/CreatedTimeLink","bundles/discussions/components/EditIndicator","bundles/discussions/components/ProfileName","bundles/discussions/components/Upvote","bundles/discussions/components/Follow","css!bundles/discussions/components/discussionsBody/__styles__/DetailedQuestion"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),s=0;s<i.length;s++){var n=i[s],t=Object.getOwnPropertyDescriptor(o,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,n,i=require("i18n!nls/discussions"),t=require("classnames"),e=require("react"),r=require("bundles/cml/components/CML"),c=require("bundles/discussions/components/ModerationDropdown"),o=require("bundles/discussions/components/profiles/ProfileArea"),l=require("js/lib/coursera.react-intl"),a=l.FormattedMessage,u=require("bundles/discussions/components/AdminDetails"),d=require("bundles/discussions/components/Badge"),p=require("bundles/discussions/components/NextViewLink"),m=require("bundles/discussions/components/CreatedTimeLink"),f=require("bundles/discussions/components/EditIndicator"),b=require("bundles/discussions/components/ProfileName"),y=require("bundles/discussions/components/Upvote"),E=require("bundles/discussions/components/Follow");require("css!bundles/discussions/components/discussionsBody/__styles__/DetailedQuestion");var h=(n=s=function(s){function DetailedQuestion(){var t,e,o;_classCallCheck(this,DetailedQuestion);for(var i=arguments.length,r=Array(i),n=0;i>n;n++)r[n]=arguments[n];return t=e=_possibleConstructorReturn(this,s.call.apply(s,[this].concat(r))),e.onDeleteSuccess=function(s){s||e.context.router.replace(e.props.forumLink)},o=t,_possibleConstructorReturn(e,o)}return _inherits(DetailedQuestion,s),DetailedQuestion.prototype.render=function render(){if(!this.props.question)return null;var l=this.props,s=l.question,h=l.forumLink,g=s.flagDetails&&s.flagDetails.isActive||s.isFlagged,x=t("headline-3-text",{flagged:g}),v=t({flagged:g}),n=s.creator;return e.createElement("div",{className:"rc-DetailedQuestion card-rich-interaction horizontal-box"},e.createElement("div",{className:"profile"},e.createElement(o,{externalUserId:n.externalUserId,fullName:n.fullName,profileImageUrl:n.isDefaultPhoto?"":n.photoUrl||""})),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"horizontal-box"},e.createElement("h5",{className:x},s.content.question),this.props.isPinned&&e.createElement("i",{className:"cif-pin cif-lg pin"})),e.createElement("div",{className:"metadata caption-text color-secondary-text"},e.createElement(b,{fullName:n.fullName,externalId:n.externalUserId}),e.createElement(d,{creator:n}),e.createElement(p,{question:this.props.question}),e.createElement("span",null," · "),e.createElement(m,{post:s,forumLink:h}),e.createElement(f,{post:s})),e.createElement("div",{className:v},e.createElement(r,{cml:s.content.details,className:v})),e.createElement("div",{className:"action-area horizontal-box align-items-vertical-center caption-text color-secondary-text"},e.createElement(y,{post:s}),e.createElement("span",null," · "),e.createElement(E,{question:s}),e.createElement("span",null," · "),e.createElement("button",{href:"#input-container",onClick:this.props.goToInput},e.createElement(a,{message:i("Reply to {username}"),username:s.creator.fullName})))),e.createElement(u,{post:s}),e.createElement(c,{onDeleteSuccess:this.onDeleteSuccess,creator:s.creator,post:s,forumLink:h}))},DetailedQuestion}(e.Component),s.propTypes={goToInput:e.PropTypes.func.isRequired,question:e.PropTypes.object,isPinned:e.PropTypes.bool,forumLink:e.PropTypes.string},s.contextTypes={router:e.PropTypes.object.isRequired},n);module.exports=h});
define("bundles/discussions/components/SessionDetails",["require","exports","module","moment","moment-timezone","underscore","i18n!nls/discussions","js/lib/coursera.react-intl","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var n=o[t],s=Object.getOwnPropertyDescriptor(r,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,s,i=require("moment");require("moment-timezone");var a=require("underscore"),o=a.compose,t=require("i18n!nls/discussions"),c=require("js/lib/coursera.react-intl"),l=c.FormattedMessage,e=require("react"),u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),p="America/Los_Angeles",r=function formatDate(e){return i(e).tz(p).format("MMMM D")},d=(s=n=function(n){function SessionDetails(){return _classCallCheck(this,SessionDetails),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(SessionDetails,n),SessionDetails.prototype.renderSessionDetails=function renderSessionDetails(){if(this.props.isPinned)return t("This thread is visible to all learners because it is pinned.");if(this.props.hasSession)return e.createElement(l,{message:t("This thread is only visible to learners in the {startDate} - {endDate} session."),startDate:this.props.startedAt,endDate:this.props.endedAt});return t("This thread is only visible to on-demand learners.")},SessionDetails.prototype.render=function render(){return e.createElement("div",{className:"rc-SessionDetails mentor-message align-horizontal-center"},this.renderSessionDetails())},SessionDetails}(e.Component),n.propTypes={question:e.PropTypes.object.isRequired,hasSession:e.PropTypes.bool,startedAt:e.PropTypes.string,endedAt:e.PropTypes.string,isPinned:e.PropTypes.bool},s);module.exports=o(u(["SessionFilterStore"],function(n,s){var t=n.SessionFilterStore,o=s.question,e=t.allSessions&&t.allSessions.find(function(e){return e.id===o.sessionId});return{hasSession:!!e,startedAt:e&&r(e.startedAt),endedAt:e&&r(e.endedAt)}}))(d)});

define('css!bundles/ui/components/__styles__/CalloutBox',[],function(){})
define("bundles/ui/components/CalloutBox",["require","exports","module","classnames","react","css!bundles/ui/components/__styles__/CalloutBox"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,o=require("classnames"),e=require("react");require("css!bundles/ui/components/__styles__/CalloutBox");var r=(n=t=function(t){function CalloutBox(){return _classCallCheck(this,CalloutBox),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CalloutBox,t),CalloutBox.prototype.render=function render(){var t=this.props,r=t.className,n=t.label,s=t.children;return e.createElement("div",{className:o("rc-CalloutBox card-no-action selected",r)},n&&e.createElement("div",{className:"callout-box-label label-text"},n),e.createElement("div",null,s))},CalloutBox}(e.Component),t.propTypes={className:e.PropTypes.string,label:e.PropTypes.node,children:e.PropTypes.node},n);module.exports=r});
define("bundles/discussions/components/repliesList/ReplyFollow",["require","exports","module","react","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("i18n!nls/discussions"),r=(n=t=function(t){function ReplyFollow(){return _classCallCheck(this,ReplyFollow),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(ReplyFollow,t),ReplyFollow.prototype.render=function render(){var t=this.props,n=t.checked,r=t.onChange;return e.createElement("div",{className:"rc-ReplyFollow horizontal-box body-1-text"},e.createElement("label",{style:{fontWeight:"normal"}},e.createElement("input",{type:"checkbox",checked:n,style:{marginRight:10},onChange:function onChange(e){return r(e.target.checked)}}),o("Follow this question to get notifications of replies")))},ReplyFollow}(e.Component),t.propTypes={checked:e.PropTypes.bool,onChange:e.PropTypes.func.isRequired},n);module.exports=r});
define("bundles/discussions/utils/generateReplyData",["require","exports","module","bundles/discussions/constants"],function(require,exports,module){var n=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},o=require("bundles/discussions/constants"),e=o.naptimeForumTypes;module.exports=function(r,s,u,t,i){var o={};return t===e.mentorForumType?o.mentorForumQuestionId=s+"~"+r.questionId:t===e.groupForumType?o.groupForumQuestionId=s+"~"+r.questionId:o.courseForumQuestionId=s+"~"+r.questionId,o.questionFollowOverrideOption=i,"answer"===r.type&&(o.parentForumAnswerId=s+"~"+r.topLevelForumAnswerId),{data:n({content:u},o)}}});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyCML',[],function(){})
define("bundles/discussions/components/repliesList/ReplyCMLInput",["require","exports","module","underscore","react","react-dom","classnames","bundles/cml/components/CMLOrFallbackEditor","bundles/discussions/components/repliesList/ReplyFollow","bundles/cml/utils/CMLUtils","bundles/discussions/utils/DiscussionsCMLUtils","bundles/cml/constants/CMLEditorPlugins","bundles/discussions/constants","bundles/discussions/constants","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/actions/ThreadsActions","bundles/page/components/TrackedButton","bundles/discussions/utils/generateReplyData","js/lib/connectToRouter","bundles/discussions/components/discussionsForumsHOC","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","js/lib/mapProps","i18n!nls/discussions","css!./__styles__/ReplyCML"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),s=0;s<i.length;s++){var t=i[s],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,r,b=require("underscore"),f=b.compose,e=require("react"),i=require("react-dom"),a=require("classnames"),c=require("bundles/cml/components/CMLOrFallbackEditor"),d=require("bundles/discussions/components/repliesList/ReplyFollow"),p=require("bundles/cml/utils/CMLUtils"),t=require("bundles/discussions/utils/DiscussionsCMLUtils"),m=require("bundles/cml/constants/CMLEditorPlugins"),l=require("bundles/discussions/constants"),u=require("bundles/discussions/constants"),o=u.savingStates,h=require("bundles/discussions/actions/ThreadDetailsActions"),g=h.savePost,y=require("bundles/discussions/actions/ThreadsActions"),F=y.clearThreadsCache,T=require("bundles/page/components/TrackedButton"),v=require("bundles/discussions/utils/generateReplyData"),P=require("js/lib/connectToRouter"),C=require("bundles/discussions/components/discussionsForumsHOC"),E=require("bundles/discussions/utils/routerConnectToCurrentForum"),w=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),O=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),R=require("bundles/naptimejs/resources/groupForums.v1"),S=require("js/lib/mapProps"),n=require("i18n!nls/discussions");require("css!./__styles__/ReplyCML");var D=l.naptimeForumTypes,j=(r=s=function(s){function ReplyCMLInput(o,n){_classCallCheck(this,ReplyCMLInput);var e=_possibleConstructorReturn(this,s.call(this,o,n));return e.setFocus=function(){e.setState({isFocused:!0})},e.removeFocus=function(){e.setState({isFocused:!1})},e.handleInputChange=function(s){var o=!t.validateLength(s),n=!0;e.setState({cml:s,hasErrors:o,submitEnabled:n})},e.handleSubmit=function(){var t=e.state,a=t.cml,o=t.isFollowing,d=t.hasErrors,s=e.props,r=s.parentPost,u=s.contextId,l=s.currentForum,c=s.question;if(d)return void i.findDOMNode(e.refs.content.refs.editorWrapper.refs.editor).focus();var n=l&&l.forumType.typeName,p=v(r,u,a,n,o);e.context.executeAction(F),e.context.executeAction(g,{options:p,question:c,parentPost:r,forumType:n,isFollowing:o}),e.setState({submitEnabled:!1})},e.handleFocus=function(){e.setState({isFocused:!0})},e.handleFollow=function(s){e.setState({isFollowing:s})},e.state=e.getDefaultState(),e}return _inherits(ReplyCMLInput,s),ReplyCMLInput.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.savingState!==this.props.savingState&&(e.savingState===o.SAVED?this.setState(Object.assign(this.getDefaultState(),{editorKey:this.state.editorKey+1})):e.savingState===o.ERROR),this.props.shouldFocusCounter<e.shouldFocusCounter&&this.focus(),e.question&&e.question.isFollowing!==this.state.isFollowing&&this.setState({isFollowing:e.question.isFollowing})},ReplyCMLInput.prototype.getDefaultState=function getDefaultState(){var e=[],s=this.props.question;return this.props.hideToolbar||"answer"!==!this.props.parentPost.type||e.push(m.ToolbarVisibility),{blocks:t.getDefaultBlocks(),cml:p.create("",l.DTD_NAME),hasErrors:!1,submitEnabled:!1,disabledPlugins:e,focus:!1,editorKey:1,isFollowing:s&&s.isFollowing}},ReplyCMLInput.prototype.focus=function focus(){var e=this;setTimeout(function(){i.findDOMNode(e.refs.content.refs.editorWrapper.refs.editor).focus(),i.findDOMNode(e.refs.content.refs.editorWrapper.refs.editor).click()},0)},ReplyCMLInput.prototype.render=function render(){var i=this.props,f=i.parentPost,h=i.courseId,g=i.placeholder,E=i.savingState,m=i.hideFollow,s=this.state,r=s.cml,l=s.isFocused,p=s.blocks,y=s.disabledPlugins,F=s.isFollowing,v=s.editorKey,P=s.submitEnabled,C=s.hasErrors,u=t.generateContentLengthWarning(r),w=e.createElement("div",{className:"c-error-text c-form-error-message"},n("Something went wrong. Please reload the page and try again.")),O=a("rc-ReplyCML",{collapsed:!l}),R=f.questionId,b=t.getImageUploadOptions(h,R);return e.createElement("div",{className:O},e.createElement("div",{className:"editor-container"},e.createElement(c,{cml:r,ref:"content",key:v,blocks:p,changeDelay:100,title:n("Post Reply"),placeholder:n(g),disabledPlugins:y,onChange:this.handleInputChange,imageUploadOptions:b,onFocus:this.handleFocus})),!!u&&e.createElement("div",{className:"horizontal-box align-items-right",style:{marginBottom:20}},u,E===o.ERROR&&w),e.createElement("div",{className:"horizontal-box align-items-right align-items-vertical-center"},e.createElement("div",{className:"flex-1"},l&&!m&&e.createElement(d,{checked:F,onChange:this.handleFollow})),e.createElement(T,{ref:"submit",className:"secondary",onClick:this.handleSubmit,trackingName:"thread_reply",disabled:!P||C},n("Reply"))))},ReplyCMLInput}(e.Component),s.propTypes={parentPost:e.PropTypes.object.isRequired,savingState:e.PropTypes.string.isRequired,shouldFocusCounter:e.PropTypes.number,hideToolbar:e.PropTypes.bool,placeholder:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(w),e.PropTypes.instanceOf(O),e.PropTypes.instanceOf(R)]),courseId:e.PropTypes.string,contextId:e.PropTypes.string,question:e.PropTypes.object,hideFollow:e.PropTypes.bool},s.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},s.defaultProps={placeholder:"Reply",savingState:o.UNCHANGED},r);module.exports=f(C({fields:["link","title"]}),P(E),S(function(e){if(e.currentForum&&e.currentForum.forumType.typeName===D.groupForumType)return{contextId:e.currentForum.forumType.definition.groupId};return{contextId:e.courseId}}))(j)});
define("bundles/discussions/components/repliesList/ReplyCMLEdit",["require","exports","module","i18n!nls/discussions","react","react-dom","bundles/cml/components/CMLOrFallbackEditor","bundles/cml/utils/CMLUtils","bundles/discussions/constants","bundles/discussions/utils/DiscussionsCMLUtils","bundles/cml/constants/CMLEditorPlugins","bundles/discussions/actions/DropdownActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!bundles/discussions/components/__styles__/NewThreadFormComponents"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var s=i[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,i,t=require("i18n!nls/discussions"),e=require("react"),r=require("react-dom"),l=require("bundles/cml/components/CMLOrFallbackEditor"),u=require("bundles/cml/utils/CMLUtils"),c=require("bundles/discussions/constants"),s=require("bundles/discussions/utils/DiscussionsCMLUtils"),d=require("bundles/cml/constants/CMLEditorPlugins"),a=require("bundles/discussions/actions/DropdownActions"),p=a.hideReplyEditor,m=a.editReply,b=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!bundles/discussions/components/__styles__/NewThreadFormComponents");var f=(o=n=function(n){function ReplyCMLEdit(r,a){_classCallCheck(this,ReplyCMLEdit);var o=_possibleConstructorReturn(this,n.call(this,r,a));i.call(o);var e=r.reply.content,t=e;if(!e||!e.typeName){var l="<co-content><text>"+(e||"")+"</text></co-content>";t=u.create(l,c.DTD_NAME)}return t.definition.dtdId=c.DTD_NAME,o.state={blocks:s.getDefaultBlocks(),initialValue:t.definition.value,cml:t,hasErrors:!1,submitError:!1,lengthError:!1,submitEnabled:!1},o}return _inherits(ReplyCMLEdit,n),ReplyCMLEdit.prototype.componentDidMount=function componentDidMount(){r.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus&&r.findDOMNode(this.refs.content.refs.editorWrapper.refs.editor).focus()},ReplyCMLEdit.prototype.hideEdit=function hideEdit(){this.context.executeAction(p,{reply:this.props.reply})},ReplyCMLEdit.prototype.render=function render(){var n=s.generateContentLengthWarning(this.state.cml),o=e.createElement("div",{className:"c-error-text c-form-error-message"},t("Something went wrong. Please reload the page and try again.")),i=this.props.reply.questionId;return e.createElement("div",{className:"rc-ReplyCML","data-rc":"ReplyCML"},e.createElement("div",{className:"editor-container"},e.createElement(l,{ref:"content",placeholder:t("Reply"),onChange:this.handleInputChange,cml:this.state.cml,changeDelay:100,blocks:this.state.blocks,imageUploadOptions:s.getImageUploadOptions(this.props.courseId,i),disabledPlugins:[d.ToolbarVisibility],title:t("Edit Reply")})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("div",{className:"flex-2"},n,this.state.submitError&&o),e.createElement("button",{className:"passive cancel",onClick:this.handleCancel},t("Cancel")),e.createElement("button",{ref:"submit",className:"secondary",onClick:this.handleSubmit,disabled:!this.state.submitEnabled||this.state.hasErrors},t("Save"))))},ReplyCMLEdit}(e.Component),n.propTypes={reply:e.PropTypes.object.isRequired,courseId:e.PropTypes.string},n.contextTypes={executeAction:e.PropTypes.func.isRequired},i=function _initialiseProps(){var e=this;this.handleSubmit=function(){if(e.state.hasErrors)return void e.refs.content.refs.editorWrapper.refs.editor.focus();e.setState({submitEnabled:!1}),e.context.executeAction(m,{reply:e.props.reply,content:e.state.cml,handleFailure:e.onSubmitError,onSuccess:e.onSubmitSuccess})},this.handleCancel=function(){e.hideEdit()},this.handleInputChange=function(t){e.setState({cml:t,hasErrors:!s.validateLength(t),submitEnabled:t.definition.value!==e.state.initialValue})},this.onSubmitError=function(t){e.setState({submitError:!0,submitEnabled:!0})},this.onSubmitSuccess=function(){}},o);module.exports=b(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId()}})(f)});
define("bundles/discussions/components/repliesList/JumpToReply",["require","exports","module","react","react-router","bundles/discussions/utils/discussionsUrl","bundles/discussions/lib/propTypes","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(s,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),s=require("react-router"),o=s.Link,i=require("bundles/discussions/utils/discussionsUrl"),u=i.buildUrl,p=require("bundles/discussions/lib/propTypes"),c=p.replyPropType,n=require("i18n!nls/discussions"),l=(r=t=function(t){function JumpToReply(){return _classCallCheck(this,JumpToReply),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(JumpToReply,t),JumpToReply.prototype.render=function render(){var r=this.props,t=r.reply,s=r.forumLink,i=u(s,t.questionId,t.topLevelForumAnswerId,t.forumCommentId);return e.createElement("div",{className:"rc-JumpToReply align-self-end"},e.createElement(o,{to:i,title:n("Jump to post")},n("Jump to post")))},JumpToReply}(e.Component),t.propTypes={reply:c.isRequired,forumLink:e.PropTypes.string.isRequired},r);module.exports=l});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyComponent',[],function(){})
define("bundles/discussions/components/repliesList/ReplyComponent",["require","exports","module","underscore","jquery","react","react-dom","classnames","bundles/cml/components/CML","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/components/ProfileName","bundles/discussions/components/AdminDetails","bundles/discussions/components/repliesList/ReplyCMLEdit","bundles/discussions/components/repliesList/JumpToReply","bundles/discussions/components/Badge","bundles/discussions/components/CreatedTimeLink","bundles/discussions/components/EditIndicator","bundles/discussions/components/Upvote","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/SoftDelete","bundles/discussions/lib/propTypes","js/lib/coursera.react-intl","i18n!nls/discussions","css!./__styles__/ReplyComponent"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),o=0;o<r.length;o++){var s=r[o],t=Object.getOwnPropertyDescriptor(n,s);t&&t.configurable&&void 0===e[s]&&Object.defineProperty(e,s,t)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var t,n,_=require("underscore"),$=require("jquery"),e=require("react"),L=require("react-dom"),o=require("classnames"),p=require("bundles/cml/components/CML"),a=require("bundles/discussions/components/profiles/ProfileArea"),d=require("bundles/discussions/components/ProfileName"),m=require("bundles/discussions/components/AdminDetails"),u=require("bundles/discussions/components/repliesList/ReplyCMLEdit"),c=require("bundles/discussions/components/repliesList/JumpToReply"),f=require("bundles/discussions/components/Badge"),y=require("bundles/discussions/components/CreatedTimeLink"),b=require("bundles/discussions/components/EditIndicator"),h=require("bundles/discussions/components/Upvote"),g=require("bundles/discussions/components/ModerationDropdown"),E=require("bundles/discussions/components/SoftDelete"),T=require("bundles/discussions/lib/propTypes"),v=T.replyPropType,w=require("js/lib/coursera.react-intl"),r=w.FormattedMessage,s=require("i18n!nls/discussions"),i=1e3,l=10;require("css!./__styles__/ReplyComponent");var C=(n=t=function(t){function ReplyComponent(o,s){_classCallCheck(this,ReplyComponent);var e=_possibleConstructorReturn(this,t.call(this,o,s));return e.wrappedScrollToLocation=_.once(e.scrollToLocation),e}return _inherits(ReplyComponent,t),ReplyComponent.prototype.componentDidUpdate=function componentDidUpdate(){this.isDeepLinked()&&this.props.isQuestionLoaded&&this.wrappedScrollToLocation()},ReplyComponent.prototype.isDeepLinked=function isDeepLinked(){var o=this.props,e=o.reply,s=o.commentId,t=o.answerId;return s&&"comment"===e.type&&e.forumCommentId===s||t&&!s&&"answer"===e.type&&e.topLevelForumAnswerId===t},ReplyComponent.prototype.scrollToLocation=function scrollToLocation(){var o=L.findDOMNode(this.refs.reply),e=$(o).offset().top;if($("main.od-contents").length)$("main.od-contents").animate({scrollTop:e+$("main.od-contents").scrollTop()-$("main.od-contents").offset().top-l},i);else if("hidden"!==$("body").css("overflow")){var s=$(".rc-PageHeader").length?$(".rc-PageHeader")[0].offsetHeight:0;$("body").animate({scrollTop:e+$("body").scrollTop()-$("body").offset().top-s-l},i)}},ReplyComponent.prototype.renderShowToggle=function renderShowToggle(){var t=this.props,n=t.commentsEnabled,o=t.commentCount,i=e.createElement("button",{onClick:this.props.toggleComments},e.createElement(r,{message:s("Show {count} {count, plural, =1 {Reply} other {Replies}}"),count:o})),l=e.createElement("button",{onClick:this.props.toggleComments},e.createElement(r,{message:s("Hide {count} {count, plural, =1 {Reply} other {Replies}}"),count:o})),c=e.createElement("button",{onClick:this.props.toggleComments},s("Reply")),p=e.createElement("button",{onClick:this.props.toggleComments},s("Hide"));return n?o?l:p:o?i:c},ReplyComponent.prototype.render=function render(){var t=this.props,s=t.reply,r=t.forumLink,T=t.showJumpLink,i=t.isHighlighted,n=s.creator;if(s.hide)return null;var v=o("horizontal-box",{"bgcolor-primary-light":this.isDeepLinked()},"reply-content"),w=o("rc-ReplyComponent",this.props.className),L=o("reply-details",{flag:s.flagDetails&&s.flagDetails.isActive}),l=o("action-area","horizontal-box","align-items-vertical-center","caption-text","color-secondary-text");return e.createElement("div",{className:w,ref:"reply"},e.createElement("div",null,e.createElement("div",{className:v},e.createElement("div",{className:"profile"},e.createElement(a,{externalUserId:s.creator.externalUserId,fullName:s.creator.fullName,profileImageUrl:s.creator.isDefaultPhoto?"":s.creator.photoUrl||""})),s.showEditor&&e.createElement("div",{className:"flex-1"},e.createElement(u,{reply:s})),!s.showEditor&&e.createElement("div",{className:"flex-1 preview-container"},e.createElement("div",{className:"metadata caption-text color-secondary-text"},e.createElement(d,{fullName:n.fullName,externalId:n.externalUserId}),e.createElement(f,{creator:n}),e.createElement("span",null," · "),e.createElement(y,{post:s,forumLink:r}),e.createElement(b,{post:s})),e.createElement("div",{className:L},e.createElement(p,{cml:s.content})),e.createElement("div",{className:l},e.createElement(h,{post:s}),"answer"===s.type&&e.createElement("span",null," · "),"answer"===s.type&&this.renderShowToggle(),T&&e.createElement(c,{reply:s,forumLink:r}),e.createElement(m,{post:s}))),e.createElement(g,{creator:n,post:s,isHighlighted:i,forumLink:r})),s.state.deleted&&e.createElement(E,{entry:s}),this.props.children))},ReplyComponent}(e.Component),t.propTypes={reply:v.isRequired,commentsEnabled:e.PropTypes.bool,toggleComments:e.PropTypes.func,answerId:e.PropTypes.string,commentId:e.PropTypes.string,commentCount:e.PropTypes.number,className:e.PropTypes.string,children:e.PropTypes.node,isHighlighted:e.PropTypes.bool,isQuestionLoaded:e.PropTypes.bool,forumLink:e.PropTypes.string,showJumpLink:e.PropTypes.bool},n);module.exports=C});
define("bundles/discussions/components/repliesList/CommentPaginationContainer",["require","exports","module","react","bundles/discussions/components/ListBody","bundles/discussions/components/repliesList/ReplyComponent","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/constants","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/lib/propTypes","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,e=require("react"),i=require("bundles/discussions/components/ListBody"),a=require("bundles/discussions/components/repliesList/ReplyComponent"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=require("bundles/discussions/constants"),t=c.loadingStates,p=require("bundles/discussions/actions/ThreadDetailsActions"),s=p.fetchMultipleCommentPages,d=require("bundles/discussions/lib/propTypes"),l=d.replyPropType,u=require("i18n!nls/discussions"),m=(o=n=function(n){function CommentPaginationContainer(){var o,e,r;_classCallCheck(this,CommentPaginationContainer);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={loadingComments:!1},e.loadEarlierReplies=function(){var t=e.props,n=t.reply,r=t.commentPageRange,i=t.forumType,a=t.includeDeleted,o=r.endPage,c=n.questionId;e.context.executeAction(s,{questionId:c,forumType:i,includeDeleted:a,answerId:n.topLevelForumAnswerId,userForumAnswerId:n.id,startPage:o+1,endPage:o+1}),e.setState({loadingComments:!0})},r=o,_possibleConstructorReturn(e,r)}return _inherits(CommentPaginationContainer,n),CommentPaginationContainer.prototype.componentWillMount=function componentWillMount(){var e=this.props,t=e.reply,n=e.answerId,o=e.commentId,r=e.forumType,i=e.includeDeleted;if(o&&t.topLevelForumAnswerId===n){var a=t.questionId;this.context.executeAction(s,{questionId:a,answerId:n,userForumAnswerId:t.id,startPage:1,endPage:100,forumType:r,includeDeleted:i})}},CommentPaginationContainer.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.props.commentLoadingState===t.LOADING&&this.props.commentLoadingState!==e.commentLoadingState&&this.setState({loadingComments:!1})},CommentPaginationContainer.prototype.render=function render(){var c=this,n=this.props,y=n.reply,r=n.comments,s=n.commentLoadingState,d=n.answerId,l=n.commentId,p=n.commentPageRange,o=this.state.loadingComments||s===t.LOADING,m=o?t.DONE:s;if(0===y.childAnswerCount)return null;return e.createElement("div",{className:"rc-CommentPaginationContainer vertical-box"},p.endPage<p.totalPageCount&&e.createElement("button",{className:"secondary reply-load-button",onClick:this.loadEarlierReplies,disabled:o},o?e.createElement("span",{className:"cif-spinner cif-spin"}):u("See earlier replies")),e.createElement(i,{loadingState:m},r&&r.map(function(t,n){return e.createElement(a,{reply:t,key:t.id+n,answerId:d,commentId:l,commentsEnabled:!1,ref:t.id,isQuestionLoaded:c.props.isQuestionLoaded,forumLink:c.props.forumLink})})))},CommentPaginationContainer}(e.Component),n.propTypes={reply:l.isRequired,answerId:e.PropTypes.string,commentId:e.PropTypes.string,commentLoadingState:e.PropTypes.string,comments:e.PropTypes.array,commentPageRange:e.PropTypes.object,isQuestionLoaded:e.PropTypes.bool,forumLink:e.PropTypes.string,forumType:e.PropTypes.string,includeDeleted:e.PropTypes.bool},n.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=r(m,["ThreadDetailsStore","ApplicationStore","CourseMembershipStore"],function(n,s){var e=n.ThreadDetailsStore,r=n.ApplicationStore,i=n.CourseMembershipStore,o=s.reply;return{comments:e.getLoadedComments(o.topLevelForumAnswerId),commentLoadingState:e.commentLoadingState[o.topLevelForumAnswerId]||t.LOADING,commentPageRange:e.getCommentPageRange(o.topLevelForumAnswerId),forumType:e.forumType,includeDeleted:i.hasModerationRole()||r.isSuperuser()}})});

define('css!bundles/discussions/components/repliesList/__styles__/ReplyContainer',[],function(){})
define("bundles/discussions/components/repliesList/ReplyContainer",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/components/profiles/ProfileArea","pages/open-course/common/models/currentSocialProfile","bundles/discussions/components/repliesList/ReplyCMLInput","bundles/discussions/components/repliesList/CommentPaginationContainer","bundles/discussions/components/repliesList/ReplyComponent","bundles/discussions/lib/propTypes","css!./__styles__/ReplyContainer"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var s=r[t],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s,o,e=require("react"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),n=require("bundles/discussions/components/profiles/ProfileArea"),t=require("pages/open-course/common/models/currentSocialProfile"),i=require("bundles/discussions/components/repliesList/ReplyCMLInput"),l=require("bundles/discussions/components/repliesList/CommentPaginationContainer"),p=require("bundles/discussions/components/repliesList/ReplyComponent"),a=require("bundles/discussions/lib/propTypes"),c=a.replyPropType;require("css!./__styles__/ReplyContainer");var m=(o=s=function(s){function ReplyContainer(t,o){_classCallCheck(this,ReplyContainer);var e=_possibleConstructorReturn(this,s.call(this,t,o));return e.toggleComments=function(){e.setState({showComments:!e.state.showComments})},e.state={showComments:t.reply.childAnswerCount>0&&!t.collapseCommentsByDefault},e}return _inherits(ReplyContainer,s),ReplyContainer.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){if(!this.props.comments||!e.comments)return;this.props.comments.length<e.comments.length&&this.setState({showComments:!0})},ReplyContainer.prototype.render=function render(){var s=this.props,o=s.reply,a=s.answerId,c=s.commentId,y=s.isClosed,u=s.isHighlighted,d=s.savingState,f=s.showJumpLink,m=s.forumLink,h=s.question,r=s.isQuestionLoaded;if(o.hide)return null;return e.createElement(p,{reply:o,commentsEnabled:this.state.showComments,toggleComments:this.toggleComments,answerId:a,commentId:c,commentCount:o.childAnswerCount||0,className:"rc-ReplyContainer",isHighlighted:u,isQuestionLoaded:r,forumLink:m,showJumpLink:f},this.state.showComments&&e.createElement("div",null,e.createElement(l,{reply:o,answerId:a,commentId:c,forumLink:m,isQuestionLoaded:r}),!y&&e.createElement("div",{className:"comment-input horizontal-box"},e.createElement(n,{externalUserId:t.get("externalUserId"),fullName:t.get("fullName"),profileImageUrl:t.getProfileImageUrl()}),e.createElement(i,{question:h,parentPost:o,savingState:d}))))},ReplyContainer}(e.Component),s.propTypes={reply:c.isRequired,savingState:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,isClosed:e.PropTypes.bool,isHighlighted:e.PropTypes.bool,comments:e.PropTypes.array,isQuestionLoaded:e.PropTypes.bool,forumLink:e.PropTypes.string,question:e.PropTypes.object,showJumpLink:e.PropTypes.bool,collapseCommentsByDefault:e.PropTypes.bool},o);module.exports=r(m,["ThreadDetailsStore","ThreadSettingsStore"],function(s,o){var e=s.ThreadDetailsStore,n=s.ThreadSettingsStore,t=o.reply;return{question:e.getQuestion(t.questionId),comments:e.getLoadedComments(t.topLevelForumAnswerId),isClosed:n.isClosed(),isHighlighted:e.isHighlighted(t),savingState:e.savingStates[t.id]}})});

define('css!bundles/discussions/components/repliesList/__styles__/HighlightedReply',[],function(){})
define("bundles/discussions/components/repliesList/HighlightedReply",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/ui/components/CalloutBox","bundles/discussions/components/repliesList/ReplyContainer","bundles/discussions/lib/propTypes","i18n!nls/discussions","css!./__styles__/HighlightedReply"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=require("bundles/ui/components/CalloutBox"),s=require("bundles/discussions/components/repliesList/ReplyContainer"),i=require("bundles/discussions/lib/propTypes"),l=i.replyPropType,p=require("i18n!nls/discussions");require("css!./__styles__/HighlightedReply");var c=(n=t=function(t){function HighlightedReply(){return _classCallCheck(this,HighlightedReply),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(HighlightedReply,t),HighlightedReply.prototype.render=function render(){var t=this.props,n=t.reply,r=t.answerId,i=t.commentId,l=t.forumLink;if(!n||n.hide)return null;return e.createElement("div",{className:"rc-HighlightedReply card-rich-interaction"},e.createElement(o,{label:p("Highlighted Post")},e.createElement("div",{className:"highlighted-reply-content"},e.createElement(s,{showJumpLink:!0,collapseCommentsByDefault:!0,reply:n,answerId:r,commentId:i,forumLink:l}))))},HighlightedReply}(e.Component),t.propTypes={reply:l,forumLink:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object.isRequired},n);module.exports=r(c,["ThreadDetailsStore"],function(e,t){var n=e.ThreadDetailsStore,r=t.questionId;return{reply:n.getHighlightedPost(r)}})});

define('css!bundles/discussions/components/repliesList/__styles__/RepliesSortBar',[],function(){})
define("bundles/discussions/components/repliesList/RepliesSortBar",["require","exports","module","classnames","react","react-router","i18n!nls/discussions","bundles/discussions/constants","css!./__styles__/RepliesSortBar"],function(require,exports,module){function _defaults(e,o){for(var n=Object.getOwnPropertyNames(o),t=0;t<n.length;t++){var s=n[t],r=Object.getOwnPropertyDescriptor(o,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i,a,t=require("classnames"),e=require("react"),u=require("react-router"),n=u.Link,s=require("i18n!nls/discussions"),o=require("bundles/discussions/constants").answerSorts,c=o.oldestSort,l=o.popularSort,p=o.newestSort,r=function generateUrl(e){return window.location.pathname+"?sort="+e+"&page=1"};require("css!./__styles__/RepliesSortBar");var f=(a=i=function(o){function RepliesSortBar(){return _classCallCheck(this,RepliesSortBar),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(RepliesSortBar,o),RepliesSortBar.prototype.render=function render(){var o=t("rc-RepliesSortBar","horizontal-box","align-items-spacebetween"),i=t("tab",{selected:this.props.sort===c}),a=t("tab",{selected:this.props.sort===l}),u=t("tab",{selected:this.props.sort===p});return e.createElement("div",{className:o},e.createElement("ul",{className:"tabs flex-2 shrink-block sorting-tabs horizontal-box"},e.createElement("li",{className:i},e.createElement(n,{to:r(c),title:"Show oldest replies."},s("Earliest"))),e.createElement("li",{className:a},e.createElement(n,{to:r(l),title:"Show most popular replies."},s("Top"))),e.createElement("li",{className:u},e.createElement(n,{to:r(p),title:"Show latest replies."},s("Most Recent")))))},RepliesSortBar}(e.Component),i.propTypes={sort:e.PropTypes.string},i.contextTypes={executeAction:e.PropTypes.func.isRequired},a);module.exports=f});
define("bundles/discussions/components/repliesList/RepliesList",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","bundles/discussions/components/repliesList/RepliesSortBar","bundles/discussions/components/repliesList/ReplyContainer","bundles/page/components/PaginationControls","bundles/discussions/components/ListBody","bundles/discussions/constants"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var n=r[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=require("i18n!nls/discussions"),i=require("bundles/discussions/components/repliesList/RepliesSortBar"),a=require("bundles/discussions/components/repliesList/ReplyContainer"),p=require("bundles/page/components/PaginationControls"),u=require("bundles/discussions/components/ListBody"),c=require("bundles/discussions/constants"),s=c.loadingStates,l=(n=t=function(t){function RepliesList(){var s,e,o;_classCallCheck(this,RepliesList);for(var r=arguments.length,i=Array(r),n=0;r>n;n++)i[n]=arguments[n];return s=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.onPageChange=function(t){e.context.router.push({pathname:e.context.router.location.pathname,params:e.context.router.params,query:Object.assign(e.context.router.location.query,{page:t})})},o=s,_possibleConstructorReturn(e,o)}return _inherits(RepliesList,t),RepliesList.prototype.render=function render(){var t=this.props,g=t.sort,f=t.page,n=t.replies,d=t.answerId,l=t.commentId,m=t.forumLink,y=t.isQuestionLoaded,r=t.loadingState,b=t.savingStates,c=t.pageCount,P=r===s.DONE;return e.createElement("div",null,e.createElement("div",{className:"rc-RepliesList card-rich-interaction nostyle"},e.createElement(i,{sort:g}),e.createElement(u,{loadingState:r,emptyStatePlaceholderText:o("No Replies Yet")},n&&n.map(function(t){return e.createElement("li",{key:t.id},e.createElement(a,{reply:t,answerId:d,commentId:l,forumLink:m,isQuestionLoaded:y,savingState:b[t.id]}))}))),P&&!!c&&e.createElement(p,{maxPages:5,currentPage:f,pageCount:c,onPageChange:this.onPageChange}))},RepliesList}(e.Component),t.propTypes={sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,questionId:e.PropTypes.string.isRequired,savingStates:e.PropTypes.object.isRequired,replies:e.PropTypes.array.isRequired,loadingState:e.PropTypes.string.isRequired,isQuestionLoaded:e.PropTypes.bool,answerId:e.PropTypes.string,commentId:e.PropTypes.string,pageCount:e.PropTypes.number,forumLink:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object.isRequired},n);module.exports=r(l,["ThreadDetailsStore"],function(i,r){var e=i.ThreadDetailsStore,t=r.questionId,n=r.page,o=r.sort;return{replies:e.getReplies(t,n,o)||[],pageCount:e.getPageCount(t,n,o),savingStates:e.savingStates,loadingState:e.getAnswerLoadedState({questionId:t,page:n,sort:o})||s.LOADING,isQuestionLoaded:e.isLoaded({questionId:t,page:n,sort:o})}})});
define("bundles/discussions/components/threadSettings/CloseThreadButton",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/actions/ThreadSettingsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,e=require("react"),r=require("i18n!nls/discussions"),n=require("bundles/discussions/actions/ThreadSettingsActions"),s=n.closeThread,i=n.uncloseThread,c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=(o=t=function(t){function CloseThreadButton(){var r,e,n;_classCallCheck(this,CloseThreadButton);for(var c=arguments.length,u=Array(c),o=0;c>o;o++)u[o]=arguments[o];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(u))),e.toggleClosed=function(){e.props.isClosed?e.context.executeAction(i,{questionId:e.props.questionId,forumType:e.props.forumType}):e.context.executeAction(s,{questionId:e.props.questionId,forumType:e.props.forumType})},n=r,_possibleConstructorReturn(e,n)}return _inherits(CloseThreadButton,t),CloseThreadButton.prototype.renderErrorState=function renderErrorState(){if(this.props.isError)return e.createElement("div",{className:"errorMessage"},r("Sorry, something went wrong. Try again."));return null},CloseThreadButton.prototype.render=function render(){return e.createElement("button",{className:"rc-CloseThreadButton nostyle",onClick:this.toggleClosed},r(this.props.isClosed?"Undo Close":"Close"),this.renderErrorState())},CloseThreadButton}(e.Component),t.propTypes={questionId:e.PropTypes.string,forumType:e.PropTypes.string,isClosed:e.PropTypes.bool,isError:e.PropTypes.bool},t.contextTypes={executeAction:e.PropTypes.func.isRequired},o);module.exports=c(u,["ThreadSettingsStore"],function(t){var e=t.ThreadSettingsStore;return{questionId:e.getQuestionId(),forumType:e.getForumType(),isClosed:e.isClosed(),isError:e.isError()}})});
define("bundles/discussions/components/threadSettings/PinThreadButton",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/actions/ThreadSettingsActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("i18n!nls/discussions"),o=require("bundles/discussions/actions/ThreadSettingsActions"),s=o.pinThread,i=o.unpinThread,u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=(n=t=function(t){function PinThreadButton(){var r,e,o;_classCallCheck(this,PinThreadButton);for(var u=arguments.length,c=Array(u),n=0;u>n;n++)c[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(c))),e.toggleClosed=function(){e.props.isPinned?e.context.executeAction(i,{questionId:e.props.questionId,forumType:e.props.forumType}):e.context.executeAction(s,{questionId:e.props.questionId,forumType:e.props.forumType})},o=r,_possibleConstructorReturn(e,o)}return _inherits(PinThreadButton,t),PinThreadButton.prototype.renderErrorState=function renderErrorState(){if(this.props.isError)return e.createElement("div",{className:"errorMessage"},r("Sorry, something went wrong. Try again."));return null},PinThreadButton.prototype.render=function render(){return e.createElement("button",{className:"nostyle rc-PinThreadButton",onClick:this.toggleClosed},r(this.props.isPinned?"Undo Pin":"Pin"),this.renderErrorState())},PinThreadButton}(e.Component),t.propTypes={questionId:e.PropTypes.string,forumType:e.PropTypes.string,isPinned:e.PropTypes.bool,isError:e.PropTypes.bool},t.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=u(c,["ThreadSettingsStore"],function(t){var e=t.ThreadSettingsStore;return{questionId:e.getQuestionId(),forumType:e.getForumType(),isPinned:e.isPinned(),isError:e.isError()}})});
define("bundles/discussions/api/questions",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/onDemandDiscussionQuestions.v1/",{type:"rest"})});

define('css!bundles/discussions/components/threadSettings/__styles__/MoveThreadModal',[],function(){})
define("bundles/discussions/components/threadSettings/MoveThreadModal",["require","exports","module","underscore","q","jsuri","i18n!nls/discussions","react","js/lib/path","bundles/phoenix/components/Modal","bundles/discussions/utils/discussionsUrl","bundles/discussions/api/threadActionsApiUtil","bundles/discussions/components/NewThreadFormComponents","bundles/discussions/api/questions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/naptimejs/resources/onDemandCourseForums.v1","js/lib/mapProps","js/lib/waitFor","bundles/discussions/components/discussionsForumsHOC","bundles/discussions/constants","css!./__styles__/MoveThreadModal"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),s=0;s<n.length;s++){var t=n[s],o=Object.getOwnPropertyDescriptor(r,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var t,o,r,_=require("underscore"),u=require("q"),a=require("jsuri"),s=require("i18n!nls/discussions"),e=require("react"),c=require("js/lib/path"),d=require("bundles/phoenix/components/Modal"),l=require("bundles/discussions/utils/discussionsUrl"),i=l.buildUrl,p=require("bundles/discussions/api/threadActionsApiUtil"),m=p.moveQuestion,h=require("bundles/discussions/components/NewThreadFormComponents"),f=h.ForumSelector,b=require("bundles/discussions/api/questions"),y=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),n=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),v=require("js/lib/mapProps"),F=require("js/lib/waitFor"),g=require("bundles/discussions/components/discussionsForumsHOC"),T=require("bundles/discussions/constants"),S=T.naptimeForumTypes;require("css!./__styles__/MoveThreadModal");var I=(o=t=function(t){function MoveThreadModal(e,o){_classCallCheck(this,MoveThreadModal);var s=_possibleConstructorReturn(this,t.call(this,e,o));r.call(s);var n=e.courseForums.filter(function(e){return e.parentForumId===s.props.rootForumId}),i=_(n.map(function(s){return[s].concat(e.courseForums.filter(function(e){return e.parentForumId===s.id}))})).flatten().map(function(e){return Object.assign(e,{type:e.forumType.typeName})}),u=Object.assign(e.questionForum,{type:e.questionForum.forumType.typeName}),a=e.questionForum.id;return s.state={saving:!1,saveError:!1,selectedForum:u,forums:i,initialId:a},s}return _inherits(MoveThreadModal,t),MoveThreadModal.prototype.closeModal=function closeModal(){this.props.handleClose()},MoveThreadModal.prototype.render=function render(){var t=e.createElement("div",{className:"c-error-text c-form-error-message"},s("Sorry, there was a problem moving this thread. Please reload the page and try again."));return e.createElement("div",{className:"rc-MoveThreadModal styleguide"},e.createElement(d,{handleClose:this.handleCloseModal,modalName:s("Move thread"),ref:"moveThreadModal"},e.createElement("h1",{className:"c-modal-title display-1-text"},s("Move Thread")),this.state.forums&&e.createElement(f,{ref:"currentForum",handleInputChange:this.handleInputChange,forums:this.state.forums,value:this.state.selectedForum,rootForumId:this.props.rootForumId}),e.createElement("div",{className:"horizontal-box align-items-right"},this.state.saveError&&t,e.createElement("button",{className:"passive",onClick:this.handleCancel},s("Cancel")),e.createElement("button",{ref:"submit",disabled:this.state.saving||!this.state.selectedForum||this.state.selectedForum.id===this.state.initialId,className:"secondary",type:"submit",onClick:this.handleSubmit},s("Submit")))))},MoveThreadModal}(e.Component),t.propTypes={question:e.PropTypes.object.isRequired,handleClose:e.PropTypes.func.isRequired,userId:e.PropTypes.number.isRequired,courseId:e.PropTypes.string,rootPath:e.PropTypes.string,courseForums:e.PropTypes.arrayOf(e.PropTypes.instanceOf(n)),questionForum:e.PropTypes.instanceOf(n),rootForumId:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object.isRequired},r=function _initialiseProps(){var e=this;this.handleSaveSuccess=function(){e.closeModal();var s=i(c.join(e.props.rootPath,e.state.selectedForum.link),e.props.question.questionId);e.context.router.push(s)},this.handleSaveError=function(s){e.setState({saveError:!0,saving:!1})},this.handleInputChange=function(t,s){e.setState({selectedForum:s.value})},this.handleCloseModal=function(){e.closeModal()},this.handleCancel=function(){e.closeModal()},this.handleSubmit=function(){var o=m(e.props.question.id,e.props.courseId,e.state.selectedForum.forumId,e.state.selectedForum.type,e.props.userId);if(o)o.then(e.handleSaveSuccess).fail(e.handleSaveError).done(),e.setState({saving:!0});else{var s=e.state.selectedForum,r=(new a).addQueryParam("action","move").addQueryParam("id",e.props.question.id),t={context:{typeName:s.type,definition:{courseId:e.props.courseId}}};"week"===s.type?t.context.definition.weekNumber=parseInt(s.id,10):t.context.definition[s.type+"Id"]=s.id,u(b.post(r.toString(),{data:t})).then(e.handleSaveSuccess)["catch"](e.handleSaveError).done(),e.setState({saving:!0})}}},o);module.exports=_.compose(y(["CourseStore","ApplicationStore"],function(e){var s=e.CourseStore,t=e.ApplicationStore;return{userId:t.getUserData().id,courseId:s.getCourseId(),rootPath:"/learn/"+s.getCourseSlug()}}),g({fields:["title","forumType","link"]}),v(function(e){var t=e.question.forumId,s=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===S.rootForumType});return{questionForum:e.courseForums&&e.courseForums.find(function(e){return e.forumId===t}),rootForumId:s&&s.id}}),F(function(e){return!!e.courseForums&&!!e.questionForum}))(I)});
define("bundles/phoenix/components/Dropdown",["require","exports","module","react","classnames","bundles/iconfont/Icon","js/lib/popups"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,e=require("react"),r=require("classnames"),n=require("bundles/iconfont/Icon");require("js/lib/popups");var s=(o=t=function(t){function Dropdown(){return _classCallCheck(this,Dropdown),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(Dropdown,t),Dropdown.prototype.render=function render(){var t=this.props.dropdownId,o=r("nostyle",this.props.toggleClassName),s=this.props.iconName||"ellipsis-h";return e.createElement("div",{className:this.props.className},e.createElement("div",null,e.createElement("button",{"aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","aria-owns":t,"data-popup":"#"+t,"data-popup-bind-open":"click","data-popup-direction":this.props.dropdownDirection,"data-popup-close":"data-popup-close",className:o},e.createElement(n,{name:s,className:this.props.iconClassName})),e.createElement("ul",{className:"styleguide dropdown bt3-dropdown-menu",id:t},this.props.listItems.map(function(o,r){return e.createElement("li",{key:t+"-listItem"+r},o)}))))},Dropdown}(e.Component),t.propTypes={dropdownId:e.PropTypes.string.isRequired,listItems:e.PropTypes.arrayOf(e.PropTypes.node).isRequired,dropdownDirection:e.PropTypes.string.isRequired,className:e.PropTypes.string,toggleClassName:e.PropTypes.string,iconClassName:e.PropTypes.string,iconName:e.PropTypes.string},t.defaultProps={dropdownDirection:"se"},o);module.exports=s});

define('css!bundles/discussions/components/threadSettings/__styles__/ThreadSettings',[],function(){})
define("bundles/discussions/components/threadSettings/ThreadSettings",["require","exports","module","react","i18n!nls/discussions","bundles/discussions/components/threadSettings/CloseThreadButton","bundles/discussions/components/threadSettings/PinThreadButton","bundles/discussions/components/threadSettings/MoveThreadModal","bundles/phoenix/components/Dropdown","css!./__styles__/ThreadSettings"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("i18n!nls/discussions"),s=require("bundles/discussions/components/threadSettings/CloseThreadButton"),r=require("bundles/discussions/components/threadSettings/PinThreadButton"),a=require("bundles/discussions/components/threadSettings/MoveThreadModal"),i=require("bundles/phoenix/components/Dropdown");require("css!./__styles__/ThreadSettings");var d=(n=t=function(t){function ThreadSettings(){var o,e,s;_classCallCheck(this,ThreadSettings);for(var r=arguments.length,a=Array(r),n=0;r>n;n++)a[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.state={showMoveThreadModal:!1},e.openMoveThreadModal=function(){e.setState({showMoveThreadModal:!0})},e.closeMoveThreadModal=function(){e.setState({showMoveThreadModal:!1})},s=o,_possibleConstructorReturn(e,s)}return _inherits(ThreadSettings,t),ThreadSettings.prototype.renderMoveThreadModal=function renderMoveThreadModal(){return e.createElement(a,{handleClose:this.closeMoveThreadModal,question:this.props.question})},ThreadSettings.prototype.renderNonItemEntries=function renderNonItemEntries(){if(this.props.shouldShowMoveThread)return e.createElement("button",{className:"nostyle",onClick:this.openMoveThreadModal},o("Move Thread"));return null},ThreadSettings.prototype.render=function render(){var t=[e.createElement(s,null),e.createElement(r,null),this.renderNonItemEntries()];return e.createElement("div",{className:"rc-ThreadSettings"},e.createElement(i,{dropdownId:"test",listItems:t,iconName:"settings",iconClassName:"color-secondary-text"}),this.state.showMoveThreadModal&&this.renderMoveThreadModal())},ThreadSettings}(e.Component),t.propTypes={question:e.PropTypes.object.isRequired,shouldShowMoveThread:e.PropTypes.bool},n);module.exports=d});

define('css!bundles/discussions/components/discussionsBody/__styles__/ThreadDetail',[],function(){})
define("bundles/discussions/components/discussionsBody/ThreadDetail",["require","exports","module","jsuri","react-router","react","underscore","bundles/discussions/actions/ThreadDetailsActions","bundles/discussions/components/discussionsBody/DetailedQuestion","bundles/discussions/components/SessionDetails","bundles/discussions/components/SoftDelete","bundles/discussions/components/profiles/ProfileArea","bundles/discussions/components/repliesList/HighlightedReply","bundles/discussions/components/repliesList/RepliesList","bundles/discussions/components/repliesList/ReplyCMLInput","bundles/discussions/components/NextViewLink","bundles/discussions/components/ModerationDropdown","bundles/discussions/components/threadSettings/ThreadSettings","bundles/discussions/constants","bundles/discussions/utils/discussionsUrl","bundles/discussions/api/threadDetailsUtils","bundles/discussions/utils/unreadTracker","pages/open-course/common/models/currentSocialProfile","pages/open-course/common/promises/groupAuthorizationPromise","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","bundles/discussions/components/discussionsForumsHOC","bundles/discussions/utils/areHighlightedPostsEnabled","i18n!nls/discussions","css!./__styles__/ThreadDetail"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),s=0;s<r.length;s++){var t=r[s],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var o,i,p=require("jsuri"),g=require("react-router"),S=g.Link,e=require("react"),_=require("underscore"),u=require("bundles/discussions/actions/ThreadDetailsActions"),E=u.fetchThread,s=u.fetchAnswers,l=require("bundles/discussions/components/discussionsBody/DetailedQuestion"),m=require("bundles/discussions/components/SessionDetails"),h=require("bundles/discussions/components/SoftDelete"),f=require("bundles/discussions/components/profiles/ProfileArea"),y=require("bundles/discussions/components/repliesList/HighlightedReply"),b=require("bundles/discussions/components/repliesList/RepliesList"),c=require("bundles/discussions/components/repliesList/ReplyCMLInput"),T=require("bundles/discussions/components/NextViewLink"),I=require("bundles/discussions/components/ModerationDropdown"),P=require("bundles/discussions/components/threadSettings/ThreadSettings"),t=require("bundles/discussions/constants"),a=t.savingStates,v=t.answerSorts,n=t.defaults,x=t.answers,d=t.naptimeForumTypes,w=require("bundles/discussions/utils/discussionsUrl"),q=w.buildUrl,D=require("bundles/discussions/api/threadDetailsUtils"),k=D.getAnswerPosition,R=require("bundles/discussions/utils/unreadTracker"),r=require("pages/open-course/common/models/currentSocialProfile"),C=require("pages/open-course/common/promises/groupAuthorizationPromise"),F=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),N=require("js/lib/connectToRouter"),A=require("bundles/discussions/utils/routerConnectToCurrentForum"),j=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),L=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),M=require("bundles/naptimejs/resources/groupForums.v1"),O=require("bundles/discussions/components/discussionsForumsHOC"),U=require("bundles/discussions/utils/areHighlightedPostsEnabled"),z=require("i18n!nls/discussions"),H=x.limitPerPage;require("css!./__styles__/ThreadDetail");var B=(i=o=function(t){function ThreadDetail(){var o,s,n;_classCallCheck(this,ThreadDetail);for(var r=arguments.length,i=Array(r),e=0;r>e;e++)i[e]=arguments[e];return o=s=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),s.state={canTeach:!1,inputClickCounter:0},n=o,_possibleConstructorReturn(s,n)}return _inherits(ThreadDetail,t),ThreadDetail.prototype.componentWillMount=function componentWillMount(){var e=this.props,i=e.questionId,o=e.sort,r=e.page,a=e.answerId,u=e.userId,c=e.contextId,t=e.currentForum;this.context.executeAction(E,{questionId:i,userId:u,contextId:c,sort:o,page:r,forumType:t&&t.forumType.typeName}),a||1===r&&o===n.detailSort||this.context.executeAction(s,{questionId:i,userId:u,contextId:c,sort:o,page:r,forumType:t&&t.forumType.typeName,includeDeleted:this.props.hasModerationRole})},ThreadDetail.prototype.componentDidMount=function componentDidMount(){this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0},ThreadDetail.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var o=e.questionId,n=e.userId,r=e.contextId,i=e.sort,u=e.page,t=e.currentForum;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(s,{questionId:o,userId:n,contextId:r,sort:i,page:u,forumType:t&&t.forumType.typeName,includeDeleted:this.props.hasModerationRole}):this.props.answerSavingState===a.SAVING&&e.answerSavingState===a.SAVED&&(this.context.executeAction(s,{questionId:o,userId:n,contextId:r,sort:i,page:u,forumType:t&&t.forumType.typeName,includeDeleted:this.props.hasModerationRole}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:v.newestSort}}))},ThreadDetail.prototype.componentDidUpdate=function componentDidUpdate(e,s,t){(e.questionId!==this.props.questionId||e.currentForum&&e.currentForum.id!==this.props.currentForum.id)&&this.markRead()},ThreadDetail.prototype.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},ThreadDetail.prototype.getRole=function getRole(){var s=this,e=this.props,n=e.authenticated,r=e.isSuperuser,t=e.currentForum,o=t&&t.forumType.definition.groupId;o?C(o,n,r).then(function(e){s._isMounted&&s.setState({canTeach:e})}):this.setState({canTeach:this.props.hasModerationRole})},ThreadDetail.prototype.getBackLinkDescription=function getBackLinkDescription(){return this.props.currentForum.title},ThreadDetail.prototype.fetchAnswerPosition=function fetchAnswerPosition(){var t=this,e=this.props,u=e.answerId,r=e.questionId,i=e.userId,c=e.contextId,o=e.currentForum,l=e.currentForumUrl,d=e.sort,a=e.page;if(!u)return;k(u,d,H).then(function(e){e===a?t.context.executeAction(s,{questionId:r,userId:i,contextId:c,sort:d,page:a,forumType:o&&o.forumType.typeName,includeDeleted:t.props.hasModerationRole}):t.context.router.replace({pathname:t.context.router.location.pathname,params:{},query:Object.assign(_.object(new p(t.context.router.location.search).queryPairs),{page:e})})}).fail(function(){var e=l;t.context.router.replace(q(e,r)),t.context.executeAction(s,{userId:i,contextId:c,questionId:r,sort:n.detailSort,page:n.detailPage,forumType:o&&o.forumType.typeName,includeDeleted:t.props.hasModerationRole})}).done()},ThreadDetail.prototype.markRead=function markRead(){R.markRead(this.props.questionId)},ThreadDetail.prototype.render=function render(){var i=this,t=this.props,s=t.question,a=t.isClosed,T=t.isPinned,D=t.currentForumUrl,o=t.currentForum,x=t.sort,q=t.page,u=t.questionId,p=t.answerId,g=t.commentId,w=t.courseId,n=D,I=o&&o.forumType.typeName,k=d.mentorForumType,R=d.groupForumType,v=o&&[k,R].indexOf(I)<0,C=v,E=this.state.canTeach&&s&&v;return e.createElement("div",{className:"rc-ThreadDetail"},E&&e.createElement(m,{isPinned:T,question:s}),e.createElement("div",{className:"discussion-content"},e.createElement("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},e.createElement(S,{to:this.props.backLink,className:"back-area nostyle"},e.createElement("div",{className:"horizontal-box align-items-vertical-center"},e.createElement("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"}),e.createElement("h4",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&s&&e.createElement(P,{question:s,shouldShowMoveThread:C})),e.createElement("div",{className:"frost-container"},e.createElement("div",null,e.createElement(l,{goToInput:function goToInput(){return i.setState({inputClickCounter:i.state.inputClickCounter+1})},question:s,isPinned:T,forumLink:n}),a&&e.createElement("div",{className:"c-thread-locked card-no-action color-secondary-text"},e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement("i",{className:"cif-lock"}),z("This thread is closed. You cannot add any more responses.")))),e.createElement("div",null,U(w,I)&&e.createElement(y,{answerId:p,commentId:g,forumLink:n,questionId:u}),s&&e.createElement(b,{page:q,sort:x,answerId:p,commentId:g,forumLink:n,questionId:u}),!a&&e.createElement("div",{className:"reply-container horizontal-box"},e.createElement(f,{fullName:r.get("fullName"),externalUserId:r.get("externalUserId"),profileImageUrl:r.getProfileImageUrl()}),s&&e.createElement(c,{question:s,parentPost:s,savingState:this.props.answerSavingState,shouldFocusCounter:this.state.inputClickCounter})),s&&s.state&&s.state.deleted&&e.createElement(h,{entry:s,hideUndoDelete:!1})))))},ThreadDetail}(e.Component),o.propTypes={questionId:e.PropTypes.string.isRequired,sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,backLink:e.PropTypes.string.isRequired,authenticated:e.PropTypes.bool.isRequired,isSuperuser:e.PropTypes.bool.isRequired,answerSavingState:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,question:e.PropTypes.object,isClosed:e.PropTypes.bool,isPinned:e.PropTypes.bool,contextId:e.PropTypes.string,userId:e.PropTypes.number,courseId:e.PropTypes.string,currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(j),e.PropTypes.instanceOf(L),e.PropTypes.instanceOf(M)]),currentForumUrl:e.PropTypes.string,hasModerationRole:e.PropTypes.bool},o.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},i);module.exports=_.compose(F(["ThreadDetailsStore","ThreadSettingsStore","CourseStore","ApplicationStore"],function(e,r){var o=e.ThreadDetailsStore,n=e.ThreadSettingsStore,u=e.CourseStore,s=e.ApplicationStore,i=r.questionId,t=o.getQuestion(i);return{question:t,answerSavingState:t&&o.savingStates[t.id],isClosed:n.isClosed(),isPinned:n.isPinned(),userId:s.getUserData().id,authenticated:s.isAuthenticatedUser(),isSuperuser:s.isSuperuser()}}),O({fields:["link","title"],subcomponents:[T,c,I]}),N(A))(B)});
define("bundles/discussions/api/SearchApi",["require","exports","module","q","bundles/phoenix/lib/apiWrapper","jsuri","bundles/discussions/constants"],function(require,exports,module){function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,o=Array(r.length);e<r.length;e++)o[e]=r[e];return o}return Array.from(r)}var s=require("q"),r=require("bundles/phoenix/lib/apiWrapper"),m=require("jsuri"),u=require("bundles/discussions/constants"),o=u.naptimeForumTypes,c=r("/api/courseForumSearches.v1",{type:"rest"}),t=r("/api/mentorForumSearches.v1",{type:"rest"}),n=r("/api/groupForumSearches.v1",{type:"rest"}),d=["userId","externalUserId","fullName","photoUrl","courseRole"],i=["title","content","snippet","creatorId","createdAt","parentForumAnswerId"],e=[].concat(i,["onDemandSocialProfiles.v1("+d.join(",")+")"]),a={searchFor:function searchFor(r){var f=r.query,y=r.filterQueryString,l=r.forumType,p=r.contextId,i=r.forumId,I=r.startPage,F=r.includeDeleted,u=(new m).addQueryParam("query",f).addQueryParam("q","search").addQueryParam("shouldAggregate","true").addQueryParam("includes","profiles").addQueryParam("includeDeleted",F?"true":"false"),d=void 0,a=void 0;return l===o.mentorForumType?(d=t,u.addQueryParam("mentorForumId",p+"~"+i),a=[].concat(_toConsumableArray(e),["mentorForumQuestionId","mentorForumAnswerId"])):l===o.groupForumType?(d=n,u.addQueryParam("groupForumId",p+"~"+i),a=[].concat(_toConsumableArray(e),["groupForumQuestionId","groupForumAnswerId"])):(d=c,u.addQueryParam("courseForumId",p+"~"+i),a=[].concat(_toConsumableArray(e),["courseForumQuestionId","courseForumAnswerId"]),y&&u.addQueryParam("sessionFilter",y)),u.addQueryParam("fields",a.join(",")),s(d.get(u.toString()))}};module.exports=a});
define("bundles/discussions/actions/DiscussionsSearchActions",["require","exports","module","bundles/discussions/constants","bundles/discussions/api/SearchApi"],function(require,exports,module){var n=require("bundles/discussions/constants"),e=n.FluxibleActions,u=n.loadingStates,r=require("bundles/discussions/api/SearchApi"),i=function receiveSearchResults(n,u,r,t,i){n.dispatch(e.SEARCH_RESULTS_RECEIVED,{pageNum:t,forumId:u,query:r,naptimeResponse:i})},t=function searchApiError(n,u){n.dispatch(e.SEARCH_API_ERROR,{err:u})};exports.search=function(s,n,m){var o=n.query,l=n.filterQueryString,c=n.forumId,E=n.contextId,p=n.forumType,d=n.reset,S=void 0===d?!1:d,a=n.pageNum,f=void 0===a?1:a,A=n.includeDeleted;s.dispatch(e.UPDATE_LOADING_STATE,u.LOADING),S&&s.dispatch(e.CLEAR_DISCUSSIONS_SEARCH_STORE),r.searchFor({query:o,filterQueryString:l,forumType:p,forumId:c,contextId:E,pageNum:f,includeDeleted:A}).then(function(e){return i(s,c,o,f,e)}).fail(function(e){return t(s,e)}).done(function(){return m()})},exports.goToPage=function(i,n,a){var c=n.query,d=n.filterQueryString,s=n.pageNum,A=n.forum,o=n.forumId,p=n.contextId,l=n.forumType,S=n.includeDeleted,m=i.getStore("DiscussionsSearchStore"),f=m.searchResults({forumId:o,pageNum:s});i.dispatch(e.UPDATE_LOADING_STATE,u.LOADING),0===f.length?r.searchFor({query:c,filterQueryString:d,forumType:l,forumId:o,contextId:p,pageNum:s,includeDeleted:S}).then(function(n){i.dispatch(e.SEARCH_PAGE_CHANGE,{pageNum:s,filterQueryString:d,naptimeResponse:n,forumId:o,query:c})}).fail(function(e){return t(i,e)}).done(function(){return a()}):(i.dispatch(e.SEARCH_PAGE_CHANGE,{pageNum:s,filterQueryString:d,forumId:o,query:c}),a())}});
define("bundles/discussions/components/search/SearchResultEntry",["require","exports","module","react","bundles/discussions/components/discussionsBody/ThreadsListEntry","bundles/discussions/lib/propTypes","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/unreadTracker","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),s=0;s<i.length;s++){var r=i[s],t=Object.getOwnPropertyDescriptor(n,r);t&&t.configurable&&void 0===e[r]&&Object.defineProperty(e,r,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,r,e=require("react"),t=require("bundles/discussions/components/discussionsBody/ThreadsListEntry"),n=require("bundles/discussions/lib/propTypes"),i=n.profilePropType,o=require("bundles/discussions/utils/discussionsUrl"),u=require("bundles/discussions/utils/unreadTracker"),p=require("i18n!nls/discussions"),c=(r=s=function(s){function SearchResultEntry(){return _classCallCheck(this,SearchResultEntry),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(SearchResultEntry,s),SearchResultEntry.prototype.render=function render(){var s=this.props.entry,r=!u.hasUnread(s);return e.createElement("div",{className:"rc-SearchResultEntry nostyle"},e.createElement(t,{threadUrl:o.getDeepLink(this.props.forumLink,this.props.entry),profile:s.creator,timestamp:s.createdAt,threadName:s.title,snippet:s.snippet,questionId:s.id,questionUserId:s.creator.userId,isRead:r,metadataLabel:p("Post by")}))},SearchResultEntry}(e.Component),s.propTypes={entry:e.PropTypes.shape({id:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,snippet:e.PropTypes.object.isRequired,creator:i.isRequired,createdAt:e.PropTypes.number}).isRequired,index:e.PropTypes.number.isRequired,page:e.PropTypes.number.isRequired,query:e.PropTypes.string.isRequired,forumLink:e.PropTypes.string.isRequired},r);module.exports=c});

define('css!bundles/discussions/components/search/__styles__/SearchResults',[],function(){})
define("bundles/discussions/components/search/SearchResults",["require","exports","module","underscore","react","bundles/discussions/constants","bundles/discussions/actions/DiscussionsSearchActions","bundles/discussions/components/ListBody","bundles/discussions/components/search/SearchBar","bundles/discussions/components/search/SearchResultEntry","bundles/page/components/PaginationControls","js/lib/path","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/waitFor","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/routerConnectToCurrentForum","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","bundles/discussions/components/discussionsForumsHOC","js/lib/coursera.react-intl","i18n!nls/discussions","css!./__styles__/SearchResults","css!bundles/page/components/__styles__/PaginationControls.css"],function(require,exports,module){function _defaults(e,n){for(var o=Object.getOwnPropertyNames(n),s=0;s<o.length;s++){var t=o[s],r=Object.getOwnPropertyDescriptor(n,t);r&&r.configurable&&void 0===e[t]&&Object.defineProperty(e,t,r)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var t,o,y=require("underscore"),F=y.compose,e=require("react"),c=require("bundles/discussions/constants"),r=c.loadingStates,n=require("bundles/discussions/actions/DiscussionsSearchActions"),l=require("bundles/discussions/components/ListBody"),p=require("bundles/discussions/components/search/SearchBar"),m=require("bundles/discussions/components/search/SearchResultEntry"),i=require("bundles/page/components/PaginationControls"),d=require("js/lib/path"),u=require("js/lib/connectToRouter"),h=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),g=require("js/lib/waitFor"),f=require("bundles/discussions/utils/discussionsUrl"),b=f.getAllThreadsDiscussionsUrl,S=require("bundles/discussions/utils/routerConnectToCurrentForum"),q=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),P=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),T=require("bundles/naptimejs/resources/groupForums.v1"),v=require("bundles/discussions/components/discussionsForumsHOC"),x=require("js/lib/coursera.react-intl"),a=x.FormattedMessage,s=require("i18n!nls/discussions");require("css!./__styles__/SearchResults"),require("css!bundles/page/components/__styles__/PaginationControls.css");var R=(o=t=function(t){function SearchResults(s,r){_classCallCheck(this,SearchResults);var e=_possibleConstructorReturn(this,t.call(this,s,r));return e.handleQueryChange=function(s){e.setState({query:s})},e.handleSearchCourse=function(s){s.preventDefault();var t=d.join(e.props.rootPath,"discussions/all");e.context.router.push({pathname:t,params:{},query:{q:e.state.query}})},e.onPageChange=function(s){e.context.router.push({pathname:e.context.router.location.pathname,params:{},query:Object.assign(e.context.router.location.query,{page:s})}),e.context.executeAction(n.goToPage,{query:e.props.query,pageNum:s,forumId:e.props.currentForum.forumId,contextId:e.props.contextId,forumType:e.props.currentForum.forumType.typeName,includeDeleted:e.props.hasModerationRole})},e.submitSearch=function(){if(e.state.query){var s=e.state.query.replace("*","");e.context.router.push({pathname:window.location.pathname,params:{},query:{q:s}})}},e.navigateBack=function(s){s.preventDefault(),e.context.router.push(e.props.currentForumUrl)},e.state={query:s.query||""},s.query&&e.context.executeAction(n.search,{query:s.query,filterQueryString:s.filterQueryString,pageNum:s.page,forumId:s.currentForum.forumId,contextId:s.contextId,forumType:s.currentForum.forumType.typeName,reset:!0,includeDeleted:s.hasModerationRole}),e}return _inherits(SearchResults,t),SearchResults.prototype.componentWillReceiveProps=function componentWillReceiveProps(e,s,t){(e.query!==this.props.query||e.pathname!==this.props.pathname||e.currentForum.id!==this.props.currentForum.id||e.filterQueryString!==this.props.filterQueryString)&&(this.setState({query:e.query}),this.context.executeAction(n.search,{query:e.query,filterQueryString:e.filterQueryString,pageNum:this.props.page,forumId:e.currentForum.forumId,contextId:e.contextId,forumType:e.currentForum.forumType.typeName,reset:this.props.filterQueryString!==e.filterQueryString,includeDeleted:e.hasModerationRole}))},SearchResults.prototype.render=function render(){var o=this,t=this.context.router.isActive({pathname:b()}),d=!!this.context.router.params.item_id,u=!t&&!d,n=this.props.currentForum.title,y=this.props.currentForumUrl,c=void 0,h=e.createElement("button",{onClick:this.handleSearchCourse,className:"nostyle search-course-link button-link"},s("Search All Discussions")),g=e.createElement("div",{className:"results-metadata bgcolor-black-g1"},e.createElement("span",{className:"color-secondary-text"},this.props.loadingState===r.DONE?e.createElement(a,{message:s("{numResults} search results in {displayName}"),numResults:this.props.numResults,displayName:n}):e.createElement(a,{message:s("Finding search results in {displayName}"),displayName:n}),u&&" • ",u&&h));return this.props.loadingState===r.DONE&&this.props.currentResults.length>0&&(c=this.props.currentResults.map(function(s,t){return e.createElement(m,{key:s.id,index:t,entry:s,page:o.props.page,query:o.props.query,forumLink:y})})),e.createElement("div",{className:"rc-DiscussionsSearchResults"},e.createElement("div",{className:"results-container card-rich-interaction"},!t&&e.createElement("div",{className:"bgcolor-black-g1"},e.createElement("button",{onClick:this.navigateBack,className:"nostyle back-area button-link"},e.createElement("div",{className:"back-arrow"},e.createElement("i",{className:"cif-arrow-left back-arrow-image"})),e.createElement("span",{className:"back-label body-2-text"},s("Back to "+n)))),!t&&e.createElement(p,{query:this.state.query,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange}),!t&&g,e.createElement(l,{loadingState:this.props.loadingState},c)),e.createElement(i,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5}))},SearchResults}(e.Component),t.propTypes={currentForum:e.PropTypes.oneOfType([e.PropTypes.instanceOf(q),e.PropTypes.instanceOf(P),e.PropTypes.instanceOf(T)]),query:e.PropTypes.string.isRequired,pathname:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,loadingState:e.PropTypes.oneOf(Object.keys(r)),pageCount:e.PropTypes.number,currentResults:e.PropTypes.array,numResults:e.PropTypes.number,filterQueryString:e.PropTypes.string,rootPath:e.PropTypes.string,currentForumUrl:e.PropTypes.string,hasModerationRole:e.PropTypes.bool,contextId:e.PropTypes.string},t.contextTypes={executeAction:e.PropTypes.func.isRequired,router:e.PropTypes.object.isRequired},o);module.exports=F(u(function(e){return{query:decodeURIComponent(e.location.query.q),pathname:e.location.pathname}}),v({fields:["title","link","forumType"]}),u(S),h(["DiscussionsSearchStore","SessionFilterStore"],function(r,s){var e=r.DiscussionsSearchStore,n=r.SessionFilterStore,t=s.currentForum.forumId;return{filterQueryString:n.activeFilterQueryString,currentResults:e.searchResults({forumId:t,query:s.query,pageNum:e.currentPage}),loadingState:e.loadingState,pageCount:e.getPageCount({forumId:t,query:s.query}),numResults:e.getNumResults({forumId:t,query:s.query})}}),g(function(e){return e.currentForum}))(R)});
define("nls/profile",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/discussions/components/discussionsBody/DiscussionsBody",["require","exports","module","jquery","react","underscore","jsuri","classnames","js/lib/retracked","bundles/discussions/constants","bundles/discussions/components/discussionsBody/ThreadsList","bundles/discussions/components/discussionsBody/ThreadDetail","bundles/discussions/components/search/SearchResults","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","bundles/discussions/app"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),t=0;t<n.length;t++){var s=n[t],o=Object.getOwnPropertyDescriptor(r,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,r,n,$=require("jquery"),e=require("react"),l=require("underscore"),a=l.compose,p=require("jsuri"),i=require("classnames"),u=require("js/lib/retracked"),c=require("bundles/discussions/constants"),s=c.defaults,d=require("bundles/discussions/components/discussionsBody/ThreadsList"),y=require("bundles/discussions/components/discussionsBody/ThreadDetail"),m=require("bundles/discussions/components/search/SearchResults"),h=require("js/lib/connectToRouter"),f=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),b=require("bundles/discussions/app"),g=(o=t=function(t){function DiscussionsBody(){var o,e,r;_classCallCheck(this,DiscussionsBody);for(var n=arguments.length,i=Array(n),s=0;n>s;s++)i[s]=arguments[s];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.state={},e.onKeypress=function(){e.props.videoPlayer&&e.props.videoPlayer.emitter.set("disableAutoplay")},r=o,_possibleConstructorReturn(e,r)}return _inherits(DiscussionsBody,t),DiscussionsBody.prototype.getChildContext=function getChildContext(){return{fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},DiscussionsBody.prototype.componentWillMount=function componentWillMount(){$(document).one("keypress",this.onKeypress)},DiscussionsBody.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){!this.props.questionId&&e.questionId&&this.props.listPage?this.setState({previousListPage:this.props.listPage}):this.props.questionId!==e.questionId&&this.setState({previousListPage:null})},DiscussionsBody.prototype.componentWillUnmount=function componentWillUnmount(){$(document).off("keypress",this.onKeypress)},DiscussionsBody.prototype.renderSearchResults=function renderSearchResults(){var t=this.props,s=t.searchPage,o=t.q;return e.createElement(m,{query:o,page:s,ref:"SearchResults"})},DiscussionsBody.prototype.renderThreadsList=function renderThreadsList(){var t=this.props,s=t.listPage,o=t.listSort;return e.createElement(d,{ref:"ThreadsList",videoPlayer:this.props.videoPlayer,sort:o,page:s})},DiscussionsBody.prototype.renderThreadDetail=function renderThreadDetail(){var t=this.props,o=t.videoPlayer,r=t.questionId,n=t.answerId,i=t.commentId,s=t.detailPage,u=t.detailSort,c=t.listSort,l=t.listPage,d=t.q,m=t.backLink,a=new p(m).addQueryParam("sort",c).addQueryParam("page",this.state.previousListPage||l).addQueryParam("q",d).toString();return e.createElement(y,{ref:"ThreadDetail",videoPlayer:o,questionId:r,answerId:n,commentId:i,sort:u,page:s,backLink:a})},DiscussionsBody.prototype.render=function render(){var t=this.props.questionId,s=this.props.q;return e.createElement("div",{className:i("rc-DiscussionsBody","styleguide",this.props.className)},t&&this.renderThreadDetail(),!t&&(s?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(e.Component),t.propTypes={backLink:e.PropTypes.string,videoPlayer:e.PropTypes.object,className:e.PropTypes.string,questionId:e.PropTypes.string,answerId:e.PropTypes.string,commentId:e.PropTypes.string,sort:e.PropTypes.string,page:e.PropTypes.number,detailSort:e.PropTypes.string,detailPage:e.PropTypes.number,listSort:e.PropTypes.string,listPage:e.PropTypes.number,q:e.PropTypes.string,searchPage:e.PropTypes.number,fluxibleContext:e.PropTypes.object},t.contextTypes={router:e.PropTypes.object.isRequired,fluxibleContext:e.PropTypes.object},t.childContextTypes={fluxibleContext:e.PropTypes.object},t.defaultProps={detailSort:s.detailSort,detailPage:s.detailPage,listSort:s.listSort,listPage:s.listPage},o),P=function getPropsFromRouter(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.params,e=n.location.query,i=r.question_id||o.questionId,t=e.page?parseInt(e.page,10):1,s={answerId:r.answer_id||o.answerId,questionId:i,commentId:r.comment_id||o.commentId,sort:e.sort,page:t};return i?Object.assign(s,{detailSort:e.sort,detailPage:t}):e.q?Object.assign(s,{q:e.q,searchPage:t}):Object.assign(s,{listSort:e.sort,listPage:t}),s},T=a(h(P),u.createTrackedContainer(function(e){return{sort:e.sort,page:e.page}}))(g);module.exports=(n=r=function(t){function FluxibleConnectedDiscussionsBody(){return _classCallCheck(this,FluxibleConnectedDiscussionsBody),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(FluxibleConnectedDiscussionsBody,t),FluxibleConnectedDiscussionsBody.prototype.componentWillMount=function componentWillMount(){this.fluxibleContext=b(this.context.fluxibleContext)},FluxibleConnectedDiscussionsBody.prototype.render=function render(){return e.createElement(f,{context:this.fluxibleContext.getComponentContext()},e.createElement(T,this.props))},FluxibleConnectedDiscussionsBody}(e.Component),r.contextTypes={fluxibleContext:e.PropTypes.object},n)});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-truncate{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.c-user-modal-overlay{background-color:rgba(0,0,0,0.83)}.c-user-modal{background-color:#f5f5f5}.c-user-modal .c-user-modal-content h2,.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-footer a{color:rgba(0,0,0,0.87)}.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-footer{color:rgba(0,0,0,0.54)}.c-user-modal header,.c-user-modal header a.active,.c-user-modal header a:hover,.c-user-modal header a:focus,.c-user-modal header a:active,.c-user-modal .c-user-modal-content .c-user-modal-error-inline{color:#fff}.c-user-modal header a,.c-user-modal .c-user-modal-close{color:rgba(255,255,255,0.7)}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:disabled{color:rgba(255,255,255,0.3)}.c-user-modal,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.tooltip.left .tooltip-inner{-webkit-border-radius:4px;border-radius:4px}.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-controls,.c-user-modal .c-user-modal-content button{-webkit-border-radius:2px;border-radius:2px}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.c-user-modal header,.c-user-modal header a,.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-footer a{font-weight:500}.c-user-modal .c-user-modal-content h2{font-size:24px;line-height:32px}.c-user-modal .c-user-modal-close{font-size:20px;line-height:24px}.c-user-modal header,.c-user-modal header a,.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-content input{font-size:14px;line-height:20px}.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.c-user-modal .c-user-modal-footer{font-size:12px;line-height:14px}.c-user-modal .c-user-modal-content button{font-size:14px;line-height:16px;}.c-user-modal .c-user-modal-content button{-webkit-transition-property:background-color,box-shadow(),color,opacity(n, args);-moz-transition-property:background-color,box-shadow(),color,opacity(n, args);-o-transition-property:background-color,box-shadow(),color,opacity(n, args);-ms-transition-property:background-color,box-shadow(),color,opacity(n, args);transition-property:background-color,box-shadow(),color,opacity(n, args);-webkit-transition-duration:100ms;-moz-transition-duration:100ms;-o-transition-duration:100ms;-ms-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-o-transition-timing-function:ease;-ms-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-delay:0ms;-moz-transition-delay:0ms;-o-transition-delay:0ms;-ms-transition-delay:0ms;transition-delay:0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-block;text-align:center;vertical-align:middle;white-space:nowrap;background-image:none;border:none;opacity:1;-ms-filter:none;filter:none;}.c-user-modal .c-user-modal-content button[disabled]{opacity:.65;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=65)\";filter:alpha(opacity=65);cursor:not-allowed;pointer-events:none}.c-user-modal .c-user-modal-content button[disabled]{-webkit-box-shadow:none;box-shadow:none}.c-user-modal .c-user-modal-content button{color:#fff;background:#4285f4;}.c-user-modal .c-user-modal-content button:hover{background-color:#3d7ae0}.c-user-modal .c-user-modal-content button:focus{background-color:#356cc6}.c-user-modal .c-user-modal-content button:active{background-color:rgba(55,110,203,1)}.c-user-modal .c-user-modal-content button[disabled]{background-color:rgba(0,0,0,0.12);color:rgba(0,0,0,0.26)}.c-user-modal .c-user-modal-divider{margin-top:8px;margin-bottom:8px}.c-user-modal .c-user-modal-footer{margin-top:16px;margin-bottom:0}.c-user-modal .c-user-modal-content h2,.c-user-modal .c-user-modal-content p,.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-controls{margin-top:0;margin-bottom:16px}.c-user-modal .c-user-modal-content .c-user-modal-error-icon,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-content form{margin:0}[class^=\"cif-\"],[class*=\" cif-\"]{font-family:\'coursera-iconfont\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block}@-webkit-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}.cif-lg{font-size:1.333333333333333em;line-height:.75em;vertical-align:-15%}.cif-2x{font-size:2em}.cif-3x{font-size:3em}.cif-4x{font-size:4em}.cif-5x{font-size:5em}.cif-fw{width:1.285714285714286em;text-align:center}.cif-spin{-webkit-animation:cif-spin 2s infinite linear;-webkit-animation:cif-spin 2s infinite linear;-moz-animation:cif-spin 2s infinite linear;-o-animation:cif-spin 2s infinite linear;-ms-animation:cif-spin 2s infinite linear;animation:cif-spin 2s infinite linear}.cif-pulse{-webkit-animation:cif-spin 1s infinite steps(8);-webkit-animation:cif-spin 1s infinite steps(8);-moz-animation:cif-spin 1s infinite steps(8);-o-animation:cif-spin 1s infinite steps(8);-ms-animation:cif-spin 1s infinite steps(8);animation:cif-spin 1s infinite steps(8)}.cif-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.cif-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.cif-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.cif-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(0, 1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);-webkit-transform:scale(-1,1);-moz-transform:scale(-1,1);-o-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.cif-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(2, 1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);-webkit-transform:scale(1,-1);-moz-transform:scale(1,-1);-o-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}.cif-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.cif-stack-1x,.cif-stack-2x{position:absolute;left:0;width:100%;text-align:center}.cif-stack-1x{line-height:inherit}.cif-stack-2x{font-size:2em}.cif-inverse{color:#fff}.cif-fw{width:1.285714285714286em;text-align:center}@-moz-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@-o-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}.cif-pin:before{content:\"\\e624\"}.cif-eye:before{content:\"\\e62c\"}.cif-checked-circle-semiopen:before{content:\"\\e92c\"}.cif-math:before{content:\"\\e922\"}.cif-artsandhumanities:before{content:\"\\e927\"}.cif-business:before{content:\"\\e923\"}.cif-data_science:before{content:\"\\e924\"}.cif-language1:before{content:\"\\e925\"}.cif-life_science:before{content:\"\\e926\"}.cif-personaldevelopment:before{content:\"\\e928\"}.cif-physicalsciences:before{content:\"\\e929\"}.cif-programming:before{content:\"\\e92a\"}.cif-socialscience:before{content:\"\\e92b\"}.cif-book:before{content:\"\\e91c\"}.cif-browser:before{content:\"\\e91d\"}.cif-bullet-list:before{content:\"\\e91e\"}.cif-check-box:before{content:\"\\e91f\"}.cif-discussion-bubble-o:before{content:\"\\e920\"}.cif-question-circle-o:before{content:\"\\e921\"}.cif-open-book:before{content:\"\\e91b\"}.cif-chevron-right-thin:before{content:\"\\e91a\"}.cif-certificate-form:before{content:\"\\e919\"}.cif-person:before{content:\"\\e918\"}.cif-honors:before{content:\"\\e90f\"}.cif-tools:before{content:\"\\e915\"}.cif-graduation-hat:before{content:\"\\e916\"}.cif-check-list:before{content:\"\\e917\"}.cif-clock:before{content:\"\\e914\"}.cif-email2:before{content:\"\\e904\"}.cif-facebook2:before{content:\"\\e905\"}.cif-google-plus2:before{content:\"\\e906\"}.cif-wechat2:before{content:\"\\e907\"}.cif-caret2:before{content:\"\\e908\"}.cif-stacked-file:before{content:\"\\e909\"}.cif-practice-quiz:before{content:\"\\e90a\"}.cif-broken-file:before{content:\"\\e90b\"}.cif-full-star:before{content:\"\\e90c\"}.cif-graded-quiz:before{content:\"\\e90d\"}.cif-half-star:before{content:\"\\e90e\"}.cif-peer-review:before{content:\"\\e911\"}.cif-reading:before{content:\"\\e912\"}.cif-video:before{content:\"\\e913\"}.cif-language:before{content:\"\\e910\"}.cif-event:before{content:\"\\e903\"}.cif-circle-outline:before{content:\"\\e902\"}.cif-ellipsis-h:before{content:\"\\e901\"}.cif-doc:before{content:\"\\e900\"}.cif-unlock:before{content:\"\\e61d\"}.cif-assignment:before{content:\"\\e643\"}.cif-list-ol:before{content:\"\\e600\"}.cif-list-ul:before{content:\"\\e601\"}.cif-caret-up:before{content:\"\\e62f\"}.cif-caret-down:before{content:\"\\e630\"}.cif-linkedin-square:before{content:\"\\e631\"}.cif-times-circle-o:before{content:\"\\e632\"}.cif-chain-broken:before{content:\"\\e633\"}.cif-envelope-o:before{content:\"\\e634\"}.cif-google-plus:before{content:\"\\e635\"}.cif-twitter:before{content:\"\\e636\"}.cif-facebook:before{content:\"\\e637\"}.cif-thumbs-o-down:before{content:\"\\e638\"}.cif-thumbs-o-up:before{content:\"\\e639\"}.cif-thumbs-down:before{content:\"\\e63a\"}.cif-thumbs-up:before{content:\"\\e63b\"}.cif-flag-o:before{content:\"\\e63c\"}.cif-flag:before{content:\"\\e63d\"}.cif-check-circle-o:before{content:\"\\e63e\"}.cif-check:before{content:\"\\e63f\"}.cif-camera:before{content:\"\\e62e\"}.cif-film:before{content:\"\\e62d\"}.cif-minus:before{content:\"\\e62a\"}.cif-compress:before{content:\"\\e62b\"}.cif-captions:before{content:\"\\e602\"}.cif-expand:before{content:\"\\e625\"}.cif-refresh:before{content:\"\\e626\"}.cif-download:before{content:\"\\e627\"}.cif-file-o:before{content:\"\\e628\"}.cif-upload:before{content:\"\\e61e\"}.cif-minus-square:before{content:\"\\e629\"}.cif-plus-square:before{content:\"\\e620\"}.cif-plus:before{content:\"\\e621\"}.cif-square:before{content:\"\\e622\"}.cif-cog:before{content:\"\\e623\"}.cif-settings:before{content:\"\\e623\"}.cif-circle:before{content:\"\\e61f\"}.cif-search:before{content:\"\\e61c\"}.cif-item-doc:before{content:\"\\e615\"}.cif-warning:before{content:\"\\f071\"}.cif-circle-o:before{content:\"\\f10c\"}.cif-heart:before{content:\"\\f004\"}.cif-star:before{content:\"\\f005\"}.cif-star-o:before{content:\"\\f006\"}.cif-user:before{content:\"\\f007\"}.cif-close2:before{content:\"\\f00d\"}.cif-remove:before{content:\"\\f00d\"}.cif-times:before{content:\"\\f00d\"}.cif-clock-o:before{content:\"\\f017\"}.cif-volume-off:before{content:\"\\f026\"}.cif-volume-down:before{content:\"\\f027\"}.cif-volume-up:before{content:\"\\f028\"}.cif-bookmark:before{content:\"\\f02e\"}.cif-edit:before{content:\"\\f044\"}.cif-pencil-square-o:before{content:\"\\f044\"}.cif-play:before{content:\"\\f04b\"}.cif-pause:before{content:\"\\f04c\"}.cif-chevron-left:before{content:\"\\f053\"}.cif-chevron-right:before{content:\"\\f054\"}.cif-check-circle:before{content:\"\\f058\"}.cif-question-circle:before{content:\"\\f059\"}.cif-ban:before{content:\"\\f05e\"}.cif-arrow-left:before{content:\"\\f060\"}.cif-arrow-right:before{content:\"\\f061\"}.cif-arrow-up:before{content:\"\\f062\"}.cif-arrow-down:before{content:\"\\f063\"}.cif-calendar:before{content:\"\\f073\"}.cif-comment:before{content:\"\\f075\"}.cif-chevron-up:before{content:\"\\f077\"}.cif-chevron-down:before{content:\"\\f078\"}.cif-heart-o:before{content:\"\\f08a\"}.cif-external-link:before{content:\"\\f08e\"}.cif-certificate:before{content:\"\\f0a3\"}.cif-globe:before{content:\"\\f0ac\"}.cif-group:before{content:\"\\f0c0\"}.cif-users:before{content:\"\\f0c0\"}.cif-chain:before{content:\"\\f0c1\"}.cif-link:before{content:\"\\f0c1\"}.cif-file-text-o:before{content:\"\\f0f6\"}.cif-quote-left:before{content:\"\\f10d\"}.cif-quote-right:before{content:\"\\f10e\"}.cif-spinner:before{content:\"\\f110\"}.cif-star-half-empty:before{content:\"\\f123\"}.cif-star-half-full:before{content:\"\\f123\"}.cif-star-half-o:before{content:\"\\f123\"}.cif-chevron-circle-left:before{content:\"\\f137\"}.cif-chevron-circle-right:before{content:\"\\f138\"}.cif-chevron-circle-up:before{content:\"\\f139\"}.cif-chevron-circle-down:before{content:\"\\f13a\"}.cif-play-circle:before{content:\"\\f144\"}.cif-file-image-o:before{content:\"\\f1c5\"}.cif-file-photo-o:before{content:\"\\f1c5\"}.cif-file-picture-o:before{content:\"\\f1c5\"}.cif-circle-o-notch:before{content:\"\\f1ce\"}.cif-paper-plane:before{content:\"\\f1d8\"}.cif-send:before{content:\"\\f1d8\"}.cif-circle-thin:before{content:\"\\f1db\"}.cif-genderless:before{content:\"\\f1db\"}.cif-facebook-official:before{content:\"\\f230\"}.cif-lock:before{content:\"\\e61a\"}.cif-info:before{content:\"\\e61b\"}.cif-discussions:before{content:\"\\e617\"}.cif-checkmark:before{content:\"\\e60a\"}.cif-get-vc .path1:before{content:\"\\e603\";color:#fff}.cif-get-vc .path2:before{content:\"\\e604\";margin-left:-1.0166015625em;color:#fff}.cif-get-vc .path3:before{content:\"\\e605\";margin-left:-1.0166015625em;color:#4187bb}.cif-get-vc .path4:before{content:\"\\e606\";margin-left:-1.0166015625em;color:#4187bb}.cif-get-vc .path5:before{content:\"\\e607\";margin-left:-1.0166015625em;color:#fff}.cif-get-vc .path6:before{content:\"\\e608\";margin-left:-1.0166015625em;color:#fff}.cif-get-vc .path7:before{content:\"\\e609\";margin-left:-1.0166015625em;color:#cad9e7}.cif-get-vc .path8:before{content:\"\\e640\";margin-left:-1.0166015625em;color:#cad9e7}.cif-get-vc .path9:before{content:\"\\e641\";margin-left:-1.0166015625em;color:#4187bb}.cif-home:before{content:\"\\e60b\"}.cif-course-list:before{content:\"\\e60c\"}.cif-item-video:before{content:\"\\e60d\"}.cif-summative-incomplete .path1:before{content:\"\\e60e\";color:rgba(0,0,0,0.54)}.cif-summative-incomplete .path2:before{content:\"\\e642\";margin-left:-1.0419921875em;color:#fff}.cif-summative-complete .path1:before{content:\"\\e60f\";color:#2ab573}.cif-summative-complete .path2:before{content:\"\\e610\";margin-left:-1em;color:#2ab573}.cif-summative-complete .path3:before{content:\"\\e611\";margin-left:-1em;color:#fff}.cif-prog-assignment:before{content:\"\\e612\"}.cif-item-peer:before{content:\"\\e613\"}.cif-item-formative:before{content:\"\\e614\"}.cif-close:before{content:\"\\e616\"}.cif-cancel-hint:before{content:\"\\e618\"}.cif-back:before{content:\"\\e619\"}.tooltip{position:absolute;z-index:1030;display:block;visibility:visible;padding:5px;font-size:11px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.tooltip.in{opacity:80;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=8000)\";filter:alpha(opacity=8000)}.tooltip.top{margin-top:-3px}.tooltip.right{margin-left:3px}.tooltip.bottom{margin-top:3px}.tooltip.left{margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;-webkit-border-radius:4px;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.c-user-modal{max-width:380px;position:relative;}.c-user-modal a{cursor:pointer;text-decoration:none}.c-user-modal header{text-align:center;position:absolute;top:-174px;width:100%;}.c-user-modal header .c-logo{display:block;margin:auto;background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/bundles/userModal/images/coursera-logo.svg\");-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;height:36px;width:208px}.c-user-modal header .c-user-modal-mission{padding:8px}.c-user-modal header nav{margin-top:56px}.c-user-modal header a{text-transform:uppercase;display:inline-block;padding:8px 12px;position:relative;}.c-user-modal header a:first-child{margin-right:16px}.c-user-modal header a:focus{outline:0}.c-user-modal header a.active:after{border-color:transparent transparent #f5f5f5 transparent;border-style:solid;border-width:0 10px 10px 10px;content:\'\';display:block;position:absolute;height:0;width:0;left:40%;bottom:-11px}.c-user-modal .c-user-modal-close{cursor:pointer;position:fixed;right:16px;top:16px;z-index:1}.c-user-modal .c-user-modal-divider{text-align:center;}.c-user-modal .c-user-modal-content{padding:24px;}.c-user-modal .c-user-modal-content h2{font-family:\'Helvetica Neue\',Arial,sans-serif}.c-user-modal .c-user-modal-content .c-user-modal-help-text{padding:8px;background-color:rgba(0,0,0,0.12)}.c-user-modal .c-user-modal-content .c-user-modal-controls{border:1px solid #dadbd8;}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group{position:relative;border-top:1px solid #dadbd8;}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group:first-of-type{border-top:none}.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-content .c-user-modal-error-icon{padding:14px 16px}.c-user-modal .c-user-modal-content .c-user-modal-error-icon{cursor:pointer;position:absolute;top:0;right:0;color:#ff5c6e;line-height:20px;display:none}.c-user-modal .c-user-modal-content .c-user-modal-error-inline{background-color:#d9534f}.c-user-modal .c-user-modal-content button{width:100%;}.c-user-modal .c-user-modal-content button:hover{border:none}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button{background:#3b5998;}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:hover{background-color:#36528c}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:focus{background-color:#30487b}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:active{background-color:rgba(49,74,126,1)}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button span{display:inline-block;vertical-align:middle}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em{font-size:20px}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button span,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i:last-child,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em:last-child{margin-left:8px}.c-user-modal .c-user-modal-content input{width:100%;border:none}.c-user-modal .c-user-modal-footer{text-align:center;}@media (max-height:568px){.c-user-modal header{top:-102px !important}.c-user-modal .c-logo,.c-user-modal .c-user-modal-mission{display:none !important}}.c-user-modal .c-user-modal-content input{height:48px;-webkit-border-radius:0;border-radius:0;-webkit-box-shadow:none;box-shadow:none}.tooltip.left .tooltip-inner{background-color:#d9534f}.tooltip.left .tooltip-arrow{border-left-color:#d9534f}.scribe-image-upload-command-loader{background:#fff;position:absolute;padding:5px 15px;border:1px solid #aaa}.scribe-image-upload-command-in-progress{opacity:.1;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)\";filter:alpha(opacity=10)}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SessionFilterDropdown{width:100%;}.rc-SessionFilterDropdown .bt3-btn-group{width:100%}.rc-SessionFilterDropdown button.bt3-dropdown-toggle{-webkit-border-radius:0;border-radius:0;width:100%;text-align:left;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.rc-SessionFilterDropdown button.bt3-dropdown-toggle span{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.rc-SessionFilterDropdown ul > li.disabled > a:hover{cursor:default;background-color:#fff}.rc-SessionFilterDropdown ul > li.disabled > a:focus{outline:none;background-color:#fff}.rc-SessionFilterDropdown ul.bt3-dropdown-menu{z-index:10000}.rc-SessionFilterDropdown .menu-item-box{overflow:hidden}.rc-SessionFilterDropdown .menu-item-label{background:#f6faff;-webkit-border-radius:2px;border-radius:2px;padding:2px 10px;border:1px solid rgba(0,0,0,0.1);margin-left:10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-NewThreadForm .c-new-thread-button{margin:4px 0 8px 8px}.rc-NewThreadForm .context-selector-container .section-divider{width:100%;height:1px;margin-bottom:16px}.rc-NewThreadForm .context-selector-container h5{font-family:\'sofiapro-light\',Arial,sans-serif;font-size:18px}.rc-NewThreadForm .new-thread-modal .c-modal-content{overflow-y:scroll}.c-input-area{margin-bottom:12px}.c-form-label-area{width:56px;text-align:left;margin-right:8px;vertical-align:top;}.c-form-label-area h2.c-form-label{margin-top:4px}@media (max-width:767px){.c-post-heading{margin-bottom:0}.c-form-label-area{text-align:left}.c-form-error-message{margin-left:0}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SearchBar{z-index:1000;}.rc-SearchBar.search-bar{border:none;}.rc-SearchBar.search-bar i{margin-right:16px}.rc-SearchBar .close-icon{margin-left:16px}.rc-SearchBox{position:relative;}.rc-SearchBox .search-box{width:100%;}.rc-SearchBox .search-box:hover{outline:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ControlsBar{border-bottom:1px solid rgba(0,0,0,0.06);max-height:50px;padding:0;}.rc-ControlsBar .sort-label{margin:0 0 0 32px}.rc-ControlsBar .sort-select{border:none;margin-right:20px}.rc-ControlsBar .rc-NewThreadForm{margin-right:8px;min-width:104px}.rc-ControlsBar .rc-SearchBox{margin-right:8px;max-width:200px}.rc-ControlsBar .expand-block{-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;z-index:1000;max-height:inherit}.rc-ControlsBar .shrink-block{-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;overflow:hidden;max-height:inherit}.rc-ControlsBar.in-search-mode .expand-block{-webkit-transition:flex 0.2s ease-in-out;-moz-transition:flex 0.2s ease-in-out;-o-transition:flex 0.2s ease-in-out;-ms-transition:flex 0.2s ease-in-out;transition:flex 0.2s ease-in-out}.rc-ControlsBar.in-search-mode .shrink-block{min-width:0;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:.00001;-ms-flex:.00001;flex:.00001;-webkit-flex:.00001;-ms-flex:.00001;-moz-flex:.00001;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.rc-ControlsBar button.tertiary{min-width:20px}.rc-ControlsBar .mobile{display:none}@media (max-width:767px){.rc-ControlsBar .mobile{display:block}.rc-ControlsBar .large-screen{display:none}.rc-ControlsBar .rc-NewThreadForm{min-width:0}.rc-ControlsBar button.tertiary{padding:0}.rc-ControlsBar .rc-SearchBox,.rc-ControlsBar .rc-NewThreadForm{width:24px;}.rc-ControlsBar .rc-SearchBox i,.rc-ControlsBar .rc-NewThreadForm i{font-size:20px;padding-bottom:6px}.rc-ControlsBar .rc-NewThreadForm i{padding-top:6px}.rc-ControlsBar .rc-SearchBox i{padding-top:4px}}.rc-ListBody{position:relative;max-height:120px;min-height:120px;overflow-x:visible;}.rc-ListBody.c-list-expanded{max-height:100000px;min-height:inherit;-webkit-transition:max-height 1s ease-in-out;-moz-transition:max-height 1s ease-in-out;-o-transition:max-height 1s ease-in-out;-ms-transition:max-height 1s ease-in-out;transition:max-height 1s ease-in-out}.rc-ListBody.c-post-transition{overflow:visible}.rc-ListBody .message{padding:40px 20px 44px;text-align:center;height:80px}.rc-ListBody .c-pre-fossil{z-index:0;top:0;right:0;bottom:0;left:0;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.rc-ListBody .c-pre-fossil.c-fossilized{position:absolute;background-color:rgba(255,255,255,0.7);z-index:1000;-webkit-transition:all 0.2s ease-in-out;-moz-transition:all 0.2s ease-in-out;-o-transition:all 0.2s ease-in-out;-ms-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.rc-ListBody ul{margin:0;padding:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImage .c-profile-image{-webkit-border-radius:100%;border-radius:100%;}.rc-ProfileImage .c-profile-image img{-webkit-border-radius:100%;border-radius:100%}.rc-ProfileImage .c-profile-initials{background-color:#3277b2;color:#fff;text-transform:uppercase;}.rc-ProfileImage .c-profile-initials div{width:100%;height:100%;}.rc-ProfileImage .c-profile-initials div p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImageWithRole .course-role-icon{-webkit-border-radius:100%;border-radius:100%;color:#fff;width:18px;height:18px;position:absolute;margin-left:24px;margin-top:-14px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MiniProfile{position:absolute;z-index:9999;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-MiniProfile.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-MiniProfile .profile-header{margin:16px 12px 12px;}.rc-MiniProfile .profile-header .profile-photo{margin-bottom:12px}.rc-MiniProfile .profile-footer{padding:12px 16px 16px}.rc-MiniProfile .loading-state{text-align:center;margin:48px}.rc-MiniProfile .dot-spacing{margin:0 4px}.rc-MiniProfile.profileAreaNorth{margin-top:-205px}.rc-MiniProfile.profileAreaSouth{margin-top:5px}.rc-MiniProfile.profileNameNorth{margin-top:-185px}.rc-MiniProfile.profileNameSouth{margin-top:5px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileName .profile-name{color:inherit;text-decoration:none;cursor:pointer;}.rc-ProfileName .profile-name:hover{text-decoration:underline;color:rgba(0,0,0,0.54)}.rc-SoftDelete .c-soft-delete{display:block;position:absolute;top:0;right:0;background:rgba(255,255,255,0.7);width:100%;height:100%;}.rc-SoftDelete .c-soft-delete .c-soft-delete-header{position:absolute;top:10px;right:15px}.rc-SoftDelete .c-soft-delete-clickable{pointer-events:none}.rc-SoftDelete .c-soft-delete-error{position:absolute;top:10px;right:15px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadBadge{padding:2px 8px;-webkit-border-radius:3px;border-radius:3px;color:#a07e46}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadsListEntry{padding:16px 16px 20px 16px;cursor:pointer;position:relative;border-bottom:1px solid rgba(0,0,0,0.06);}.rc-ThreadsListEntry:last-child{border-bottom:none}.rc-ThreadsListEntry:hover{background:rgba(0,0,0,0.05);}.rc-ThreadsListEntry:hover a{text-decoration:none}.rc-ThreadsListEntry .entry-metadata{margin-top:4px;}.rc-ThreadsListEntry .entry-metadata .timestamp-separator{margin-left:4px}.rc-ThreadsListEntry .entry-metadata .timestamp{margin-left:4px}.rc-ThreadsListEntry .c-title{margin-bottom:4px}.rc-ThreadsListEntry .c-reply-area{margin-left:16px;}.rc-ThreadsListEntry .c-reply-area .view-count{margin-right:12px}.rc-ThreadsListEntry .question-title-bold{font-weight:bold}.rc-ThreadsListEntry .forum-info{font-weight:bold}.rc-ThreadsListEntry .pin-container{margin:0 13px 0 -51px;z-index:1000;cursor:default}.rc-ThreadsListEntry .pin-background{color:#a07e46}.rc-ThreadsListEntry .pin-icon{margin:10px 0 0 8.5px;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform:rotate(-45deg);color:#fff}.rc-ThreadsListEntry .rc-ThreadBadge{margin:0 12px 0 0}.rc-ThreadsListEntry .entry-snippet{max-height:150px;overflow:hidden}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadsList .c-forum-label-area{margin-top:24px;}.rc-ThreadsList .c-forum-label-area h3.headline-2-text,.rc-ThreadsList .c-forum-label-area p.big{margin-bottom:0}.rc-ThreadsList .c-forum-label-area .c-forum-label-section{padding-bottom:12px;}.rc-ThreadsList .c-forum-label-area .c-forum-label-section .btn-subscribe{margin-left:8px}.rc-ThreadsList .c-forum-description{margin-bottom:32px}.rc-ThreadsList .rc-ListBody{padding:0 16px 16px}.rc-ThreadsList .discussions-sidebar{margin-left:30px}.rc-PaginationControls{margin-top:16px;}.rc-PaginationControls .pagination-controls-container > .box{margin-left:6px;width:100%;}.rc-PaginationControls .pagination-controls-container > .box:first-child{margin-left:0}.rc-PaginationControls button{border:none;background-color:inherit}.rc-ModerationReasons .c-radio-group{list-style-type:none;padding-left:0}.rc-ModerationReasons li{margin:0 0 16px 16px}.rc-ModerationReasons a{text-decoration:underline}.rc-ModerationReasons label{font-weight:normal}.rc-ModerationReasons .c-radio-label{display:inline-block;padding-left:16px}.rc-NotifyOption input{margin-right:16px}.rc-Delete .c-delete-warning{margin-bottom:40px}.rc-FlaggingModal .c-modal-content{min-height:120px;}.rc-FlaggingModal .c-modal-content .modal-text{margin-top:20px;}.rc-FlaggingModal .c-modal-content .modal-text.success{text-align:center;margin-top:24px}.rc-FlaggingModal .c-modal-content .button-container{margin-top:40px;margin-right:12px;}.rc-FlaggingModal .c-modal-content .button-container .never-mind{margin-right:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CopyLink .link-input{padding:0 8px}.rc-CopyLink .box{min-width:250px;border:1px solid rgba(0,0,0,0.1);background-color:#fff;}.rc-CopyLink .box.copied{border:1px solid #2a73cc}.rc-CopyLink .box .link{overflow:hidden;-webkit-border-radius:0;border-radius:0;padding-left:12px;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.rc-CopyLink .clipboard-message{margin-top:8px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-CopyLink .clipboard-message.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-CopyLink .copy-message{margin-top:2px}.rc-ShareModal .rc-CopyLink{margin:40px 0 0 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Dropdown{margin-top:-6px;}.rc-Dropdown ul.styleguide.dropdown{display:block;position:absolute;min-width:132px;margin:0 0 0 -120px;z-index:1000}.rc-Dropdown > button{border:none;background-color:inherit}.c-phoenix-dropdown-container{float:right;margin:-10px -8px 0 0}.c-dropdown-chevron{color:rgba(0,0,0,0.255);font-size:12px;cursor:pointer;}.c-dropdown-chevron:hover{color:rgba(0,0,0,0.45)}.rc-ProfileArea .c-profile-image-wrapper{cursor:pointer}.rc-ProfileArea .rc-ProfileImage{display:inline-block;}.rc-ProfileArea .rc-ProfileImage .c-profile-image{margin:0 4px 0 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-AdminDetails{border:none;}.rc-AdminDetails p{background-color:#f6faff;border:1px solid rgba(0,0,0,0.12);-webkit-border-radius:3px;border-radius:3px;text-align:right;padding:2px 4px;margin-bottom:4px}.rc-Badge{padding:2px 4px;margin:0 0 0 4px;-webkit-border-radius:3px;border-radius:3px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Upvote border-bottom-color $color-hint-text:hover{border-bottom-color:#2775d1}button.rc-Upvote{padding-left:0;}button.rc-Upvote:focus{outline:none}.rc-Follow .follow-number{background-color:#eef7ff;display:inline-block;padding:0 5px}.rc-DetailedQuestion{padding:20px 20px;min-height:120px;}.rc-DetailedQuestion .profile{width:44px;margin-right:8px}.rc-DetailedQuestion > .flex-1{overflow:hidden}.rc-DetailedQuestion .flagged{text-decoration:line-through}.rc-DetailedQuestion .pin{margin-left:2px}.rc-DetailedQuestion .rc-CML{margin:8px 0 20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CalloutBox{padding:12px 32px 32px;}.rc-CalloutBox .callout-box-label{background-color:#a07e46;border-right:4px solid #ece9e3;color:#fff;display:inline-block;line-height:34px;margin:0 0 16px -34px;padding:0 20px 0 32px}.rc-ReplyCML .editor-container{margin-bottom:16px;}.rc-ReplyCML .editor-container .rc-CMLEditor .scribe-editor{min-height:90px}.rc-ReplyCML .editor-container .rc-CMLEditor button{display:block}.rc-ReplyCML .editor-container .rc-CMLEditor .scribe-plugin-placeholder{top:15px;left:22px}.rc-ReplyCML .passive{margin-right:8px}.c-comment-input-container .rc-ReplyCML.collapsed .rc-CMLEditor .scribe-editor{min-height:48px}.c-comment-input-container .rc-ReplyCML.collapsed button{display:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ReplyComponent{position:relative;}.rc-ReplyComponent .reply-content{padding:12px 20px;}.rc-ReplyComponent .reply-content .action-area button,.rc-ReplyComponent .reply-content .metadata button{border:none;background-color:inherit;}.rc-ReplyComponent .reply-content .action-area button:hover,.rc-ReplyComponent .reply-content .metadata button:hover{color:#2a73cc}.rc-ReplyComponent .reply-content .reply-details{padding:0}.rc-ReplyComponent .preview-container{min-width:0}.rc-ReplyComponent .profile{width:44px;margin:0 8px 0 0;padding-right:0}.rc-ReplyComponent .flag{text-decoration:line-through}.rc-ReplyComponent ol .reply-content{padding-left:72px}.rc-ReplyComponent .reply-load-button{margin-right:20px;margin-left:72px}.rc-JumpToReply{margin:3px 10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ReplyContainer{position:relative;}.rc-ReplyContainer .comment-input{margin:20px 20px 0 72px;}.rc-ReplyContainer .comment-input .ListBody{position:initial}.rc-ReplyContainer .comment-input .rc-ProfileArea{width:44px}.rc-ReplyContainer .comment-input .rc-ReplyCML{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-left:14px}.rc-HighlightedReply .highlighted-reply-content{margin-left:-32px;margin-right:-32px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-RepliesSortBar{border-bottom:1px solid rgba(0,0,0,0.06);max-height:68px;padding:0;}.rc-RepliesSortBar .tabs{margin-left:20px;min-width:200px;}.rc-RepliesSortBar .tabs a:active{color:rgba(0,0,0,0.87)}.rc-MoveThreadModal button{margin:16px 0 0 16px}.rc-ThreadSettings{position:relative}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ThreadDetail .back-area{margin-right:8px;}.rc-ThreadDetail .back-area .back-arrow{padding-left:4px;margin-right:4px;margin-bottom:10px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-ThreadDetail .back-area:hover .back-arrow{padding:0 4px 0 0;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-ThreadDetail .discussion-content{margin-top:20px;}.rc-ThreadDetail .discussion-content .frost-container{position:relative}.rc-ThreadDetail .mentor-message{line-height:30px;height:30px;width:100%;background-color:#fff5c3;border:1px solid #f19a0b}.rc-ThreadDetail .metadata{line-height:18px;}.rc-ThreadDetail .metadata .rc-NextViewName{margin-left:4px}.rc-ThreadDetail .action-area button{border:none;background-color:inherit;}.rc-ThreadDetail .action-area button:hover{color:#2a73cc}.rc-ThreadDetail .rc-CML{margin:8px 0 16px}.rc-ThreadDetail .rc-DetailedQuestion{margin-top:20px}.rc-ThreadDetail .rc-HighlightedReply{margin-top:20px}.rc-ThreadDetail .rc-RepliesList{margin-top:20px;padding:0 0 20px 0}.rc-ThreadDetail .reply-container{padding:12px;margin-top:48px;-webkit-border-radius:3px;border-radius:3px;background-color:rgba(0,0,0,0.05);}.rc-ThreadDetail .reply-container .rc-ProfileArea{margin:4px}.rc-ThreadDetail .reply-container .rc-ReplyCML{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.rc-ThreadDetail .rc-ThreadSettings{margin-bottom:10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-DiscussionsSearchResults .back-area{margin:8px 0 10px;display:inline-block;}.rc-DiscussionsSearchResults .back-area .back-label{display:inline-block;margin:0 8px}.rc-DiscussionsSearchResults .back-area .back-arrow{display:inline-block;padding-left:4px;margin-left:8px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out;}.rc-DiscussionsSearchResults .back-area .back-arrow .back-arrow-image{margin-bottom:4px;height:12px;width:12px}.rc-DiscussionsSearchResults .back-area:hover .back-arrow{padding-left:0;padding-right:4px;-webkit-transition:all 0.1s ease-in-out;-moz-transition:all 0.1s ease-in-out;-o-transition:all 0.1s ease-in-out;-ms-transition:all 0.1s ease-in-out;transition:all 0.1s ease-in-out}.rc-DiscussionsSearchResults .results-container .results-metadata{padding:16px 20px;}.rc-DiscussionsSearchResults .results-container .results-metadata .search-course-link{text-decoration:underline}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry{cursor:pointer;border-bottom:1px solid rgba(0,0,0,0.06);list-style-type:none;}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry .c-result-title{margin-bottom:4px;font-weight:bold}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry:hover .c-result-title{text-decoration:underline}.rc-DiscussionsSearchResults .results-container .rc-SearchResultEntry:last-child{border-bottom:none}.rc-DiscussionsSearchResults .rc-ListBody{padding:0 16px 16px}');
